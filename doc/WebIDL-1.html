<!DOCTYPE html>
<html lang="en" dir="ltr" typeof="bibo:Document w3p:REC" prefix="bibo: http://purl.org/ontology/bibo/ w3p: http://www.w3.org/2001/02pd/rec54#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta lang="" property="dc:language" content="en">
  <style>
    /*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/
    
    .hljs {
      display: block;
      overflow-x: auto;
      padding: 0.5em;
      color: #333;
      background: #f8f8f8;
    }
    
    .hljs-comment,
    .hljs-quote {
      color: #998;
      font-style: italic;
    }
    
    .hljs-keyword,
    .hljs-selector-tag,
    .hljs-subst {
      color: #333;
      font-weight: bold;
    }
    
    .hljs-number,
    .hljs-literal,
    .hljs-variable,
    .hljs-template-variable,
    .hljs-tag .hljs-attr {
      color: #008080;
    }
    
    .hljs-string,
    .hljs-doctag {
      color: #d14;
    }
    
    .hljs-title,
    .hljs-section,
    .hljs-selector-id {
      color: #900;
      font-weight: bold;
    }
    
    .hljs-subst {
      font-weight: normal;
    }
    
    .hljs-type,
    .hljs-class .hljs-title {
      color: #458;
      font-weight: bold;
    }
    
    .hljs-tag,
    .hljs-name,
    .hljs-attribute {
      color: #000080;
      font-weight: normal;
    }
    
    .hljs-regexp,
    .hljs-link {
      color: #009926;
    }
    
    .hljs-symbol,
    .hljs-bullet {
      color: #990073;
    }
    
    .hljs-built_in,
    .hljs-builtin-name {
      color: #0086b3;
    }
    
    .hljs-meta {
      color: #999;
      font-weight: bold;
    }
    
    .hljs-deletion {
      background: #fdd;
    }
    
    .hljs-addition {
      background: #dfd;
    }
    
    .hljs-emphasis {
      font-style: italic;
    }
    
    .hljs-strong {
      font-weight: bold;
    }
  </style>
  <style>
    /* --- ISSUES/NOTES --- */
    
    div.issue-title,
    div.note-title,
    div.ednote-title,
    div.warning-title {
      padding-right: 1em;
      min-width: 7.5em;
      color: #b9ab2d;
    }
    
    div.issue-title {
      color: #e05252;
    }
    
    div.note-title,
    div.ednote-title {
      color: #2b2;
    }
    
    div.warning-title {
      color: #f22;
    }
    
    div.issue-title span,
    div.note-title span,
    div.ednote-title span,
    div.warning-title span {
      text-transform: uppercase;
    }
    
    div.note,
    div.issue,
    div.ednote,
    div.warning {
      margin-top: 1em;
      margin-bottom: 1em;
    }
    
    .note>p:first-child,
    .ednote>p:first-child,
    .issue>p:first-child,
    .warning>p:first-child {
      margin-top: 0
    }
    
    .issue,
    .note,
    .ednote,
    .warning {
      padding: .5em;
      border-left-width: .5em;
      border-left-style: solid;
    }
    
    div.issue,
    div.note,
    div.ednote,
    div.warning {
      padding: 1em 1.2em 0.5em;
      margin: 1em 0;
      position: relative;
      clear: both;
    }
    
    span.note,
    span.ednote,
    span.issue,
    span.warning {
      padding: .1em .5em .15em;
    }
    
    .issue {
      border-color: #e05252;
      background: #fbe9e9;
    }
    
    .note,
    .ednote {
      border-color: #52e052;
      background: #e9fbe9;
    }
    
    .warning {
      border-color: #f11;
      border-width: .2em;
      border-style: solid;
      background: #fbe9e9;
    }
    
    .warning-title:before {
      content: "⚠";
      /*U+26A0 WARNING SIGN*/
      font-size: 3em;
      float: left;
      height: 100%;
      padding-right: .3em;
      vertical-align: top;
      margin-top: -0.5em;
    }
    
    li.task-list-item {
      list-style: none;
    }
    
    input.task-list-item-checkbox {
      margin: 0 0.35em 0.25em -1.6em;
      vertical-align: middle;
    }
  </style>
  <style id="respec-mainstyle">
    /*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/
    /* Override code highlighter background */
    
    .hljs {
      background: transparent !important;
    }
    /* --- INLINES --- */
    
    em.rfc2119 {
      text-transform: lowercase;
      font-variant: small-caps;
      font-style: normal;
      color: #900;
    }
    
    h1 acronym,
    h2 acronym,
    h3 acronym,
    h4 acronym,
    h5 acronym,
    h6 acronym,
    a acronym,
    h1 abbr,
    h2 abbr,
    h3 abbr,
    h4 abbr,
    h5 abbr,
    h6 abbr,
    a abbr {
      border: none;
    }
    
    dfn {
      font-weight: bold;
    }
    
    a.internalDFN {
      color: inherit;
      border-bottom: 1px solid #99c;
      text-decoration: none;
    }
    
    a.externalDFN {
      color: inherit;
      border-bottom: 1px dotted #ccc;
      text-decoration: none;
    }
    
    a.bibref {
      text-decoration: none;
    }
    
    cite .bibref {
      font-style: normal;
    }
    
    code {
      color: #C83500;
    }
    
    th code {
      color: inherit;
    }
    /* --- TOC --- */
    
    .toc a,
    .tof a {
      text-decoration: none;
    }
    
    a .secno,
    a .figno {
      color: #000;
    }
    
    ul.tof,
    ol.tof {
      list-style: none outside none;
    }
    
    .caption {
      margin-top: 0.5em;
      font-style: italic;
    }
    /* --- TABLE --- */
    
    table.simple {
      border-spacing: 0;
      border-collapse: collapse;
      border-bottom: 3px solid #005a9c;
    }
    
    .simple th {
      background: #005a9c;
      color: #fff;
      padding: 3px 5px;
      text-align: left;
    }
    
    .simple th[scope="row"] {
      background: inherit;
      color: inherit;
      border-top: 1px solid #ddd;
    }
    
    .simple td {
      padding: 3px 10px;
      border-top: 1px solid #ddd;
    }
    
    .simple tr:nth-child(even) {
      background: #f0f6ff;
    }
    /* --- DL --- */
    
    .section dd>p:first-child {
      margin-top: 0;
    }
    
    .section dd>p:last-child {
      margin-bottom: 0;
    }
    
    .section dd {
      margin-bottom: 1em;
    }
    
    .section dl.attrs dd,
    .section dl.eldef dd {
      margin-bottom: 0;
    }
    
    .respec-hidden {
      display: none;
    }
    
    #respec-ui {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 202px;
      text-align: right;
    }
    
    #respec-pill,
    .respec-info-button {
      background: #fff;
      height: 2.5em;
      color: rgb(120, 120, 120);
      border: 1px solid #ccc;
      box-shadow: 1px 1px 8px 0 rgba(100, 100, 100, .5);
    }
    
    .respec-info-button {
      border: none;
      border-radius: 2em;
      margin-right: 1em;
      min-width: 3.5em;
    }
    
    #respec-pill:disabled {
      margin: 10px auto;
      font-size: 2.8px;
      position: relative;
      text-indent: -9999em;
      border-top: 1.1em solid rgba(40, 40, 40, 0.2);
      border-right: 1.1em solid rgba(40, 40, 40, 0.2);
      border-bottom: 1.1em solid rgba(40, 40, 40, 0.2);
      border-left: 1.1em solid #ffffff;
      transform: translateZ(0);
      animation: respec-spin 1.1s infinite linear;
      box-shadow: none;
    }
    
    #respec-pill:disabled,
    #respec-pill:disabled:after {
      border-radius: 50%;
      width: 10em;
      height: 10em;
    }
    
    @keyframes respec-spin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
    
    #respec-pill:hover,
    #respec-pill:focus {
      color: rgb(0, 0, 0);
      transition: color .2s
    }
    
    #respec-menu {
      font-family: sans-serif;
      background: #fff;
      box-shadow: 1px 1px 8px 0 rgba(100, 100, 100, .5);
      width: 200px;
      display: none;
      text-align: left;
      margin-top: 5px;
      font-size: .8em;
    }
    
    .respec-save-button {
      background: #fff;
      border: 1px solid #000;
      border-radius: 5px;
      padding: 5px;
      margin: 5px;
      display: block;
      width: 100%;
      color: #000;
      text-decoration: none;
      text-align: center;
      font-size: inherit;
    }
    
    #respec-ui button:focus,
    #respec-pill:focus,
    .respec-option:focus {
      outline: 0;
      outline-style: none;
    }
    
    #respec-ui button.respec-pill-error {
      background-color: red;
      color: white;
    }
    
    #respec-ui button.respec-pill-warning {
      background-color: orange;
      color: white;
    }
    
    #respec-menu button.respec-option {
      background: white;
      border: none;
      width: 100%;
      text-align: left;
      font-size: inherit;
      padding: 1.2em 1.2em;
    }
    
    #respec-menu button.respec-option:hover {
      background-color: #eeeeee;
    }
    
    .respec-cmd-icon {
      padding-right: .5em;
    }
    
    #respec-ui button.respec-option:last-child {
      border: none;
      border-radius: inherit;
    }
    
    @media print {
      .removeOnSave {
        display: none;
      }
    }
  </style>
  <title>WebIDL Level 1</title>
  <link rel="stylesheet" href="WebIDL-1.css" type="text/css">

  <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-REC">
  <!--[if lt IE 9]><script src='https://www.w3.org/2008/site/js/html5shiv.js'></script><![endif]-->
  <link rel="canonical" href="https://www.w3.org/TR/WebIDL-1/">
  <meta name="generator" content="ReSpec 6.1.5">
</head>

<body class="h-entry" role="document" id="respecDocument">
  <div class="head" role="contentinfo" id="respecHeader">
    <p>
      <a class="logo" href="https://www.w3.org/"><img width="72" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C"></a>
    </p>
    <h1 class="title p-name" id="title" property="dcterms:title">WebIDL Level 1</h1>
    <h2 id="w3c-recommendation-15-december-2016"><abbr title="World Wide Web Consortium">W3C</abbr> Recommendation <time property="dcterms:issued" class="dt-published" datetime="2016-12-15">15 December 2016</time></h2>
    <dl>
      <dt>This version:</dt>
      <dd><a class="u-url" href="https://www.w3.org/TR/2016/REC-WebIDL-1-20161215/">https://www.w3.org/TR/2016/REC-WebIDL-1-20161215/</a></dd>
      <dt>Latest published version:</dt>
      <dd><a href="https://www.w3.org/TR/WebIDL-1/">https://www.w3.org/TR/WebIDL-1/</a></dd>
      <dt>Latest editor's draft:</dt>
      <dd><a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a></dd>
      <dt>Implementation report:</dt>
      <dd><a href="https://www.w3.org/WebPlatform/WG/implementations/webidl-1/report/all.html">https://www.w3.org/WebPlatform/WG/implementations/webidl-1/report/all.html</a></dd>
      <dt>Previous version:</dt>
      <dd><a rel="dcterms:replaces" href="https://www.w3.org/TR/2016/PR-WebIDL-1-20160915/">https://www.w3.org/TR/2016/PR-WebIDL-1-20160915/</a></dd>
      <dt>Editors:</dt>
      <dd class="p-author h-card vcard" property="bibo:editor" resource="_:editor0"><span property="rdf:first" typeof="foaf:Person"><meta property="foaf:name" content="Cameron McCormack"><a class="u-url url p-name fn" property="foaf:homepage" href="http://mcc.id.au/">Cameron McCormack</a>, Mozilla Corporation, <span class="ed_mailto"><a class="u-email email" property="foaf:mbox" href="mailto:cam@mcc.id.au">cam@mcc.id.au</a></span></span>
        <span property="rdf:rest" resource="_:editor1"></span>
      </dd>
      <dt>Level 1 Editors:</dt>
      <dd class="p-author h-card vcard" resource="_:editor2"><span property="rdf:first" typeof="foaf:Person"><span property="foaf:name" class="p-name fn">Yves Lafon</span>, W3C, <span class="ed_mailto"><a class="u-email email" property="foaf:mbox" href="mailto:ylafon@w3.org">ylafon@w3.org</a></span></span><span property="rdf:rest" resource="rdf:nil"></span></dd>
      <dd class="p-author h-card vcard" resource="_:editor3"><span property="rdf:first" typeof="foaf:Person"><span property="foaf:name" class="p-name fn">Travis Leithead</span>, Microsoft Corp., <span class="ed_mailto"><a class="u-email email" property="foaf:mbox" href="mailto:travis.leithead@microsoft.com">travis.leithead@microsoft.com</a></span></span><span property="rdf:rest" resource="rdf:nil"></span></dd>

      <dt>Participate:</dt>
      <dd>
        <a href="https://github.com/heycam/webidl">
                      We are on Github.
                    </a>
      </dd>
      <dd>
        <a href="https://github.com/heycam/webidl/issues">
                      File a bug.
                    </a>
      </dd>
      <dd>
        <a href="https://github.com/heycam/webidl/commits/gh-pages">
                      Commit history.
                    </a>
      </dd>
      <dd>
        <a href="http://lists.w3.org/Archives/Public/public-script-coord/">
                      Mailing list.
                    </a>
      </dd>
    </dl>
    <p>
      Please check the <a href="https://www.w3.org/2016/12/webidl/l1-errata.html"><strong>errata</strong></a> for any errors or issues reported since publication.
    </p>
    <p>
      The English version of this specification is the only normative version. Non-normative
      <a href="https://www.w3.org/2003/03/Translations/byTechnology?technology=https://www.w3.org/TR/WebIDL-1/">translations</a> may also be available.
    </p>
    <p class="copyright">
      <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016

      <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
      <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
      <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
      <abbr title="World Wide Web Consortium">W3C</abbr> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
      <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
      <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules apply.
    </p>
    <hr title="Separator for header">
  </div>

  <section id="abstract" class="introductory" property="dc:abstract">
    <h2 id="h-abstract" resource="#h-abstract"><span property="xhv:role" resource="xhv:heading">Abstract</span></h2>

    <p>
      This document defines an interface definition language, Web IDL, that can be used to describe interfaces that are intended to be implemented in web browsers. Web IDL is an IDL variant with a number of features that allow the behavior of common script objects in the web platform to be specified more readily. How interfaces described with Web IDL correspond to constructs within ECMAScript execution environments is also detailed in this document. It is expected that newly published specifications reference this document to ensure conforming implementations of interfaces are interoperable.
    </p>

  </section>

  <section id="sotd" class="introductory">
    <h2 id="h-sotd" resource="#h-sotd"><span property="xhv:role" resource="xhv:heading">Status of This Document</span></h2>
    <p>
      <em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at https://www.w3.org/TR/.</em>
    </p>



    <p>
      This is the "Level 1" Version of WebIDL, it contains parts of the main Editor's copy [<cite><a class="bibref" href="#bib-WEBIDL">WEBIDL</a></cite>] that are considered stable, implemented and tested. Implementors who do not need to reference a stable version of WebIDL should defer to the Editor's copy [<cite><a class="bibref" href="#bib-WEBIDL">WEBIDL</a></cite>] only, as it may contain updated algorithm and definitions; this specification is suitable for reference by other specification authors in so far as it wholly contains the syntax definitions used in the citing document. New syntax definitions will be added in the next Level of WebIDL.
    </p>
    <p>It is important to note that parts of this specification highlight future changes. Some features might become deprecated and new features will be added. Readers of this specification should also read the <a href="https://heycam.github.io/webidl/">Editor's Copy</a> and subsequent Levels of this specification to ensure that what they use is still matching implementations.</p>

    <p>
      This document is produced by the
      <a href="https://www.w3.org/WebPlatform/WG/">Web Platform Working Group</a> in the <abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Interaction/">Interaction Domain</a>. Changes made to this document can be found in the specification’s commit log on GitHub:
      <a href="https://github.com/heycam/webidl/commits/gh-pages/index.xml">recent changes</a>,
      <a href="https://github.com/heycam/webidl/commits/gh-pages/Overview.xml">older changes</a>.
    </p>
    <p>
      <!--In addition to the issues marked by editorial notes in this document,-->
      There is a <a href="https://github.com/heycam/webidl/issues">bug tracker</a> for the specification, but look at the <a href="https://heycam.github.io/webidl/">Editor's copy</a> to ensure that possible bugs are not yet addressed.
    </p>


    <p>
      This document was published by the <a href="http://www.w3.org/WebPlatform/WG/">Web Platform Working Group</a> as a Recommendation. If you wish to make comments regarding this document, please send them to
      <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a> (<a href="mailto:public-script-coord-request@w3.org?subject=subscribe">subscribe</a>,
      <a href="https://lists.w3.org/Archives/Public/public-script-coord/">archives</a>). All comments are welcome.
    </p>
    <p>
      Please see the Working Group's <a href="https://www.w3.org/WebPlatform/WG/implementations/webidl-1/report/all.html">implementation
              report</a>.
    </p>
    <p>
      This document has been reviewed by <abbr title="World Wide Web Consortium">W3C</abbr> Members, by software developers, and by other <abbr title="World Wide Web Consortium">W3C</abbr> groups and interested parties, and is endorsed by the Director as a <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation. It is a stable document and may be used as reference material or cited from another document. <abbr title="World Wide Web Consortium">W3C</abbr>'s role in making the Recommendation is to draw attention to the specification and to promote its widespread deployment. This enhances the functionality and interoperability of the Web.
    </p>
    <p>
      This document was produced by a group operating under the
      <a id="sotd_patent" property="w3p:patentRules" href="https://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent
              Policy</a>.
      <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/2004/01/pp-impl/83482/status" rel="disclosure">public list of any patent
                disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains
      <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
              Claim(s)</a> must disclose the information in accordance with
      <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
              6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
    </p>
    <p>This document is governed by the <a id="w3c_process_revision" href="https://www.w3.org/2015/Process-20150901/">1 September 2015 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
    </p>

  </section>



  <nav id="toc">
    <h2 class="introductory" id="table-of-contents" resource="#table-of-contents"><span property="xhv:role" resource="xhv:heading">Table of Contents</span></h2>
    <ol class="toc" role="directory">
      <li class="tocline"><a href="#introduction" class="tocxref"><span class="secno">1. </span>Introduction</a>
        <ol class="toc">
          <li class="tocline"><a href="#conventions" class="tocxref"><span class="secno">1.1 </span>Typographic conventions</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="#conformance" class="tocxref"><span class="secno">2. </span>Conformance</a></li>
      <li class="tocline"><a href="#idl" class="tocxref"><span class="secno">3. </span>Interface definition language</a>
        <ol class="toc">
          <li class="tocline"><a href="#idl-names" class="tocxref"><span class="secno">3.1 </span>Names</a></li>
          <li class="tocline"><a href="#idl-interfaces" class="tocxref"><span class="secno">3.2 </span>Interfaces</a>
            <ol class="toc">
              <li class="tocline"><a href="#idl-constants" class="tocxref"><span class="secno">3.2.1 </span>Constants</a></li>
              <li class="tocline"><a href="#idl-attributes" class="tocxref"><span class="secno">3.2.2 </span>Attributes</a></li>
              <li class="tocline"><a href="#idl-operations" class="tocxref"><span class="secno">3.2.3 </span>Operations</a></li>
              <li class="tocline"><a href="#idl-special-operations" class="tocxref"><span class="secno">3.2.4 </span>Special operations</a>
                <ol class="toc">
                  <li class="tocline"><a href="#idl-legacy-callers" class="tocxref"><span class="secno">3.2.4.1 </span>Legacy callers</a></li>
                  <li class="tocline"><a href="#idl-stringifiers" class="tocxref"><span class="secno">3.2.4.2 </span>Stringifiers</a></li>
                  <li class="tocline"><a href="#idl-serializers" class="tocxref"><span class="secno">3.2.4.3 </span>Serializers</a></li>
                  <li class="tocline"><a href="#idl-indexed-properties" class="tocxref"><span class="secno">3.2.4.4 </span>Indexed properties</a></li>
                  <li class="tocline"><a href="#idl-named-properties" class="tocxref"><span class="secno">3.2.4.5 </span>Named properties</a></li>
                </ol>
              </li>
              <li class="tocline"><a href="#idl-static-attributes-and-operations" class="tocxref"><span class="secno">3.2.5 </span>Static attributes and operations</a></li>
              <li class="tocline"><a href="#idl-overloading" class="tocxref"><span class="secno">3.2.6 </span>Overloading</a></li>
              <li class="tocline"><a href="#idl-iterable" class="tocxref"><span class="secno">3.2.7 </span>Iterable declarations</a></li>
            </ol>
          </li>
          <li class="tocline"><a href="#idl-dictionaries" class="tocxref"><span class="secno">3.3 </span>Dictionaries</a></li>
          <li class="tocline"><a href="#idl-exceptions" class="tocxref"><span class="secno">3.4 </span>Exceptions</a>
            <ol class="toc">
              <li class="tocline"><a href="#idl-DOMException-error-names" class="tocxref"><span class="secno">3.4.1 </span>Error names</a></li>
            </ol>
          </li>
          <li class="tocline"><a href="#idl-enums" class="tocxref"><span class="secno">3.5 </span>Enumerations</a></li>
          <li class="tocline"><a href="#idl-callback-functions" class="tocxref"><span class="secno">3.6 </span>Callback functions</a></li>
          <li class="tocline"><a href="#idl-typedefs" class="tocxref"><span class="secno">3.7 </span>Typedefs</a></li>
          <li class="tocline"><a href="#idl-implements-statements" class="tocxref"><span class="secno">3.8 </span>Implements statements</a></li>
          <li class="tocline"><a href="#idl-objects" class="tocxref"><span class="secno">3.9 </span>Objects implementing interfaces</a></li>
          <li class="tocline"><a href="#idl-types" class="tocxref"><span class="secno">3.10 </span>Types</a>
            <ol class="toc">
              <li class="tocline"><a href="#idl-any" class="tocxref"><span class="secno">3.10.1 </span>any</a></li>
              <li class="tocline"><a href="#idl-boolean" class="tocxref"><span class="secno">3.10.2 </span>boolean</a></li>
              <li class="tocline"><a href="#idl-byte" class="tocxref"><span class="secno">3.10.3 </span>byte</a></li>
              <li class="tocline"><a href="#idl-octet" class="tocxref"><span class="secno">3.10.4 </span>octet</a></li>
              <li class="tocline"><a href="#idl-short" class="tocxref"><span class="secno">3.10.5 </span>short</a></li>
              <li class="tocline"><a href="#idl-unsigned-short" class="tocxref"><span class="secno">3.10.6 </span>unsigned short</a></li>
              <li class="tocline"><a href="#idl-long" class="tocxref"><span class="secno">3.10.7 </span>long</a></li>
              <li class="tocline"><a href="#idl-unsigned-long" class="tocxref"><span class="secno">3.10.8 </span>unsigned long</a></li>
              <li class="tocline"><a href="#idl-long-long" class="tocxref"><span class="secno">3.10.9 </span>long long</a></li>
              <li class="tocline"><a href="#idl-unsigned-long-long" class="tocxref"><span class="secno">3.10.10 </span>unsigned long long</a></li>
              <li class="tocline"><a href="#idl-float" class="tocxref"><span class="secno">3.10.11 </span>float</a></li>
              <li class="tocline"><a href="#idl-unrestricted-float" class="tocxref"><span class="secno">3.10.12 </span>unrestricted float</a></li>
              <li class="tocline"><a href="#idl-double" class="tocxref"><span class="secno">3.10.13 </span>double</a></li>
              <li class="tocline"><a href="#idl-unrestricted-double" class="tocxref"><span class="secno">3.10.14 </span>unrestricted double</a></li>
              <li class="tocline"><a href="#idl-DOMString" class="tocxref"><span class="secno">3.10.15 </span>DOMString</a></li>
              <li class="tocline"><a href="#idl-ByteString" class="tocxref"><span class="secno">3.10.16 </span>ByteString</a></li>
              <li class="tocline"><a href="#idl-USVString" class="tocxref"><span class="secno">3.10.17 </span>USVString</a></li>
              <li class="tocline"><a href="#idl-object" class="tocxref"><span class="secno">3.10.18 </span>object</a></li>
              <li class="tocline"><a href="#idl-interface" class="tocxref"><span class="secno">3.10.19 </span>Interface types</a></li>
              <li class="tocline"><a href="#idl-dictionary" class="tocxref"><span class="secno">3.10.20 </span>Dictionary types</a></li>
              <li class="tocline"><a href="#idl-enumeration" class="tocxref"><span class="secno">3.10.21 </span>Enumeration types</a></li>
              <li class="tocline"><a href="#idl-callback-function" class="tocxref"><span class="secno">3.10.22 </span>Callback function types</a></li>
              <li class="tocline"><a href="#idl-nullable-type" class="tocxref"><span class="secno">3.10.23 </span>Nullable types — <var>T</var>?</a></li>
              <li class="tocline"><a href="#idl-sequence" class="tocxref"><span class="secno">3.10.24 </span>Sequences — sequence&lt;<var>T</var>&gt;</a></li>
              <li class="tocline"><a href="#idl-promise" class="tocxref"><span class="secno">3.10.25 </span>Promise types — Promise&lt;<var>T</var>&gt;</a></li>
              <li class="tocline"><a href="#idl-union" class="tocxref"><span class="secno">3.10.26 </span>Union types</a></li>
              <li class="tocline"><a href="#idl-Error" class="tocxref"><span class="secno">3.10.27 </span>Error</a></li>
              <li class="tocline"><a href="#idl-DOMException" class="tocxref"><span class="secno">3.10.28 </span>DOMException</a></li>
              <li class="tocline"><a href="#idl-buffer-source-types" class="tocxref"><span class="secno">3.10.29 </span>Buffer source types</a></li>
            </ol>
          </li>
          <li class="tocline"><a href="#idl-extended-attributes" class="tocxref"><span class="secno">3.11 </span>Extended attributes</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="#ecmascript-binding" class="tocxref"><span class="secno">4. </span>ECMAScript binding</a>
        <ol class="toc">
          <li class="tocline"><a href="#es-environment" class="tocxref"><span class="secno">4.1 </span>ECMAScript environment</a></li>
          <li class="tocline"><a href="#es-type-mapping" class="tocxref"><span class="secno">4.2 </span>ECMAScript type mapping</a>
            <ol class="toc">
              <li class="tocline"><a href="#es-any" class="tocxref"><span class="secno">4.2.1 </span>any</a></li>
              <li class="tocline"><a href="#es-void" class="tocxref"><span class="secno">4.2.2 </span>void</a></li>
              <li class="tocline"><a href="#es-boolean" class="tocxref"><span class="secno">4.2.3 </span>boolean</a></li>
              <li class="tocline"><a href="#es-byte" class="tocxref"><span class="secno">4.2.4 </span>byte</a></li>
              <li class="tocline"><a href="#es-octet" class="tocxref"><span class="secno">4.2.5 </span>octet</a></li>
              <li class="tocline"><a href="#es-short" class="tocxref"><span class="secno">4.2.6 </span>short</a></li>
              <li class="tocline"><a href="#es-unsigned-short" class="tocxref"><span class="secno">4.2.7 </span>unsigned short</a></li>
              <li class="tocline"><a href="#es-long" class="tocxref"><span class="secno">4.2.8 </span>long</a></li>
              <li class="tocline"><a href="#es-unsigned-long" class="tocxref"><span class="secno">4.2.9 </span>unsigned long</a></li>
              <li class="tocline"><a href="#es-long-long" class="tocxref"><span class="secno">4.2.10 </span>long long</a></li>
              <li class="tocline"><a href="#es-unsigned-long-long" class="tocxref"><span class="secno">4.2.11 </span>unsigned long long</a></li>
              <li class="tocline"><a href="#es-float" class="tocxref"><span class="secno">4.2.12 </span>float</a></li>
              <li class="tocline"><a href="#es-unrestricted-float" class="tocxref"><span class="secno">4.2.13 </span>unrestricted float</a></li>
              <li class="tocline"><a href="#es-double" class="tocxref"><span class="secno">4.2.14 </span>double</a></li>
              <li class="tocline"><a href="#es-unrestricted-double" class="tocxref"><span class="secno">4.2.15 </span>unrestricted double</a></li>
              <li class="tocline"><a href="#es-DOMString" class="tocxref"><span class="secno">4.2.16 </span>DOMString</a></li>
              <li class="tocline"><a href="#es-ByteString" class="tocxref"><span class="secno">4.2.17 </span>ByteString</a></li>
              <li class="tocline"><a href="#es-USVString" class="tocxref"><span class="secno">4.2.18 </span>USVString</a></li>
              <li class="tocline"><a href="#es-object" class="tocxref"><span class="secno">4.2.19 </span>object</a></li>
              <li class="tocline"><a href="#es-interface" class="tocxref"><span class="secno">4.2.20 </span>Interface types</a></li>
              <li class="tocline"><a href="#es-dictionary" class="tocxref"><span class="secno">4.2.21 </span>Dictionary types</a></li>
              <li class="tocline"><a href="#es-enumeration" class="tocxref"><span class="secno">4.2.22 </span>Enumeration types</a></li>
              <li class="tocline"><a href="#es-callback-function" class="tocxref"><span class="secno">4.2.23 </span>Callback function types</a></li>
              <li class="tocline"><a href="#es-nullable-type" class="tocxref"><span class="secno">4.2.24 </span>Nullable types — <var>T</var>?</a></li>
              <li class="tocline"><a href="#es-sequence" class="tocxref"><span class="secno">4.2.25 </span>Sequences — sequence&lt;<var>T</var>&gt;</a>
                <ol class="toc">
                  <li class="tocline"><a href="#create-sequence-from-iterable" class="tocxref"><span class="secno">4.2.25.1 </span>Creating a sequence from an iterable</a></li>
                </ol>
              </li>
              <li class="tocline"><a href="#es-promise" class="tocxref"><span class="secno">4.2.26 </span>Promise types —&nbsp;Promise&lt;<var>T</var>&gt;</a></li>
              <li class="tocline"><a href="#es-union" class="tocxref"><span class="secno">4.2.27 </span>Union types</a></li>
              <li class="tocline"><a href="#es-Error" class="tocxref"><span class="secno">4.2.28 </span>Error</a></li>
              <li class="tocline"><a href="#es-DOMException" class="tocxref"><span class="secno">4.2.29 </span>DOMException</a></li>
              <li class="tocline"><a href="#es-buffer-source-types" class="tocxref"><span class="secno">4.2.30 </span>Buffer source types</a></li>
            </ol>
          </li>
          <li class="tocline"><a href="#es-extended-attributes" class="tocxref"><span class="secno">4.3 </span>ECMAScript-specific extended attributes</a>
            <ol class="toc">
              <li class="tocline"><a href="#Clamp" class="tocxref"><span class="secno">4.3.1 </span>[Clamp]</a></li>
              <li class="tocline"><a href="#Constructor" class="tocxref"><span class="secno">4.3.2 </span>[Constructor]</a></li>
              <li class="tocline"><a href="#EnforceRange" class="tocxref"><span class="secno">4.3.3 </span>[EnforceRange]</a></li>
              <li class="tocline"><a href="#Exposed" class="tocxref"><span class="secno">4.3.4 </span>[Exposed]</a></li>
              <li class="tocline"><a href="#PrimaryGlobal" class="tocxref"><span class="secno">4.3.5 </span>[Global] and [PrimaryGlobal]</a></li>
              <li class="tocline"><a href="#LenientThis" class="tocxref"><span class="secno">4.3.6 </span>[LenientThis]</a></li>
              <li class="tocline"><a href="#NamedConstructor" class="tocxref"><span class="secno">4.3.7 </span>[NamedConstructor]</a></li>
              <li class="tocline"><a href="#NewObject" class="tocxref"><span class="secno">4.3.8 </span>[NewObject]</a></li>
              <li class="tocline"><a href="#NoInterfaceObject" class="tocxref"><span class="secno">4.3.9 </span>[NoInterfaceObject]</a></li>
              <li class="tocline"><a href="#OverrideBuiltins" class="tocxref"><span class="secno">4.3.10 </span>[OverrideBuiltins]</a></li>
              <li class="tocline"><a href="#PutForwards" class="tocxref"><span class="secno">4.3.11 </span>[PutForwards]</a></li>
              <li class="tocline"><a href="#Replaceable" class="tocxref"><span class="secno">4.3.12 </span>[Replaceable]</a></li>
              <li class="tocline"><a href="#SameObject" class="tocxref"><span class="secno">4.3.13 </span>[SameObject]</a></li>
              <li class="tocline"><a href="#TreatNonObjectAsNull" class="tocxref"><span class="secno">4.3.14 </span>[TreatNonObjectAsNull]</a></li>
              <li class="tocline"><a href="#TreatNullAs" class="tocxref"><span class="secno">4.3.15 </span>[TreatNullAs]</a></li>
              <li class="tocline"><a href="#Unforgeable" class="tocxref"><span class="secno">4.3.16 </span>[Unforgeable]</a></li>
            </ol>
          </li>
          <li class="tocline"><a href="#es-security" class="tocxref"><span class="secno">4.4 </span>Security</a></li>
          <li class="tocline"><a href="#es-overloads" class="tocxref"><span class="secno">4.5 </span>Overload resolution algorithm</a></li>
          <li class="tocline"><a href="#es-interfaces" class="tocxref"><span class="secno">4.6 </span>Interfaces</a>
            <ol class="toc">
              <li class="tocline"><a href="#interface-object" class="tocxref"><span class="secno">4.6.1 </span>Interface object</a>
                <ol class="toc">
                  <li class="tocline"><a href="#es-interface-call" class="tocxref"><span class="secno">4.6.1.1 </span>Interface object [[Call]] method</a></li>
                  <li class="tocline"><a href="#es-interface-hasinstance" class="tocxref"><span class="secno">4.6.1.2 </span>Interface object [[HasInstance]] method</a></li>
                </ol>
              </li>
              <li class="tocline"><a href="#named-constructors" class="tocxref"><span class="secno">4.6.2 </span>Named constructors</a></li>
              <li class="tocline"><a href="#es-dictionary-constructors" class="tocxref"><span class="secno">4.6.3 </span>Dictionary constructors</a></li>
              <li class="tocline"><a href="#interface-prototype-object" class="tocxref"><span class="secno">4.6.4 </span>Interface prototype object</a></li>
              <li class="tocline"><a href="#named-properties-object" class="tocxref"><span class="secno">4.6.5 </span>Named properties object</a>
                <ol class="toc">
                  <li class="tocline"><a href="#named-properties-object-getownproperty" class="tocxref"><span class="secno">4.6.5.1 </span>Named properties object [[GetOwnProperty]] method</a></li>
                  <li class="tocline"><a href="#named-properties-object-defineownproperty" class="tocxref"><span class="secno">4.6.5.2 </span>Named properties object [[DefineOwnProperty]] method</a></li>
                  <li class="tocline"><a href="#named-properties-object-delete" class="tocxref"><span class="secno">4.6.5.3 </span>Named properties object [[Delete]] method</a></li>
                </ol>
              </li>
              <li class="tocline"><a href="#es-constants" class="tocxref"><span class="secno">4.6.6 </span>Constants</a></li>
              <li class="tocline"><a href="#es-attributes" class="tocxref"><span class="secno">4.6.7 </span>Attributes</a></li>
              <li class="tocline"><a href="#es-operations" class="tocxref"><span class="secno">4.6.8 </span>Operations</a>
                <ol class="toc">
                  <li class="tocline"><a href="#es-stringifier" class="tocxref"><span class="secno">4.6.8.1 </span>Stringifiers</a></li>
                  <li class="tocline"><a href="#es-serializer" class="tocxref"><span class="secno">4.6.8.2 </span>Serializers</a></li>
                </ol>
              </li>
              <li class="tocline"><a href="#es-iterators" class="tocxref"><span class="secno">4.6.9 </span>Common iterator behavior</a>
                <ol class="toc">
                  <li class="tocline"><a href="#es-iterator" class="tocxref"><span class="secno">4.6.9.1 </span>@@iterator</a></li>
                  <li class="tocline"><a href="#es-forEach" class="tocxref"><span class="secno">4.6.9.2 </span>forEach</a></li>
                </ol>
              </li>
              <li class="tocline"><a href="#es-iterable" class="tocxref"><span class="secno">4.6.10 </span>Iterable declarations</a>
                <ol class="toc">
                  <li class="tocline"><a href="#es-iterable-entries" class="tocxref"><span class="secno">4.6.10.1 </span>entries</a></li>
                  <li class="tocline"><a href="#es-iterable-keys" class="tocxref"><span class="secno">4.6.10.2 </span>keys</a></li>
                  <li class="tocline"><a href="#es-iterable-values" class="tocxref"><span class="secno">4.6.10.3 </span>values</a></li>
                  <li class="tocline"><a href="#es-default-iterator-object" class="tocxref"><span class="secno">4.6.10.4 </span>Default iterator objects</a></li>
                  <li class="tocline"><a href="#es-iterator-prototype-object" class="tocxref"><span class="secno">4.6.10.5 </span>Iterator prototype object</a></li>
                </ol>
              </li>
              <li class="tocline"><a href="#initializing-objects-from-iterables" class="tocxref"><span class="secno">4.6.11 </span>Initializing objects from iterables</a></li>
            </ol>
          </li>
          <li class="tocline"><a href="#es-implements-statements" class="tocxref"><span class="secno">4.7 </span>Implements statements</a></li>
          <li class="tocline"><a href="#es-platform-objects" class="tocxref"><span class="secno">4.8 </span>Platform objects implementing interfaces</a>
            <ol class="toc">
              <li class="tocline"><a href="#indexed-and-named-properties" class="tocxref"><span class="secno">4.8.1 </span>Indexed and named properties</a></li>
              <li class="tocline"><a href="#getownproperty-guts" class="tocxref"><span class="secno">4.8.2 </span>The PlatformObjectGetOwnProperty abstract operation</a></li>
              <li class="tocline"><a href="#getownproperty" class="tocxref"><span class="secno">4.8.3 </span>Platform object [[GetOwnProperty]] method</a></li>
              <li class="tocline"><a href="#invoking-indexed-setter" class="tocxref"><span class="secno">4.8.4 </span>Invoking a platform object indexed property setter</a></li>
              <li class="tocline"><a href="#invoking-named-setter" class="tocxref"><span class="secno">4.8.5 </span>Invoking a platform object named property setter</a></li>
              <li class="tocline"><a href="#platformobjectset" class="tocxref"><span class="secno">4.8.6 </span>Platform object [[Set]] method</a></li>
              <li class="tocline"><a href="#defineownproperty" class="tocxref"><span class="secno">4.8.7 </span>Platform object [[DefineOwnProperty]] method</a></li>
              <li class="tocline"><a href="#delete" class="tocxref"><span class="secno">4.8.8 </span>Platform object [[Delete]] method</a></li>
              <li class="tocline"><a href="#call" class="tocxref"><span class="secno">4.8.9 </span>Platform object [[Call]] method</a></li>
              <li class="tocline"><a href="#property-enumeration" class="tocxref"><span class="secno">4.8.10 </span>Property enumeration</a></li>
            </ol>
          </li>
          <li class="tocline"><a href="#es-user-objects" class="tocxref"><span class="secno">4.9 </span>User objects implementing callback interfaces</a></li>
          <li class="tocline"><a href="#es-invoking-callback-functions" class="tocxref"><span class="secno">4.10 </span>Invoking callback functions</a></li>
          <li class="tocline"><a href="#es-exceptions" class="tocxref"><span class="secno">4.11 </span>Exceptions</a>
            <ol class="toc">
              <li class="tocline"><a href="#es-DOMException-constructor-object" class="tocxref"><span class="secno">4.11.1 </span>DOMException constructor object</a>
                <ol class="toc">
                  <li class="tocline"><a href="#es-DOMException-call" class="tocxref"><span class="secno">4.11.1.1 </span>DOMException(message, name)</a></li>
                </ol>
              </li>
              <li class="tocline"><a href="#es-DOMException-prototype-object" class="tocxref"><span class="secno">4.11.2 </span>DOMException prototype object</a></li>
            </ol>
          </li>
          <li class="tocline"><a href="#es-exception-objects" class="tocxref"><span class="secno">4.12 </span>Exception objects</a></li>
          <li class="tocline"><a href="#es-creating-throwing-exceptions" class="tocxref"><span class="secno">4.13 </span>Creating and throwing exceptions</a></li>
          <li class="tocline"><a href="#es-handling-exceptions" class="tocxref"><span class="secno">4.14 </span>Handling exceptions</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="#common" class="tocxref"><span class="secno">5. </span>Common definitions</a>
        <ol class="toc">
          <li class="tocline"><a href="#common-ArrayBufferView" class="tocxref"><span class="secno">5.1 </span>ArrayBufferView</a></li>
          <li class="tocline"><a href="#common-BufferSource" class="tocxref"><span class="secno">5.2 </span>BufferSource</a></li>
          <li class="tocline"><a href="#common-DOMTimeStamp" class="tocxref"><span class="secno">5.3 </span>DOMTimeStamp</a></li>
          <li class="tocline"><a href="#common-Function" class="tocxref"><span class="secno">5.4 </span>Function</a></li>
          <li class="tocline"><a href="#common-VoidFunction" class="tocxref"><span class="secno">5.5 </span>VoidFunction</a></li>
        </ol>
      </li>
      <li class="tocline"><a href="#extensibility" class="tocxref"><span class="secno">6. </span>Extensibility</a></li>
      <li class="tocline"><a href="#referencing" class="tocxref"><span class="secno">7. </span>Referencing this specification</a></li>
      <li class="tocline"><a href="#acknowledgements" class="tocxref"><span class="secno">8. </span>Acknowledgements</a></li>
      <li class="tocline"><a href="#idl-grammar" class="tocxref"><span class="secno">A. </span>IDL grammar</a></li>
      <li class="tocline"><a href="#references" class="tocxref"><span class="secno">B. </span>References</a>
        <ol class="toc">
          <li class="tocline"><a href="#normative-references" class="tocxref"><span class="secno">B.1 </span>Normative references</a></li>
          <li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">B.2 </span>Informative references</a></li>
        </ol>
      </li>
    </ol>
  </nav>


  <section id="introduction" typeof="bibo:Chapter" resource="#introduction" property="bibo:hasPart">
    <!--OddPage-->
    <h2 id="h-introduction" resource="#h-introduction"><span property="xhv:role" resource="xhv:heading"><span class="secno">1. </span>Introduction</span></h2>

    <p class="norm">This section is informative.</p>

    <p>
      Technical reports published by the <abbr title="World Wide Web Consortium">W3C</abbr> that include programming language interfaces have typically been described using the Object Management Group’s Interface Definition Language (IDL) [
      <cite><a class="bibref" href="#bib-OMGIDL">OMGIDL</a></cite>]. The IDL provides a means to describe these interfaces in a language independent manner. Usually, additional language binding appendices are included in such documents which detail how the interfaces described with the IDL correspond to constructs in the given language.
    </p>
    <p>
      However, the bindings in these specifications for the language most commonly used on the web, ECMAScript, are consistently specified with low enough precision as to result in interoperability issues. In addition, each specification must describe the same basic information, such as DOM interfaces described in IDL corresponding to properties on the ECMAScript global object, or the <a class="idltype" href="#idl-unsigned-long">unsigned
            long</a> IDL type mapping to the <span class="estype">Number</span> type in ECMAScript.
    </p>
    <p>
      This specification defines an IDL language similar to OMG IDL for use by specifications that define interfaces for Web APIs. A number of extensions are given to the IDL to support common functionality that previously must have been written in prose. In addition, precise language bindings for ECMAScript Edition 6 are given.
    </p>

    <section id="conventions" typeof="bibo:Chapter" resource="#conventions" property="bibo:hasPart">
      <h3 id="h-conventions" resource="#h-conventions"><span property="xhv:role" resource="xhv:heading"><span class="secno">1.1 </span>Typographic conventions</span></h3>

      <p>
        The following typographic conventions are used in this document:
      </p>
      <ul>
        <li>Defining instances of terms: <dfn id="dfn-example-term" data-dfn-type="dfn">example term</dfn></li>
        <li>Links to terms defined in this document: <a class="dfnref" href="#dfn-example-term">example term</a></li>
        <li>Links to terms defined in other documents: <a class="dfnref external" href="#dfn-example-term">example term</a></li>
        <li>Grammar symbols: <span class="sym">ExampleGrammarSymbol</span></li>
        <li>IDL and ECMAScript types: <span class="idltype">ExampleType</span></li>
        <li>Code snippets: <code>a = b + obj.f()</code></li>
        <li>Unicode characters: <span class="char">U+0030 DIGIT ZERO ("0")</span></li>
        <li>Extended attributes: <span class="xattr">[ExampleExtendedAttribute]</span></li>
        <li>Variable names in prose and algorithms: <var>exampleVariableName</var>.</li>
        <li>IDL informal syntax examples:
          <pre class="syntax hljs xquery">interface <i>identifier</i> {
  <em>interface-members…</em>
};</pre> (Red text is used to highlight specific parts of the syntax discussed in surrounding prose.)</li>
        <li>IDL grammar snippets:
          <table class="grammar">
            <tbody>
              <tr>
                <td><span class="prod-number">[5]</span></td>
                <td><span class="sym">ExampleGrammarSymbol</span></td>
                <td class="prod-mid">→</td>
                <td><span class="prod-lines">OtherSymbol "sometoken"<br>&nbsp;| AnotherSymbol<br>&nbsp;| ε&nbsp;&nbsp;<span class="comment">// nothing</span></span>
                </td>
              </tr>
            </tbody>
          </table>
          (Each grammar rule is assigned a number for reference, shown on the left.)</li>
        <li>Non-normative notes:
          <div class="note">
            <div class="note-title marker" aria-level="4" role="heading" id="h-note1"><span>Note</span></div>
            <div class="">
              <p>This is a note.</p>
            </div>
          </div>
        </li>
        <li>Non-normative examples:
          <div class="example">
            <div class="exampleHeader">Example</div>
            <p>This is an example.</p>
          </div>
        </li>
        <li>Normative warnings:
          <div class="warning">
            <div class="warning-title marker"><span>Warning</span></div>
            <div class="">
              <p>This is a warning.</p>
            </div>
          </div>
        </li>
        <li>Code blocks:
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code"><span class="comment"><span class="hljs-comment">// This is an IDL code block.</span></span>
interface Example {
  attribute long something;
};</code></pre></div>
          </div>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="comment"><span class="hljs-comment">// This is an ECMAScript code block.</span></span>
<span class="hljs-built_in">window</span>.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-built_in">window</span>.alert(<span class="hljs-string">"loaded"</span>); };</code></pre></div>
          </div>
        </li>
      </ul>
    </section>
  </section>

  <section id="conformance" typeof="bibo:Chapter" resource="#conformance" property="bibo:hasPart">
    <!--OddPage-->
    <h2 id="h-conformance" resource="#h-conformance"><span property="xhv:role" resource="xhv:heading"><span class="secno">2. </span>Conformance</span></h2>
    <p>
      As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.
    </p>
    <p id="respecRFC2119">The key words <em class="rfc2119" title="MAY">MAY</em>, <em class="rfc2119" title="MUST">MUST</em>, <em class="rfc2119" title="MUST NOT">MUST NOT</em>, <em class="rfc2119" title="REQUIRED">REQUIRED</em>, <em class="rfc2119" title="SHALL">SHALL</em>, <em class="rfc2119" title="SHOULD">SHOULD</em>, and <em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em> are to be interpreted as described in [<cite><a class="bibref" href="#bib-RFC2119">RFC2119</a></cite>].
    </p>





    <p>
      The following conformance classes are defined by this specification:
    </p>
    <dl>
      <dt><dfn id="dfn-conforming-set-of-idl-fragments" data-dfn-type="dfn">conforming set of IDL fragments</dfn></dt>
      <dd>
        <p>
          A set of <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a> is considered to be a <a class="dfnref" href="#dfn-conforming-set-of-idl-fragments">conforming
                set of IDL fragments</a> if, taken together, they satisfy all of the
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>-,
          <span class="rfc2119"><em class="rfc2119" title="REQUIRED">REQUIRED</em></span>- and <span class="rfc2119"><em class="rfc2119" title="SHALL">SHALL</em></span>-level criteria in this specification that apply to IDL fragments.
        </p>
      </dd>
      <dt><dfn id="dfn-conforming-implementation" data-dfn-type="dfn">conforming implementation</dfn></dt>
      <dd>
        <p>
          A user agent is considered to be a
          <a class="dfnref" href="#dfn-conforming-implementation">conforming implementation</a> relative to a <a class="dfnref" href="#dfn-conforming-set-of-idl-fragments">conforming
                set of IDL fragments</a> if it satisfies all of the <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>-,
          <span class="rfc2119"><em class="rfc2119" title="REQUIRED">REQUIRED</em></span>- and <span class="rfc2119"><em class="rfc2119" title="SHALL">SHALL</em></span>-level criteria in this specification that apply to implementations for all language bindings that the user agent supports.
        </p>
      </dd>
      <dt><dfn id="dfn-conforming-ecmascript-implementation" data-dfn-type="dfn">conforming ECMAScript implementation</dfn></dt>
      <dd>
        <p>
          A user agent is considered to be a
          <a class="dfnref" href="#dfn-conforming-ecmascript-implementation">conforming ECMAScript implementation</a> relative to a <a class="dfnref" href="#dfn-conforming-set-of-idl-fragments">conforming
                set of IDL fragments</a> if it satisfies all of the <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>-,
          <span class="rfc2119"><em class="rfc2119" title="REQUIRED">REQUIRED</em></span>- and <span class="rfc2119"><em class="rfc2119" title="SHALL">SHALL</em></span>-level criteria in this specification that apply to implementations for the ECMAScript language binding.
        </p>
      </dd>
    </dl>
  </section>

  <section id="idl" typeof="bibo:Chapter" resource="#idl" property="bibo:hasPart">
    <!--OddPage-->
    <h2 id="h-idl" resource="#h-idl"><span property="xhv:role" resource="xhv:heading"><span class="secno">3. </span>Interface definition language</span></h2>

    <p>
      This section describes a language, <em>Web IDL</em>, which can be used to define interfaces for APIs in the Web platform. A specification that defines Web APIs can include one or more <dfn id="dfn-idl-fragment" data-dfn-type="dfn">IDL fragments</dfn> that describe the interfaces (the state and behavior that objects can exhibit) for the APIs defined by that specification. An <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> is a sequence of definitions that matches the <a class="sym" href="#prod-Definitions">Definitions</a> grammar symbol. The set of <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a> that an implementation supports is not ordered. See <a href="#idl-grammar">Appendix </a><a href="#idl-grammar">A. </a> for the complete grammar and an explanation of the notation used.
    </p>

    <p>
      The different kinds of <dfn id="dfn-definition" data-dfn-type="dfn">definitions</dfn> that can appear in an
      <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> are:
      <a class="dfnref" href="#dfn-interface">interfaces</a>,
      <a class="dfnref" href="#dfn-partial-interface">partial interface definitions</a>,
      <a class="dfnref" href="#dfn-dictionary">dictionaries</a>,
      <a class="dfnref" href="#dfn-partial-dictionary">partial dictionary definitions</a>,
      <a class="dfnref" href="#dfn-typedef">typedefs</a> and
      <a class="dfnref" href="#dfn-implements-statement">implements statements</a>. These are all defined in the following sections.
    </p>

    <p>
      Each <a class="dfnref" href="#dfn-definition">definition</a> (matching <a class="sym" href="#prod-Definition">Definition</a>) can be preceded by a list of <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> (matching
      <a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a>), which can control how the definition will be handled in language bindings. The extended attributes defined by this specification that are language binding agnostic are discussed in <a href="#idl-extended-attributes">section </a><a href="#idl-extended-attributes">3.11 </a>, while those specific to the ECMAScript language binding are discussed in <a href="#es-extended-attributes">section </a><a href="#es-extended-attributes">4.3 </a>.
    </p>

    <pre class="syntax hljs xquery">[<em>extended-attributes</em>]
interface <i>identifier</i> {
  <i>interface-members…</i>
};</pre>

    <table class="grammar">
      <tbody>
        <tr id="proddef-Definitions">
          <td><span class="prod-number">[1]</span></td>
          <td><a class="sym" href="#prod-Definitions">Definitions</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-Definition">Definition</a> <a class="sym" href="#prod-Definitions">Definitions</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="proddef-Definition">
          <td><span class="prod-number">[2]</span></td>
          <td><a class="sym" href="#prod-Definition">Definition</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-CallbackOrInterface">CallbackOrInterface</a> <br>&nbsp;|
             <a class="sym" href="#prod-Partial">Partial</a> <br>&nbsp;|
             <a class="sym" href="#prod-Dictionary">Dictionary</a> <br>&nbsp;|
             <a class="sym" href="#prod-Enum">Enum</a> <br>&nbsp;|
             <a class="sym" href="#prod-Typedef">Typedef</a> <br>&nbsp;|
             <a class="sym" href="#prod-ImplementsStatement">ImplementsStatement</a></span></td>
        </tr>
        <tr id="proddef-CallbackOrInterface">
          <td><span class="prod-number">[3]</span></td>
          <td><a class="sym" href="#prod-CallbackOrInterface">CallbackOrInterface</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"callback" <a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a> <br>&nbsp;|
             <a class="sym" href="#prod-Interface">Interface</a></span></td>
        </tr>
      </tbody>
    </table>

    <div class="example">
      <div class="exampleHeader">Example</div>
      <p>
        The following is an example of an <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>.
      </p>
      <div class="block">
        <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
        <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Paint { };

interface SolidColor : Paint {
  attribute double red;
  attribute double green;
  attribute double blue;
};

interface Pattern : Paint {
  attribute DOMString imageURL;
};

[Constructor]
interface GraphicalWindow {
  readonly attribute unsigned long width;
  readonly attribute unsigned long height;

  attribute Paint currentPaint;

  void drawRectangle(double x, double y, double width, double height);

  void drawText(double x, double y, DOMString text);
};</code></pre></div>
      </div>
      <p>
        Here, four <a class="dfnref" href="#dfn-interface">interfaces</a> are being defined. The <span class="idltype">GraphicalWindow</span> interface has two
        <a class="dfnref" href="#dfn-read-only">read only</a> <a class="dfnref" href="#dfn-attribute">attributes</a>, one writable attribute, and two <a class="dfnref" href="#dfn-operation">operations</a> defined on it. Objects that implement the <span class="idltype">GraphicalWindow</span> interface will expose these attributes and operations in a manner appropriate to the particular language being used.
      </p>
      <p>
        In ECMAScript, the attributes on the IDL interfaces will be exposed as accessor properties and the operations as <span class="estype">Function</span>-valued data properties on a prototype object for all <span class="idltype">GraphicalWindow</span> objects; each ECMAScript object that implements <span class="idltype">GraphicalWindow</span> will have that prototype object in its prototype chain.
      </p>
      <!--JAVA
          <p>
            In Java, there will exist a Java interface that corresponds to the IDL
            <span class='idltype'>GraphicalWindow</span> interface.  This Java interface
            will have methods that correspond to the operations, and getter and setter
            methods that correspond to the attributes.  Java objects that are considered
            to implement the IDL <span class='idltype'>GraphicalWindow</span> interface
            will implement the corresponding Java interface.
          </p>
          -->
      <p>
        The <a class="xattr" href="#Constructor">[Constructor]</a> that appears on <span class="idltype">GraphicalWindow</span> is an <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>. This extended attribute causes a constructor to exist in ECMAScript implementations, so that calling <code>new GraphicalWindow()</code> would return a new object that implemented the interface.
        <!--JAVA The <a class='xattr' href='#Constructor'>[Constructor]</a>
            extended attribute has no effect in the Java language binding, however.-->
      </p>
    </div>

    <section id="idl-names" typeof="bibo:Chapter" resource="#idl-names" property="bibo:hasPart">
      <h3 id="h-idl-names" resource="#h-idl-names"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.1 </span>Names</span></h3>

      <p>
        Every <a class="dfnref" href="#dfn-interface">interface</a>,
        <a class="dfnref" href="#dfn-partial-interface">partial interface definition</a>,
        <a class="dfnref" href="#dfn-dictionary">dictionary</a>,
        <a class="dfnref" href="#dfn-partial-dictionary">partial dictionary definition</a>,
        <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
        <a class="dfnref" href="#dfn-callback-function">callback function</a> and
        <a class="dfnref" href="#dfn-typedef">typedef</a> (together called <dfn id="dfn-named-definition" data-dfn-type="dfn">named definitions</dfn>) and every <a class="dfnref" href="#dfn-constant">constant</a>,
        <a class="dfnref" href="#dfn-attribute">attribute</a>, and <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> has an
        <dfn id="dfn-identifier" data-dfn-type="dfn">identifier</dfn>, as do some
        <a class="dfnref" href="#dfn-operation">operations</a>. The identifier is determined by an
        <a class="sym" href="#prod-identifier">identifier</a> token somewhere in the declaration:
      </p>
      <ul>
        <li>
          For <a class="dfnref" href="#dfn-named-definition">named definitions</a>, the <a class="sym" href="#prod-identifier">identifier</a> token that appears directly after the <code>interface</code>,
          <code>dictionary</code>, <code>enum</code> or <code>callback</code> keyword determines the identifier of that definition.
          <pre class="syntax hljs xquery">interface <em>interface-identifier</em> { <i>interface-members…</i> };
partial interface <em>interface-identifier</em> { <i>interface-members…</i> };
dictionary <em>dictionary-identifier</em> { <i>dictionary-members…</i> };
partial dictionary <em>dictionary-identifier</em> { <i>dictionary-members…</i> };
enum <em>enumeration-identifier</em> { <i>enumeration-values…</i> };
callback <em>callback-identifier</em> = <i>callback-signature</i>;</pre>
        </li>
        <li>
          For <a class="dfnref" href="#dfn-attribute">attributes</a>,
          <a class="dfnref" href="#dfn-typedef">typedefs</a> and <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a>, the final <a class="sym" href="#prod-identifier">identifier</a> token before the semicolon at the end of the declaration determines the identifier.
          <pre class="syntax hljs xquery">interface <i>identifier</i> {
  attribute <i>type</i> <em>attribute-identifier</em>;
};

typedef <i>type</i> <em>typedef-identifier</em>;

dictionary <i>identifier</i> {
  <i>type</i> <em>dictionary-member-identifier</em>;
};</pre>
        </li>
        <li>
          For <a class="dfnref" href="#dfn-constant">constants</a>, the <a class="sym" href="#prod-identifier">identifier</a> token before the equals sign determines the identifier.
          <pre class="syntax hljs javascript"><span class="hljs-keyword">const</span> <i>type</i> <em>constant-identifier</em> = <i>value</i>;</pre>
        </li>
        <li>
          For <a class="dfnref" href="#dfn-operation">operations</a>, the
          <a class="sym" href="#prod-identifier">identifier</a> token that appears after the return type but before the opening parenthesis (that is, one that is matched as part of the <a class="sym" href="#prod-OptionalIdentifier">OptionalIdentifier</a> grammar symbol in an <a class="sym" href="#prod-OperationRest">OperationRest</a>) determines the identifier of the operation. If there is no such <a class="sym" href="#prod-identifier">identifier</a> token, then the operation does not have an identifier.
          <pre class="syntax hljs javascript"><i><span class="hljs-keyword">return</span>-type</i> <em>operation-identifier</em>(<i><span class="hljs-built_in">arguments</span>…</i>);</pre>
        </li>
      </ul>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note2"><span>Note</span></div>
        <div class="">
          <p>
            Operations can have no identifier when they are being used to declare a
            <a href="#idl-special-operations">special kind of operation</a>, such as a getter or setter.
          </p>
        </div>
      </div>
      <p>
        For all of these constructs, the <a class="dfnref" href="#dfn-identifier">identifier</a> is the value of the <a class="sym" href="#prod-identifier">identifier</a> token with any leading
        <span class="char">U+005F LOW LINE ("_")</span> character (underscore) removed.
      </p>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note3"><span>Note</span></div>
        <div class="">
          <p>
            A leading <span class="char">"_"</span> is used to escape an identifier from looking like a reserved word so that, for example, an interface named “interface” can be defined. The leading <span class="char">"_"</span> is dropped to unescape the identifier.
          </p>
        </div>
      </div>
      <p>
        Operation arguments can take a slightly wider set of identifiers. In an operation declaration, the identifier of an argument is specified immediately after its type and is given by either an <a class="sym" href="#prod-identifier">identifier</a> token or by one of the keywords that match the <a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a> symbol. If one of these keywords is used, it need not be escaped with a leading underscore.
      </p>
      <pre class="syntax hljs javascript"><i><span class="hljs-keyword">return</span>-type</i> <i>operation-identifier</i>(<i>argument-type</i> <em>argument-identifier</em>, …);</pre>
      <table class="grammar">
        <tbody>
          <tr id="proddef-ArgumentNameKeyword">
            <td><span class="prod-number">[71]</span></td>
            <td><a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">
              "attribute" <br>&nbsp;|
             "callback" <br>&nbsp;|
             "const" <br>&nbsp;|
             "deleter" <br>&nbsp;|
             "dictionary"
            <br>&nbsp;|
             "enum" <br>&nbsp;|
             "getter" <br>&nbsp;|
             "implements" <br>&nbsp;|
             "inherit" <br>&nbsp;|
             "interface" <br>&nbsp;|
             "iterable"
            <br>&nbsp;|
             "legacycaller" <br>&nbsp;|
             "partial" <br>&nbsp;|
             "required" <br>&nbsp;|
             "serializer" <br>&nbsp;|
             "setter" <br>&nbsp;|
             "static" <br>&nbsp;|
             "stringifier" <br>&nbsp;|
             "typedef"
            <br>&nbsp;|
             "unrestricted"
          </span></td>
          </tr>
        </tbody>
      </table>
      <p>
        If an <a class="sym" href="#prod-identifier">identifier</a> token is used, then the
        <a class="dfnref" href="#dfn-identifier">identifier</a> of the operation argument is the value of that token with any leading
        <span class="char">U+005F LOW LINE ("_")</span> character (underscore) removed. If instead one of the <a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a> keyword token is used, then the <a class="dfnref" href="#dfn-identifier">identifier</a> of the operation argument is simply that token.
      </p>
      <p>
        The <a class="dfnref" href="#dfn-identifier">identifier</a> of any of the abovementioned IDL constructs <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be “constructor”, “toString”, “toJSON”, or begin with a <span class="char">U+005F LOW LINE ("_")</span> character. These are known as <dfn id="dfn-reserved-identifier" data-dfn-type="dfn">reserved identifiers</dfn>.
      </p>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note4"><span>Note</span></div>
        <div class="">
          <p>Further restrictions on identifier names for particular constructs may be made in later sections.</p>
        </div>
      </div>
      <p>
        Within the set of <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a> that a given implementation supports, the <a class="dfnref" href="#dfn-identifier">identifier</a> of every
        <a class="dfnref" href="#dfn-interface">interface</a>,
        <a class="dfnref" href="#dfn-dictionary">dictionary</a>,
        <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
        <a class="dfnref" href="#dfn-callback-function">callback function</a> and
        <a class="dfnref" href="#dfn-typedef">typedef</a>
        <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be the same as the identifier of any other
        <a class="dfnref" href="#dfn-interface">interface</a>,
        <a class="dfnref" href="#dfn-dictionary">dictionary</a>,
        <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
        <a class="dfnref" href="#dfn-callback-function">callback function</a> or
        <a class="dfnref" href="#dfn-typedef">typedef</a>.
      </p>
      <p>
        Within an <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>, a reference to a <a class="dfnref" href="#dfn-definition">definition</a> need not appear after the declaration of the referenced definition. References can also be made across <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a>.
      </p>
      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>Therefore, the following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> is valid:</p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
          <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface B : A {
  void f(SequenceOfLongs x);
};

interface A {
};

typedef sequence&lt;long&gt; SequenceOfLongs;</code></pre></div>
        </div>
      </div>

      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>
          The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> demonstrates how <a class="dfnref" href="#dfn-identifier">identifiers</a> are given to definitions and <a class="dfnref" href="#dfn-interface-member">interface members</a>.
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code"><span class="comment"><span class="hljs-comment">// Typedef identifier: "number"</span></span>
typedef double number;

<span class="comment"><span class="hljs-comment">// Interface identifier: "System"</span></span>
interface System {

  <span class="comment"><span class="hljs-comment">// Operation identifier:          "createObject"</span></span>
  <span class="comment"><span class="hljs-comment">// Operation argument identifier: "interface"</span></span>
  object createObject(DOMString _interface);

  <span class="comment"><span class="hljs-comment">// Operation argument identifier: "interface"</span></span>
  sequence&lt;object&gt; getObjects(DOMString interface);

  <span class="comment"><span class="hljs-comment">// Operation has no identifier; it declares a getter.</span></span>
  getter DOMString (DOMString keyName);
};

<span class="comment"><span class="hljs-comment">// Interface identifier: "TextField"</span></span>
interface TextField {

  <span class="comment"><span class="hljs-comment">// Attribute identifier: "const"</span></span>
  attribute boolean _const;

  <span class="comment"><span class="hljs-comment">// Attribute identifier: "value"</span></span>
  attribute DOMString? _value;
};</code></pre></div>
        </div>
        <p>
          Note that while the second <a class="dfnref" href="#dfn-attribute">attribute</a> on the <span class="idltype">TextField</span> <a class="dfnref" href="#dfn-interface">interface</a> need not have been escaped with an underscore (because “value” is not a keyword in the IDL grammar), it is still unescaped to obtain the attribute’s <a class="dfnref" href="#dfn-identifier">identifier</a>.
        </p>
      </div>
    </section>

    <section id="idl-interfaces" typeof="bibo:Chapter" resource="#idl-interfaces" property="bibo:hasPart">
      <h3 id="h-idl-interfaces" resource="#h-idl-interfaces"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2 </span>Interfaces</span></h3>

      <p>
        <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a> are used to describe object oriented systems. In such systems, objects are entities that have identity and which are encapsulations of state and behavior. An <dfn id="dfn-interface" data-dfn-type="dfn">interface</dfn> is a definition (matching
        <a class="sym" href="#prod-Interface">Interface</a> or
        <span class="sym">"callback"</span> <a class="sym" href="#prod-Interface">Interface</a>) that declares some state and behavior that an object implementing that interface will expose.
      </p>
      <pre class="syntax hljs xquery">interface <i>identifier</i> {
  <i>interface-members…</i>
};</pre>
      <p>
        An interface is a specification of a set of
        <dfn id="dfn-interface-member" data-dfn-type="dfn">interface members</dfn> (matching <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a>), which are the <a class="dfnref" href="#dfn-constant">constants</a>,
        <a class="dfnref" href="#dfn-attribute">attributes</a>,
        <a class="dfnref" href="#dfn-operation">operations</a> and other declarations that appear between the braces in the interface declaration. Attributes describe the state that an object implementing the interface will expose, and operations describe the behaviors that can be invoked on the object. Constants declare named constant values that are exposed as a convenience to users of objects in the system.
      </p>
      <p>
        Interfaces in Web IDL describe how objects that implement the interface behave. In bindings for object oriented languages, it is expected that an object that implements a particular IDL interface provides ways to inspect and modify the object's state and to invoke the behavior described by the interface.
      </p>
      <!--JAVA
          <div class='note'>
            <p>
              In the Java language binding, for example, this is achieved by having the
              object implement a Java interface that has methods for reading and
              writing attribute values and to invoke an operation.
            </p>
          </div>
          -->
      <p>
        An interface can be defined to <dfn id="dfn-inherit" data-dfn-type="dfn">inherit</dfn> from another interface. If the identifier of the interface is followed by a
        <span class="char">U+003A COLON (":")</span> character and an <a class="dfnref" href="#dfn-identifier">identifier</a>, then that identifier identifies the inherited interface. An object that implements an interface that inherits from another also implements that inherited interface. The object therefore will also have members that correspond to the interface members from the inherited interface.
      </p>
      <pre class="syntax hljs javascript">interface <i>identifier</i> : <em>identifier-<span class="hljs-keyword">of</span>-inherited-interface</em> {
  <i>interface-members…</i>
};</pre>
      <p>
        The order that members appear in has no significance except in the case of <a href="#idl-overloading">overloading</a>.
      </p>
      <p>
        Interfaces may specify an interface member that has the same name as one from an inherited interface. Objects that implement the derived interface will expose the member on the derived interface. It is language binding specific whether the overridden member can be accessed on the object.
      </p>
      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>
          Consider the following two interfaces.
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface A {
  <span class="hljs-keyword">void</span> f();
  <span class="hljs-keyword">void</span> g();
};

interface B : A {
  <span class="hljs-keyword">void</span> f();
  <span class="hljs-keyword">void</span> g(DOMString x);
};</code></pre></div>
        </div>
        <p>
          In the ECMAScript language binding, an instance of <span class="idltype">B</span> will have a prototype chain that looks like the following:
        </p>
        <pre class="hljs css">  <span class="hljs-selector-attr">[Object.prototype: the Object prototype object]</span>
       ↑
  <span class="hljs-selector-attr">[A.prototype: interface prototype object for A]</span>
       ↑
  <span class="hljs-selector-attr">[B.prototype: interface prototype object for B]</span>
       ↑
  <span class="hljs-selector-attr">[instanceOfB]</span></pre>
        <p>
          Calling <code>instanceOfB.f()</code> in ECMAScript will invoke the f defined on <span class="idltype">B</span>. However, the f from <span class="idltype">A</span> can still be invoked on an object that implements <span class="idltype">B</span> by calling <code>A.prototype.f.call(instanceOfB)</code>.
        </p>
        <!--JAVA
            <p>
              In the Java language binding, the two IDL interfaces will correspond to
              the following Java interfaces:
            </p>
            <x:codeblock language='java'>public interface A {
  void f();
  void g();
}

public interface B extends A {
  void f();
  void g(String x);
}</x:codeblock>
            <p>
              Calling <code>instanceOfB.f()</code> in Java will invoke
              the f defined on <span class='idltype'>B</span>.  Due to
              the way method overriding is defined in Java, there is no
              way to call the f defined on <span class='idltype'>A</span>
              on an object that implements <span class='idltype'>B</span>.
              Since the signature of g is different in <span class='idltype'>A</span>
              and <span class='idltype'>B</span>, however, both can be called
              with, for example, <code>instanceOfB.g()</code> and
              <code>instanceOfB.g("")</code>.
            </p>
            <p>
              In both languages, the f and g from the derived interface
              <span class='idltype'>B</span> are always accessible.
            </p>
            -->
      </div>
      <p>
        The <dfn id="dfn-inherited-interfaces" data-dfn-type="dfn">inherited interfaces</dfn> of a given interface <var>A</var> is the set of all interfaces that <var>A</var> inherits from, directly or indirectly. If <var>A</var> does not <a class="dfnref" href="#dfn-inherit">inherit</a> from another interface, then the set is empty. Otherwise, the set includes the interface <var>B</var> that <var>A</var> <a class="dfnref" href="#dfn-inherit">inherits</a> from and all of <var>B</var>’s <a class="dfnref" href="#dfn-inherited-interfaces">inherited interfaces</a>.
      </p>
      <p>
        An interface <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be declared such that its inheritance hierarchy has a cycle. That is, an interface
        <var>A</var> cannot inherit from itself, nor can it inherit from another interface <var>B</var> that inherits from <var>A</var>, and so on.
      </p>
      <p>
        Note that general multiple inheritance of interfaces is not supported, and objects also cannot implement arbitrary sets of interfaces. Objects can be defined to implement a single given interface <var>A</var>, which means that it also implements all of <var>A</var>’s
        <a class="dfnref" href="#dfn-inherited-interfaces">inherited interfaces</a>. In addition, an <a href="#idl-implements-statements">implements statement</a> can be used to define that objects implementing an interface will always also implement another interface.
      </p>
      <p>
        Each interface member can be preceded by a list of <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> (matching
        <a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a>), which can control how the interface member will be handled in language bindings.
      </p>
      <pre class="syntax hljs javascript">interface <i>identifier</i> {

  [<em>extended-attributes</em>]
  <span class="hljs-keyword">const</span> <i>type</i> <i>identifier</i> = <i>value</i>;

  [<em>extended-attributes</em>]
  attribute <i>type</i> <i>identifier</i>;

  [<em>extended-attributes</em>]
  <i><span class="hljs-keyword">return</span>-type</i> <i>identifier</i>(<i><span class="hljs-built_in">arguments</span>…</i>);
};</pre>

      <p>
        A <dfn id="dfn-callback-interface" data-dfn-type="dfn">callback interface</dfn> is an <a class="dfnref" href="#dfn-interface">interface</a> that uses the <code>callback</code> keyword at the start of its definition. Callback interfaces are ones that can be implemented by <a class="dfnref" href="#dfn-user-object">user objects</a> and not by <a class="dfnref" href="#dfn-platform-object">platform objects</a>, as described in <a href="#idl-objects">section </a><a href="#idl-objects">3.9 </a> .
      </p>
      <pre class="syntax hljs xquery">callback interface <i>identifier</i> {
  <i>interface-members…</i>
};</pre>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note5"><span>Note</span></div>
        <div class="">
          <p>See also the similarly named <a class="dfnref" href="#dfn-callback-function">callback function</a> definition.</p>
        </div>
      </div>
      <p>
        <a class="dfnref" href="#dfn-callback-interface">Callback interfaces</a>
        <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> <a class="dfnref" href="#dfn-inherit">inherit</a> from any non-callback interfaces, and non-callback interfaces <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> inherit from any callback interfaces. Callback interfaces <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> have any
        <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>.
      </p>
      <p>
        <a class="dfnref" href="#dfn-static-attribute">Static attributes</a> and
        <a class="dfnref" href="#dfn-static-operation">static operations</a> <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be defined on a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.
      </p>
      <div class="warning">
        <div class="warning-title marker"><span>Warning</span></div>
        <div class="">
          <p>
            Specification authors <span class="rfc2119"><em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em></span> define
            <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a> that have only a single <a class="dfnref" href="#dfn-operation">operation</a>, unless required to describe the requirements of existing APIs. Instead, a <a class="dfnref" href="#dfn-callback-function">callback function</a> <span class="rfc2119"><em class="rfc2119" title="SHOULD">SHOULD</em></span> be used.
          </p>
          <p>
            The definition of <span class="idltype">EventListener</span> as a
            <a class="dfnref" href="#dfn-callback-interface">callback interface</a> is an example of an existing API that needs to allow
            <a class="dfnref" href="#dfn-user-object">user objects</a> with a given property (in this case “handleEvent”) to be considered to implement the interface. For new APIs, and those for which there are no compatibility concerns, using a <a class="dfnref" href="#dfn-callback-function">callback function</a> will allow only a <span class="estype">Function</span> object (in the ECMAScript language binding).
          </p>
        </div>
      </div>



      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note6"><span>Note</span></div>
        <div class="">
          <p>
            Specification authors wanting to define APIs that take ECMAScript objects as “property bag” like function arguments are suggested to use
            <a href="#idl-dictionaries">dictionary types</a> rather than
            <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.
          </p>
          <p>
            For example, instead of this:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">callback interface Options {
  attribute DOMString? option1;
  attribute DOMString? option2;
  attribute long? option3;
};

interface A {
  void doTask(DOMString type, Options options);
};</code></pre></div>
          </div>
          <p>
            to be used like this:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> a = getA();  <span class="comment"><span class="hljs-comment">// Get an instance of A.</span></span>

a.doTask(<span class="hljs-string">"something"</span>, { option1: <span class="hljs-string">"banana"</span>, option3: <span class="hljs-number">100</span> });</code></pre></div>
          </div>
          <p>
            instead write the following:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">dictionary Options {
  DOMString? option1;
  DOMString? option2;
  long? option3;
};

interface A {
  void doTask(DOMString type, Options options);
};</code></pre></div>
          </div>
        </div>
      </div>

      <p>
        The IDL for interfaces can be split into multiple parts by using
        <dfn id="dfn-partial-interface" data-dfn-type="dfn">partial interface</dfn> definitions (matching <span class="sym">"partial"</span> <a class="sym" href="#prod-PartialInterface">PartialInterface</a>). The <a class="dfnref" href="#dfn-identifier">identifier</a> of a partial interface definition <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the same as the identifier of an interface definition. All of the members that appear on each of the partial interfaces are considered to be members of the interface itself.
      </p>
      <pre class="syntax hljs xquery">interface <em>SomeInterface</em> {
  <i>interface-members…</i>
};

partial interface <em>SomeInterface</em> {
  <i>interface-members…</i>
};</pre>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note7"><span>Note</span></div>
        <div class="">
          <p>Partial interface definitions are intended for use as a specification editorial aide, allowing the definition of an interface to be separated over more than one section of the document, and sometimes multiple documents.</p>
        </div>
      </div>
      <p>
        The order of appearance of an <a class="dfnref" href="#dfn-interface">interface</a> definition and any of its <a class="dfnref" href="#dfn-partial-interface">partial interface</a> definitions does not matter.
      </p>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note8"><span>Note</span></div>
        <div class="">
          <p>A partial interface definition cannot specify that the interface
            <a class="dfnref" href="#dfn-inherit">inherits</a> from another interface. Inheritance must be specified on the original <a class="dfnref" href="#dfn-interface">interface</a> definition.
          </p>
        </div>
      </div>
      <p>
        <a class="dfnref" href="#dfn-extended-attribute">Extended attributes</a> can be specified on
        <a class="dfnref" href="#dfn-partial-interface">partial interface</a> definitions, with some limitations. The following extended attributes <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be specified on partial interface definitions:
        <a class="xattr" href="#Constructor">[Constructor]</a>,
        <!--JAVA
            <a class='xattr' href='#JavaPackage'>[JavaPackage]</a>,
            -->
        <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>,
        <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>.
      </p>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note9"><span>Note</span></div>
        <div class="">
          <p>The above list of <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> is all of those defined in this document that are applicable to
            <a class="dfnref" href="#dfn-interface">interfaces</a> except for
            <a class="xattr" href="#Exposed">[Exposed]</a>,
            <a class="xattr" href="#Global">[Global]</a>,
            <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>,
            <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> and
            <a class="xattr" href="#Unforgeable">[Unforgeable]</a>.</p>
        </div>
      </div>
      <p>
        Any <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> specified on a <a class="dfnref" href="#dfn-partial-interface">partial interface</a> definition is considered to appear on the <a class="dfnref" href="#dfn-interface">interface</a> itself.
      </p>
      <p>
        The relevant language binding determines how interfaces correspond to constructs in the language.
      </p>
      <!--
          <p>
            An <dfn id='dfn-interface-forward-declaration'>interface forward declaration</dfn>
            is a definition that matches the <a class='sym' href='#prod-Interface'>Interface</a> non-terminal
            whose <a class='sym' href='#prod-InterfaceBody'>InterfaceBody</a> is empty
            (that is, <a class='sym' href='#prod-InterfaceBody'>InterfaceBody</a> ⇒ ε).  A forward declaration
            is used to introduce an interface name to allow for the definition of mutually
            recursive interfaces, since scoped names
            need to resolve to types that have been
            <a class='dfnref' href='#dfn-declared-previously'>declared previously</a>.
          </p>
          -->

      <p>
        The following extended attributes are applicable to interfaces:
        <a class="xattr" href="#Constructor">[Constructor]</a>,
        <a class="xattr" href="#Exposed">[Exposed]</a>,
        <a class="xattr" href="#Global">[Global]</a>,
        <!--JAVA
            <a class='xattr' href='#JavaPackage'>[JavaPackage]</a>,
            -->
        <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>,
        <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>,
        <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>.
        <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>,
        <a class="xattr" href="#Unforgeable">[Unforgeable]</a>.
      </p>

      <table class="grammar">
        <tbody>
          <tr>
            <td><span class="prod-number">[3]</span></td>
            <td><a class="sym" href="#prod-CallbackOrInterface">CallbackOrInterface</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"callback" <a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a> <br>&nbsp;|
             <a class="sym" href="#prod-Interface">Interface</a></span></td>
          </tr>
          <tr id="proddef-CallbackRestOrInterface">
            <td><span class="prod-number">[4]</span></td>
            <td><a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-CallbackRest">CallbackRest</a> <br>&nbsp;|
             <a class="sym" href="#prod-Interface">Interface</a></span></td>
          </tr>
          <tr id="proddef-Interface">
            <td><span class="prod-number">[5]</span></td>
            <td><a class="sym" href="#prod-Interface">Interface</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"interface" <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Inheritance">Inheritance</a> "{" <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> "}" ";"</span></td>
          </tr>
          <tr id="proddef-Partial">
            <td><span class="prod-number">[6]</span></td>
            <td><a class="sym" href="#prod-Partial">Partial</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"partial" <a class="sym" href="#prod-PartialDefinition">PartialDefinition</a></span></td>
          </tr>
          <tr id="proddef-PartialDefinition">
            <td><span class="prod-number">[7]</span></td>
            <td><a class="sym" href="#prod-PartialDefinition">PartialDefinition</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PartialInterface">PartialInterface</a> <br>&nbsp;|
             <a class="sym" href="#prod-PartialDictionary">PartialDictionary</a></span></td>
          </tr>
          <tr id="proddef-PartialInterface">
            <td><span class="prod-number">[8]</span></td>
            <td><a class="sym" href="#prod-PartialInterface">PartialInterface</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"interface" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> "}" ";"</span></td>
          </tr>
          <tr id="proddef-InterfaceMembers">
            <td><span class="prod-number">[9]</span></td>
            <td><a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-InterfaceMember">InterfaceMember</a> <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> <br>&nbsp;|
             ε</span></td>
          </tr>
          <tr id="proddef-InterfaceMember">
            <td><span class="prod-number">[10]</span></td>
            <td><a class="sym" href="#prod-InterfaceMember">InterfaceMember</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Const">Const</a> <br>&nbsp;|
             <a class="sym" href="#prod-Operation">Operation</a> <br>&nbsp;|
             <a class="sym" href="#prod-Serializer">Serializer</a> <br>&nbsp;|
             <a class="sym" href="#prod-Stringifier">Stringifier</a> <br>&nbsp;|
             <a class="sym" href="#prod-StaticMember">StaticMember</a> <br>&nbsp;|
             <a class="sym" href="#prod-Iterable">Iterable</a> <br>&nbsp;|
             <a class="sym" href="#prod-ReadOnlyMember">ReadOnlyMember</a> <br>&nbsp;|
             <a class="sym" href="#prod-ReadWriteAttribute">ReadWriteAttribute</a>  </span></td>
          </tr>
          <tr id="proddef-Inheritance">
            <td><span class="prod-number">[18]</span></td>
            <td><a class="sym" href="#prod-Inheritance">Inheritance</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">":" <a class="sym" href="#prod-identifier">identifier</a> <br>&nbsp;|
             ε</span></td>
          </tr>
        </tbody>
      </table>

      <div class="example">
        <div class="exampleHeader">Example</div>
        <!--
            <p>
              The following <a class='dfnref' href='#dfn-idl-fragment'>IDL fragment</a>
              demonstrates the use of an
              <a class='dfnref' href='#dfn-interface-forward-declaration'>interface forward declaration</a>
              to allow the definition of mutually referential <a class='dfnref' href='#dfn-interface'>interfaces</a>.
              Both <span class='idltype'>Human</span> and <span class='idltype'>Dog</span>
              inherit from <span class='idltype'>Animal</span>.  Objects that implement
              either of those two interfaces will thus have a <code>name</code> attribute.
            </p>
            -->
        <p>
          The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> demonstrates the definition of two mutually referential <a class="dfnref" href="#dfn-interface">interfaces</a>. Both <span class="idltype">Human</span> and <span class="idltype">Dog</span> inherit from <span class="idltype">Animal</span>. Objects that implement either of those two interfaces will thus have a <code>name</code> attribute.
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
          <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Animal {
  attribute DOMString name;
};

interface Human : Animal {
  attribute Dog? pet;
};

interface Dog : Animal {
  attribute Human? owner;
};</code></pre></div>
        </div>
      </div>

      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>
          The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines simplified versions of a few DOM <a class="dfnref" href="#dfn-interface">interfaces</a>, one of which is a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Node {
  readonly attribute DOMString nodeName;
  readonly attribute Node? parentNode;
  Node appendChild(Node newChild);
  <span class="hljs-keyword">void</span> addEventListener(DOMString type, EventListener listener);
};

callback interface EventListener {
  <span class="hljs-keyword">void</span> handleEvent(Event event);
};</code></pre></div>
        </div>
        <p>
          Since the <span class="idltype">EventListener</span> interface is annotated callback interface, <a class="dfnref" href="#dfn-user-object">user objects</a> can implement it:
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> node = getNode();                                <span class="comment"><span class="hljs-comment">// Obtain an instance of Node.</span></span>

<span class="hljs-keyword">var</span> listener = {
  handleEvent: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
    ...
  }
};
node.addEventListener(<span class="hljs-string">"click"</span>, listener);            <span class="comment"><span class="hljs-comment">// This works.</span></span>

node.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ ... });  <span class="comment"><span class="hljs-comment">// As does this.</span></span></code></pre></div>
        </div>
        <p>
          It is not possible for a user object to implement <span class="idltype">Node</span>, however:
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> node = getNode();  <span class="comment"><span class="hljs-comment">// Obtain an instance of Node.</span></span>

<span class="hljs-keyword">var</span> newNode = {
  nodeName: <span class="hljs-string">"span"</span>,
  parentNode: <span class="hljs-literal">null</span>,
  appendChild: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newchild</span>) </span>{
    ...
  },
  addEventListener: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type, listener</span>) </span>{
    ...
  }
};
node.appendChild(newNode);  <span class="comment"><span class="hljs-comment">// This will throw a TypeError exception.</span></span></code></pre></div>
        </div>
      </div>

      <section id="idl-constants" typeof="bibo:Chapter" resource="#idl-constants" property="bibo:hasPart">
        <h4 id="h-idl-constants" resource="#h-idl-constants"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.1 </span>Constants</span></h4>

        <p>
          A <dfn id="dfn-constant" data-dfn-type="dfn">constant</dfn> is a declaration (matching
          <a class="sym" href="#prod-Const">Const</a>) used to bind a constant value to a name. Constants can appear on <a class="dfnref" href="#dfn-interface">interfaces</a>.
        </p>
        <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>
              Constants have in the past primarily been used to define named integer codes in the style of an enumeration. The Web platform is moving away from this design pattern in favor of the use of strings. Specification authors who wish to define constants are strongly advised to discuss this on the <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a> mailing list before proceeding.
            </p>
          </div>
        </div>
        <pre class="syntax hljs javascript"><span class="hljs-keyword">const</span> <i>type</i> <i>identifier</i> = <i>value</i>;</pre>
        <p>
          The <a class="dfnref" href="#dfn-identifier">identifier</a> of a
          <a class="dfnref" href="#dfn-constant">constant</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be the same as the identifier of another <a class="dfnref" href="#dfn-interface-member">interface member</a> defined on the same interface. The identifier also <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be “length”, “name” or “prototype”.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note10"><span>Note</span></div>
          <div class="">
            <p>
              These three names are the names of properties that exist on all
              <span class="estype">Function</span> objects.
            </p>
          </div>
        </div>
        <p>
          The type of a constant (matching <a class="sym" href="#prod-ConstType">ConstType</a>)
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be any type other than a <a class="dfnref" href="#dfn-primitive-type">primitive type</a> or a <a class="dfnref" href="#dfn-nullable-type">nullable</a> primitive type. If an <a class="dfnref" href="#dfn-identifier">identifier</a> is used, it <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> reference a <a class="dfnref" href="#dfn-typedef">typedef</a> whose type is a primitive type or a nullable primitive type.
        </p>
        <p>
          The <a class="sym" href="#prod-ConstValue">ConstValue</a> part of a constant declaration gives the value of the constant, which can be one of the two boolean literal tokens (<code>true</code> and <code>false</code>), the <code>null</code> token, an
          <a class="sym" href="#prod-integer">integer</a> token, a <a class="sym" href="#prod-float">float</a> token, or one of the three special floating point constant values (<code>-Infinity</code>, <code>Infinity</code> and <code>NaN</code>).
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note11"><span>Note</span></div>
          <div class="">
            <p>
              These values – in addition to strings and the empty sequence – can also be used to specify the
              <a class="dfnref" href="#dfn-dictionary-member-default-value">default value
                  of a dictionary member</a> or <a class="dfnref" href="#dfn-optional-argument-default-value">of
                  an optional argument</a>. Note that strings and the empty sequence <code>[]</code> cannot be used as the value of a
              <a class="dfnref" href="#dfn-constant">constant</a>.
            </p>
          </div>
        </div>
        <p>
          The value of the boolean literal tokens <code>true</code> and
          <code>false</code> are the IDL <a class="idltype" href="#idl-boolean">boolean</a> values
          <span class="idlvalue">true</span> and <span class="idlvalue">false</span>.
        </p>
        <p>
          The value of an <a class="sym" href="#prod-integer">integer</a> token is an integer whose value is determined as follows:
        </p>
        <ol class="algorithm">
          <li>Let <var>S</var> be the sequence of characters matched by the <a class="sym" href="#prod-integer">integer</a> token.</li>
          <li>Let <var>sign</var> be −1 if <var>S</var> begins with <span class="char">U+002D HYPHEN-MINUS ("-")</span>, and 1 otherwise.</li>
          <li>Let <var>base</var> be the base of the number based on the characters that follow the optional leading <span class="char">U+002D HYPHEN-MINUS ("-")</span> character:
            <dl class="switch">
              <dt><span class="char">U+0030 DIGIT ZERO ("0")</span>, <span class="char">U+0058 LATIN CAPITAL LETTER X ("X")</span></dt>
              <dt><span class="char">U+0030 DIGIT ZERO ("0")</span>, <span class="char">U+0078 LATIN SMALL LETTER X ("x")</span></dt>
              <dd>The base is 16.</dd>
              <dt><span class="char">U+0030 DIGIT ZERO ("0")</span></dt>
              <dd>The base is 8.</dd>
              <dt><span class="char">Otherwise</span></dt>
              <dd>The base is 10.</dd>
            </dl>
          </li>
          <li>Let <var>number</var> be the result of interpreting all remaining characters following the optional leading <span class="char">U+002D HYPHEN-MINUS ("-")</span> character and any characters indicating the base as an integer specified in base <var>base</var>.</li>
          <li>Return <var>sign</var>&nbsp;×&nbsp;<var>number</var>.</li>
        </ol>
        <p>
          The type of an <a class="sym" href="#prod-integer">integer</a> token is the same as the type of the constant, dictionary member or optional argument it is being used as the value of. The value of the <a class="sym" href="#prod-integer">integer</a> token <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> lie outside the valid range of values for its type, as given in
          <a href="#idl-types">section </a><a href="#idl-types">3.10 </a> .
        </p>
        <p id="float-token-value">
          The value of a <a class="sym" href="#prod-float">float</a> token is either an IEEE 754 single-precision floating point number or an IEEE 754 double-precision floating point number, depending on the type of the constant, dictionary member or optional argument it is being used as the value for, determined as follows:
        </p>
        <ol class="algorithm">
          <li>Let <var>S</var> be the sequence of characters matched by the <a class="sym" href="#prod-float">float</a> token.</li>
          <li>Let <var>value</var> be the Mathematical Value that would be obtained if <var>S</var> were parsed as an ECMAScript <a class="external" href="https://tc39.github.io/ecma262/#sec-literals-numeric-literals"><em>NumericLiteral</em></a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 11.8.3).</li>
          <li>
            If the <a class="sym" href="#prod-float">float</a> token is being used as the value for a <a class="idltype" href="#idl-float">float</a> or
            <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a>, then the value of the <a class="sym" href="#prod-float">float</a> token is the IEEE 754 single-precision floating point number closest to
            <var>result</var>. Otherwise, the <a class="sym" href="#prod-float">float</a> token is being used as the value for a <a class="idltype" href="#idl-double">double</a> or
            <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a>, and the value of the <a class="sym" href="#prod-float">float</a> token is the IEEE 754 double-precision floating point number closest to
            <var>result</var>. [
            <cite><a class="bibref" href="#bib-IEEE-754">IEEE-754</a></cite>]
          </li>
        </ol>
        <p>
          The value of a constant value specified as
          <code>Infinity</code>, <code>-Infinity</code> or <code>NaN</code> is either an IEEE 754 single-precision floating point number or an IEEE 754 double-precision floating point number, depending on the type of the constant, dictionary member or optional argument is is being used as the value for:
        </p>
        <dl class="switch">
          <dt>Type <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a>, constant value <code>Infinity</code></dt>
          <dd>The value is the IEEE 754 single-precision positive infinity value.</dd>
          <dt>Type <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a>, constant value <code>Infinity</code></dt>
          <dd>The value is the IEEE 754 double-precision positive infinity value.</dd>
          <dt>Type <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a>, constant value <code>-Infinity</code></dt>
          <dd>The value is the IEEE 754 single-precision negative infinity value.</dd>
          <dt>Type <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a>, constant value <code>-Infinity</code></dt>
          <dd>The value is the IEEE 754 double-precision negative infinity value.</dd>
          <dt>Type <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a>, constant value <code>NaN</code></dt>
          <dd>The value is the IEEE 754 single-precision NaN value with the bit pattern 0x7fc00000.</dd>
          <dt>Type <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a>, constant value <code>NaN</code></dt>
          <dd>The value is the IEEE 754 double-precision NaN value with the bit pattern 0x7ff8000000000000.</dd>
        </dl>
        <p>
          The type of a <a class="sym" href="#prod-float">float</a> token is the same as the type of the constant, dictionary member or optional argument it is being used as the value of. The value of the
          <a class="sym" href="#prod-float">float</a> token <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> lie outside the valid range of values for its type, as given in
          <a href="#idl-types">section </a><a href="#idl-types">3.10 </a> . Also, <code>Infinity</code>, <code>-Infinity</code> and <code>NaN</code> <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used as the value of a <a class="idltype" href="#idl-float">float</a> or <a class="idltype" href="#idl-double">double</a>.
        </p>
        <p>
          The value of the <code>null</code> token is the special
          <span class="idlvalue">null</span> value that is a member of the
          <a class="dfnref" href="#dfn-nullable-type">nullable types</a>. The type of the <code>null</code> token is the same as the type of the constant, dictionary member or optional argument it is being used as the value of.
        </p>
        <p>
          If <var>VT</var> is the type of the value assigned to a constant, and <var>DT</var> is the type of the constant, dictionary member or optional argument itself, then these types <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be compatible, which is the case if <var>DT</var> and <var>VT</var> are identical, or <var>DT</var> is a <a class="dfnref" href="#dfn-nullable-type">nullable type</a> whose <a class="dfnref" href="#dfn-inner-type">inner type</a> is <var>VT</var>.
        </p>
        <p>
          <a class="dfnref" href="#dfn-constant">Constants</a> are not associated with particular instances of the <a class="dfnref" href="#dfn-interface">interface</a> on which they appear. It is language binding specific whether
          <a class="dfnref" href="#dfn-constant">constants</a> are exposed on instances.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note12"><span>Note</span></div>
          <div class="">
            <p>
              <!--JAVA
                Both the ECMAScript and the Java language binding do however
                -->
              The ECMAScript language binding does however allow <a class="dfnref" href="#dfn-constant">constants</a> to be accessed through objects implementing the IDL <a class="dfnref" href="#dfn-interface">interfaces</a> on which the <a class="dfnref" href="#dfn-constant">constants</a> are declared. For example, with the following IDL:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface A {
  <span class="hljs-keyword">const</span> short rambaldi = <span class="hljs-number">47</span>;
};</code></pre></div>
            </div>
            <p>
              the constant value can be accessed in ECMAScript
              <!--JAVA and in Java-->either as
              <code>A.rambaldi</code> or <code>instanceOfA.rambaldi</code>.
            </p>
          </div>
        </div>
        <p>
          The following extended attributes are applicable to constants:
          <a class="xattr" href="#Exposed">[Exposed]</a>.
        </p>

        <table class="grammar">
          <tbody>
            <tr id="proddef-Const">
              <td><span class="prod-number">[26]</span></td>
              <td><a class="sym" href="#prod-Const">Const</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"const" <a class="sym" href="#prod-ConstType">ConstType</a> <a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-ConstValue">ConstValue</a> ";"</span></td>
            </tr>
            <tr id="proddef-ConstValue">
              <td><span class="prod-number">[27]</span></td>
              <td><a class="sym" href="#prod-ConstValue">ConstValue</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-BooleanLiteral">BooleanLiteral</a> <br>&nbsp;|
             <a class="sym" href="#prod-FloatLiteral">FloatLiteral</a> <br>&nbsp;|
             <a class="sym" href="#prod-integer">integer</a> <br>&nbsp;|
             "null"</span></td>
            </tr>
            <tr id="proddef-BooleanLiteral">
              <td><span class="prod-number">[28]</span></td>
              <td><a class="sym" href="#prod-BooleanLiteral">BooleanLiteral</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"true" <br>&nbsp;|
             "false"</span></td>
            </tr>
            <tr id="proddef-FloatLiteral">
              <td><span class="prod-number">[29]</span></td>
              <td><a class="sym" href="#prod-FloatLiteral">FloatLiteral</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-float">float</a> <br>&nbsp;|
             "-Infinity" <br>&nbsp;|
             "Infinity" <br>&nbsp;|
             "NaN"</span></td>
            </tr>
            <tr id="proddef-ConstType">
              <td><span class="prod-number">[80]</span></td>
              <td><a class="sym" href="#prod-ConstType">ConstType</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Null">Null</a></span></td>
            </tr>
          </tbody>
        </table>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> demonstrates how <a class="dfnref" href="#dfn-constant">constants</a> of the above types can be defined.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Util {
  <span class="hljs-keyword">const</span> boolean DEBUG = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">const</span> octet LF = <span class="hljs-number">10</span>;
  <span class="hljs-keyword">const</span> unsigned long BIT_MASK = <span class="hljs-number">0x0000fc00</span>;
  <span class="hljs-keyword">const</span> double AVOGADRO = <span class="hljs-number">6.022e23</span>;
};</code></pre></div>
          </div>
        </div>
      </section>

      <section id="idl-attributes" typeof="bibo:Chapter" resource="#idl-attributes" property="bibo:hasPart">
        <h4 id="h-idl-attributes" resource="#h-idl-attributes"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.2 </span>Attributes</span></h4>

        <p>
          An <dfn id="dfn-attribute" data-dfn-type="dfn">attribute</dfn> is an <a class="dfnref" href="#dfn-interface-member">interface member</a>
               (matching
               <span class="sym">"inherit"</span> <a class="sym" href="#prod-ReadOnly">ReadOnly</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a>,
               <span class="sym">"static"</span> <a class="sym" href="#prod-ReadOnly">ReadOnly</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a>,
               <span class="sym">"stringifier"</span> <a class="sym" href="#prod-ReadOnly">ReadOnly</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a>,
               or <a class="sym" href="#prod-ReadOnly">ReadOnly</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a>)
that is used to declare data fields with a given type and
          <a class="dfnref" href="#dfn-identifier">identifier</a> whose value can be retrieved and (in some cases) changed. There are two kinds of attributes:
        </p>
        <ol>
          <li><a class="dfnref" href="#dfn-regular-attribute">regular attributes</a>, which are those used to declare that objects implementing the <a class="dfnref" href="#dfn-interface">interface</a> will have a data field member with the given <a class="dfnref" href="#dfn-identifier">identifier</a>
            <pre class="syntax hljs xquery"><span class="hljs-literal">attribute</span> <i>type</i> <i>identifier</i>;</pre></li>
          <li><a class="dfnref" href="#dfn-static-attribute">static attributes</a>, which are used to declare attributes that are not associated with a particular object implementing the interface
            <pre class="syntax hljs javascript"><span class="hljs-keyword">static</span> attribute <i>type</i> <i>identifier</i>;</pre></li>
        </ol>
        <p>
          If an attribute has no <code>static</code> keyword, then it declares a
          <dfn id="dfn-regular-attribute" data-dfn-type="dfn">regular attribute</dfn>. Otherwise, it declares a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-identifier">identifier</a> of an
          <a class="dfnref" href="#dfn-attribute">attribute</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be the same as the identifier of another <a class="dfnref" href="#dfn-interface-member">interface member</a> defined on the same <a class="dfnref" href="#dfn-interface">interface</a>. The identifier of a static attribute <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be “prototype”.
        </p>
        <p>
          The type of the attribute is given by the type (matching <a class="sym" href="#prod-Type">Type</a>) that appears after the <code>attribute</code> keyword. If the <a class="sym" href="#prod-Type">Type</a> is an
          <a class="dfnref" href="#dfn-identifier">identifier</a> or an identifier followed by <code>?</code>, then the identifier <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> identify an interface, <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
          <a class="dfnref" href="#dfn-callback-function">callback function</a> or <a class="dfnref" href="#dfn-typedef">typedef</a>.
        </p>
        <p>
          The type of the attribute, after resolving typedefs, <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be a
          <a class="dfnref" href="#dfn-nullable-type">nullable</a> or non-nullable version of any of the following types:
        </p>
        <ul>
          <li>a <a href="#idl-sequence">sequence type</a></li>
          <li>a <a href="#dfn-dictionary">dictionary</a></li>
          <li>a <a class="dfnref" href="#dfn-union-type">union type</a> that has a nullable or non-nullable sequence type or dictionary as one of its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
        </ul>
        <p>
          The attribute is <dfn id="dfn-read-only" data-dfn-type="dfn">read only</dfn> if the
          <code>readonly</code> keyword is used before the <code>attribute</code> keyword. An object that implements the interface on which a read only attribute is defined will not allow assignment to that attribute. It is language binding specific whether assignment is simply disallowed by the language, ignored or an exception is thrown.
        </p>
        <pre class="syntax hljs xquery">readonly <span class="hljs-literal">attribute</span> <i>type</i> <i>identifier</i>;</pre>
        <p>
          A <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a> that is not <a class="dfnref" href="#dfn-read-only">read only</a> can be declared to <dfn id="dfn-inherit-getter" data-dfn-type="dfn">inherit its getter</dfn> from an ancestor interface. This can be used to make a read only attribute in an ancestor interface be writable on a derived interface. An attribute
          <a class="dfnref" href="#dfn-inherit-getter">inherits its getter</a> if its declaration includes <code>inherit</code> in the declaration. The read only attribute from which the attribute inherits its getter is the attribute with the same identifier on the closest ancestor interface of the one on which the inheriting attribute is defined. The attribute whose getter is being inherited <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be of the same type as the inheriting attribute, and <code>inherit</code>
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> appear on a <a class="dfnref" href="#dfn-read-only">read only</a> attribute or a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
        </p>
        <pre class="syntax hljs xquery">interface <i>Ancestor</i> {
  readonly attribute <i>TheType</i> <i>theIdentifier</i>;
};

interface <i>Derived</i> : <i>Ancestor</i> {
  inherit attribute <i>TheType</i> <i>theIdentifier</i>;
};</pre>
        <!--
            <p>
              The <a class='sym' href='#prod-GetRaises'>GetRaises</a> and
              <a class='sym' href='#prod-SetRaises'>SetRaises</a> clauses are used
              to declare the possible exceptions that can be thrown when retrieving
              the value of and assigning a value to the attribute, respectively.
              Each scoped name in the
              <a class='sym' href='#prod-GetRaises'>GetRaises</a> and
              <a class='sym' href='#prod-SetRaises'>SetRaises</a> clauses
              <span class='rfc2119'>MUST</span> resolve to an <a class='dfnref' href='#dfn-exception'>exception</a>.
            </p>
            <pre class='syntax'>attribute <i>type</i> <i>identifier</i> getraises(<i>scoped-name</i>, <i>…</i>);
attribute <i>type</i> <i>identifier</i> setraises(<i>scoped-name</i>, <i>…</i>);
attribute <i>type</i> <i>identifier</i> getraises(<i>scoped-name</i>, <i>…</i>) setraises(<i>scoped-name</i>, <i>…</i>);
attribute <i>type</i> <i>identifier</i> inherits getter setraises(<i>scoped-name</i>, <i>…</i>);</pre>
            -->
        <p>
          When the <code>stringifier</code> keyword is used in a <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a> declaration, it indicates that objects implementing the interface will be stringified to the value of the attribute. See
          <a href="#idl-stringifiers">section </a><a href="#idl-stringifiers">3.2.4.2 </a> for details.
        </p>
        <pre class="syntax hljs xquery">stringifier <span class="hljs-literal">attribute</span> DOMString <i>identifier</i>;</pre>
        <p id="callback-attribute-exceptions">
          If an implementation attempts to get or set the value of an
          <a class="dfnref" href="#dfn-attribute">attribute</a> on a
          <a class="dfnref" href="#dfn-user-object">user object</a> (for example, when a callback object has been supplied to the implementation), and that attempt results in an exception being thrown, then, unless otherwise specified, that exception will be propagated to the user code that caused the implementation to access the attribute. Similarly, if a value returned from getting the attribute cannot be converted to an IDL type, then any exception resulting from this will also be propagated to the user code that resulted in the implementation attempting to get the value of the attribute.
        </p>

        <p>
          The following <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> are applicable to regular and static attributes:
          <a class="xattr" href="#Clamp">[Clamp]</a>,
          <a class="xattr" href="#EnforceRange">[EnforceRange]</a>,
          <a class="xattr" href="#Exposed">[Exposed]</a>,
          <a class="xattr" href="#SameObject">[SameObject]</a>,
          <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>.
        </p>

        <p>
          The following <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> are applicable only to regular attributes:
          <a class="xattr" href="#LenientThis">[LenientThis]</a>,
          <a class="xattr" href="#PutForwards">[PutForwards]</a>,
          <a class="xattr" href="#Replaceable">[Replaceable]</a>,
          <a class="xattr" href="#Unforgeable">[Unforgeable]</a>.
        </p>

        <table class="grammar">
          <tbody>
            <tr id="proddef-ReadOnlyMember">
              <td><span class="prod-number">[39]</span></td>
              <td><a class="sym" href="#prod-ReadOnlyMember">ReadOnlyMember</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"readonly" <a class="sym" href="#prod-ReadOnlyMemberRest">ReadOnlyMemberRest</a></span></td>
            </tr>
            <tr id="proddef-ReadOnlyMemberRest">
              <td><span class="prod-number">[40]</span></td>
              <td><a class="sym" href="#prod-ReadOnlyMemberRest">ReadOnlyMemberRest</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-AttributeRest">AttributeRest</a>  </span></td>
            </tr>
            <tr id="proddef-ReadWriteAttribute">
              <td><span class="prod-number">[41]</span></td>
              <td><a class="sym" href="#prod-ReadWriteAttribute">ReadWriteAttribute</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"inherit" <a class="sym" href="#prod-ReadOnly">ReadOnly</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a> <br>&nbsp;|
             <a class="sym" href="#prod-AttributeRest">AttributeRest</a></span></td>
            </tr>
            <tr id="proddef-AttributeRest">
              <td><span class="prod-number">[42]</span></td>
              <td><a class="sym" href="#prod-AttributeRest">AttributeRest</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"attribute" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-AttributeName">AttributeName</a> ";"</span></td>
            </tr>
            <tr id="proddef-AttributeName">
              <td><span class="prod-number">[43]</span></td>
              <td><a class="sym" href="#prod-AttributeName">AttributeName</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-AttributeNameKeyword">AttributeNameKeyword</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a></span></td>
            </tr>
            <tr id="proddef-AttributeNameKeyword">
              <td><span class="prod-number">[44]</span></td>
              <td><a class="sym" href="#prod-AttributeNameKeyword">AttributeNameKeyword</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"required"</span></td>
            </tr>
            <tr id="proddef-Inherit">
              <td><span class="prod-number">[45]</span></td>
              <td><a class="sym" href="#prod-Inherit">Inherit</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"inherit" <br>&nbsp;|
             ε</span></td>
            </tr>
            <tr id="proddef-ReadOnly">
              <td><span class="prod-number">[46]</span></td>
              <td><a class="sym" href="#prod-ReadOnly">ReadOnly</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"readonly" <br>&nbsp;|
             ε</span></td>
            </tr>
          </tbody>
        </table>

        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> demonstrates how <a class="dfnref" href="#dfn-attribute">attributes</a> can be declared on an <a class="dfnref" href="#dfn-interface">interface</a>:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Animal {

  <span class="comment"><span class="hljs-comment">// A simple attribute that can be set to any string value.</span></span>
  readonly attribute DOMString name;

  <span class="comment"><span class="hljs-comment">// An attribute whose value can be assigned to.</span></span>
  attribute unsigned short age;
};

interface Person : Animal {

  <span class="comment"><span class="hljs-comment">// An attribute whose getter behavior is inherited from Animal, and need not be</span></span>
  <span class="comment"><span class="hljs-comment">// specified in the description of Person.</span></span>
  inherit attribute DOMString name;
};</code></pre></div>
          </div>
        </div>
      </section>

      <section id="idl-operations" typeof="bibo:Chapter" resource="#idl-operations" property="bibo:hasPart">
        <h4 id="h-idl-operations" resource="#h-idl-operations"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.3 </span>Operations</span></h4>

        <p>
          An <dfn id="dfn-operation" data-dfn-type="dfn">operation</dfn> is an <a class="dfnref" href="#dfn-interface-member">interface member</a> (matching <span class="sym">"static"</span> <a class="sym" href="#prod-OperationRest">OperationRest</a>,
          <span class="sym">"stringifier"</span> <a class="sym" href="#prod-OperationRest">OperationRest</a>,
          <span class="sym">"serializer"</span> <a class="sym" href="#prod-OperationRest">OperationRest</a>,
          <a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationRest">OperationRest</a> or
          <a class="sym" href="#prod-SpecialOperation">SpecialOperation</a>) that defines a behavior that can be invoked on objects implementing the interface. There are three kinds of operation:
        </p>
        <ol>
          <li><a class="dfnref" href="#dfn-regular-operation">regular operations</a>, which are those used to declare that objects implementing the
            <a class="dfnref" href="#dfn-interface">interface</a> will have a method with the given <a class="dfnref" href="#dfn-identifier">identifier</a>
            <pre class="syntax hljs javascript"><i><span class="hljs-keyword">return</span>-type</i> <i>identifier</i>(<i><span class="hljs-built_in">arguments</span>…</i>);</pre></li>
          <li><a class="dfnref" href="#dfn-special-operation">special operations</a>, which are used to declare special behavior on objects implementing the interface, such as object indexing and stringification
            <pre class="syntax hljs javascript"><i>special-keywords…</i> <i><span class="hljs-keyword">return</span>-type</i> <i>identifier</i>(<i><span class="hljs-built_in">arguments</span>…</i>);
<i>special-keywords…</i> <i><span class="hljs-keyword">return</span>-type</i> (<i><span class="hljs-built_in">arguments</span>…</i>);</pre></li>
          <li><a class="dfnref" href="#dfn-static-operation">static operations</a>, which are used to declare operations that are not associated with a particular object implementing the interface
            <pre class="syntax hljs javascript"><span class="hljs-keyword">static</span> <i><span class="hljs-keyword">return</span>-type</i> <i>identifier</i>(<i><span class="hljs-built_in">arguments</span>…</i>);</pre></li>
        </ol>
        <p>
          If an operation has an identifier but no <code>static</code> keyword, then it declares a <dfn id="dfn-regular-operation" data-dfn-type="dfn">regular operation</dfn>. If the operation has one or more
          <a class="dfnref" href="#dfn-special-keyword">special keywords</a> used in its declaration (that is, any keyword matching
          <a class="sym" href="#prod-Special">Special</a>, or the <code>stringifier</code> keyword), then it declares a special operation. A single operation can declare both a regular operation and a special operation; see
          <a href="#idl-special-operations">section </a><a href="#idl-special-operations">3.2.4 </a> for details on special operations.
        </p>
        <p>
          If an operation has no identifier, then it <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be declared to be a special operation using one of the special keywords.
        </p>
        <p>
          The identifier of a
          <a class="dfnref" href="#dfn-regular-operation">regular operation</a> or <a class="dfnref" href="#dfn-static-operation">static operation</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be the same as the identifier of a <a class="dfnref" href="#dfn-constant">constant</a> or
          <a class="dfnref" href="#dfn-attribute">attribute</a> defined on the same <a class="dfnref" href="#dfn-interface">interface</a>. The identifier of a static operation <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be “prototype”.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note13"><span>Note</span></div>
          <div class="">
            <p>
              The identifier can be the same as that of another operation on the interface, however. This is how operation overloading is specified.
            </p>
          </div>
        </div>
        <p>
          The <a class="dfnref" href="#dfn-identifier">identifier</a> of a <a class="dfnref" href="#dfn-static-operation">static operation</a> also <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be the same as the identifier of a <a class="dfnref" href="#dfn-regular-operation">regular operation</a> defined on the same <a class="dfnref" href="#dfn-interface">interface</a>.
        </p>
        <p>
          The <dfn id="dfn-return-type" data-dfn-type="dfn">return type</dfn> of the operation is given by the type (matching <a class="sym" href="#prod-ReturnType">ReturnType</a>) that appears before the operation’s optional <a class="dfnref" href="#dfn-identifier">identifier</a>. A return type of <code id="idl-void">void</code> indicates that the operation returns no value. If the return type is an
          <a class="dfnref" href="#dfn-identifier">identifier</a> followed by <code>?</code>, then the identifier <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> identify an interface, dictionary, <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
          <a class="dfnref" href="#dfn-callback-function">callback function</a> or <a class="dfnref" href="#dfn-typedef">typedef</a>.
        </p>
        <p>
          An operation’s arguments (matching <a class="sym" href="#prod-ArgumentList">ArgumentList</a>) are given between the parentheses in the declaration. Each individual argument is specified as a type (matching <a class="sym" href="#prod-Type">Type</a>) followed by an <a class="dfnref" href="#dfn-identifier">identifier</a> (matching <a class="sym" href="#prod-ArgumentName">ArgumentName</a>).
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note14"><span>Note</span></div>
          <div class="">
            <p>For expressiveness, the identifier of an operation argument can also be specified as one of the keywords matching the <a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a> symbol without needing to escape it.</p>
          </div>
        </div>
        <p>
          If the <a class="sym" href="#prod-Type">Type</a> of an operation argument is an identifier followed by <code>?</code>, then the identifier <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> identify an interface,
          <a class="dfnref" href="#dfn-enumeration">enumeration</a>, <a class="dfnref" href="#dfn-callback-function">callback function</a> or <a class="dfnref" href="#dfn-typedef">typedef</a>. If the operation argument type is an <a class="dfnref" href="#dfn-identifier">identifier</a> not followed by <code>?</code>, then the identifier <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> identify any one of those definitions or a <a class="dfnref" href="#dfn-dictionary">dictionary</a>.
        </p>
        <pre class="syntax hljs javascript"><i><span class="hljs-keyword">return</span>-type</i> <i>identifier</i>(<i>type</i> <i>identifier</i>, <i>type</i> <i>identifier</i>, …);</pre>
        <p>
          The identifier of each argument <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be the same as the identifier of another argument in the same operation declaration.
        </p>
        <p>
          Each argument can be preceded by a list of
          <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> (matching
          <a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a>), which can control how a value passed as the argument will be handled in language bindings.
        </p>
        <pre class="syntax hljs css"><i><span class="hljs-selector-tag">return-type</span></i> <i><span class="hljs-selector-tag">identifier</span></i>(<span class="hljs-selector-attr">[</span><em><span class="hljs-selector-attr">extended-attributes</span></em><span class="hljs-selector-attr">]</span> <i><span class="hljs-selector-tag">type</span></i> <i><span class="hljs-selector-tag">identifier</span></i>, <span class="hljs-selector-attr">[</span><em><span class="hljs-selector-attr">extended-attributes</span></em><span class="hljs-selector-attr">]</span> <i><span class="hljs-selector-tag">type</span></i> <i><span class="hljs-selector-tag">identifier</span></i>, …);</pre>

        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> demonstrates how <a class="dfnref" href="#dfn-regular-operation">regular operations</a> can be declared on an <a class="dfnref" href="#dfn-interface">interface</a>:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Dimensions {
  attribute unsigned long width;
  attribute unsigned long height;
};

interface Button {

  <span class="comment"><span class="hljs-comment">// An operation that takes no arguments and returns a boolean.</span></span>
  boolean isMouseOver();

  <span class="comment"><span class="hljs-comment">// Overloaded operations.</span></span>
  <span class="hljs-keyword">void</span> setDimensions(Dimensions size);
  <span class="hljs-keyword">void</span> setDimensions(unsigned long width, unsigned long height);
};</code></pre></div>
          </div>
        </div>

        <p>
          An operation is considered to be <dfn id="dfn-variadic" data-dfn-type="dfn">variadic</dfn> if the final argument uses the <code>...</code> token just after the argument type. Declaring an operation to be variadic indicates that the operation can be invoked with any number of arguments after that final argument. Those extra implied formal arguments are of the same type as the final explicit argument in the operation declaration. The final argument can also be omitted when invoking the operation. An argument <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be declared with the <code>...</code> token unless it is the final argument in the operation’s argument list.
        </p>
        <pre class="syntax hljs javascript"><i><span class="hljs-keyword">return</span>-type</i> <i>identifier</i>(<i>type</i><em>...</em> <i>identifier</i>);
<i><span class="hljs-keyword">return</span>-type</i> <i>identifier</i>(<i>type</i> <i>identifier</i>, <i>type</i><em>...</em> <i>identifier</i>);</pre>
        <p>
          <a class="dfnref" href="#dfn-extended-attribute">Extended attributes</a> that <a class="dfnref" href="#dfn-xattr-argument-list">take an argument list</a> (<a class="xattr" href="#Constructor">[Constructor]</a> and
          <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>, of those defined in this specification) and <a class="dfnref" href="#dfn-callback-function">callback functions</a> are also considered to be <a class="dfnref" href="#dfn-variadic">variadic</a> when the <code>...</code> token is used in their argument lists.
        </p>

        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface that has two variadic operations:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface IntegerSet {
  readonly attribute unsigned long cardinality;

  <span class="hljs-keyword">void</span> union(long... ints);
  <span class="hljs-keyword">void</span> intersection(long... ints);
};</code></pre></div>
          </div>
          <p>
            In the ECMAScript binding, variadic operations are implemented by functions that can accept the subsequent arguments:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="es-code">var s = getIntegerSet();  <span class="comment">// Obtain an <span class="hljs-keyword">instance</span> <span class="hljs-keyword">of</span> IntegerSet.</span>

s.<span class="hljs-keyword">union</span>();                <span class="comment">// Passing no arguments corresponding <span class="hljs-keyword">to</span> <span class="hljs-string">'ints'</span>.</span>
s.<span class="hljs-keyword">union</span>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>);         <span class="comment">// Passing three arguments corresponding <span class="hljs-keyword">to</span> <span class="hljs-string">'ints'</span>.</span></code></pre></div>
          </div>
          <p>
            A binding for a language that does not support variadic functions might specify that an explicit array or list of integers be passed to such an operation.
          </p>
        </div>

        <p>
          An argument is considered to be an <dfn id="dfn-optional-argument" data-dfn-type="dfn">optional argument</dfn> if it is declared with the <code>optional</code> keyword. The final argument of a <a class="dfnref" href="#dfn-variadic">variadic</a> operation is also considered to be an optional argument. Declaring an argument to be optional indicates that the argument value can be omitted when the operation is invoked. The final argument in an operation <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> explicitly be declared to be optional if the operation is <a class="dfnref" href="#dfn-variadic">variadic</a>.
        </p>
        <pre class="syntax hljs javascript"><i><span class="hljs-keyword">return</span>-type</i> <i>identifier</i>(<i>type</i> <i>identifier</i>, optional <i>type</i> <i>identifier</i>);</pre>

        <p>
          Optional arguments can also have a <dfn id="dfn-optional-argument-default-value" data-dfn-type="dfn">default value</dfn> specified. If the argument’s identifier is followed by a <span class="char">U+003D EQUALS SIGN ("=")</span> and a value (matching <a class="sym" href="#prod-DefaultValue">DefaultValue</a>), then that gives the optional argument its <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a>. The implicitly optional final argument of a <a class="dfnref" href="#dfn-variadic">variadic</a> operation <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> have a default value specified. The default value is the value to be assumed when the operation is called with the corresponding argument omitted.
        </p>
        <pre class="syntax hljs javascript"><i><span class="hljs-keyword">return</span>-type</i> <i>identifier</i>(<i>type</i> <i>identifier</i>, optional <i>type</i> <i>identifier</i> = <i>value</i>);</pre>
        <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>
              It is strongly suggested not to use <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a> of <span class="idlvalue">true</span> for <span class="estype">boolean</span>-typed arguments, as this can be confusing for authors who might otherwise expect the default conversion of <span class="esvalue">undefined</span> to be used (i.e., <span class="idlvalue">false</span>).
            </p>
          </div>
        </div>
        <p>
          If the type of an argument is a <a href="#idl-dictionary">dictionary type</a> or a <a class="dfnref" href="#dfn-union-type">union type</a> that has a dictionary type as one of its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a>, and that dictionary type and its ancestors have no <a class="dfnref" href="#required-dictionary-member">required members</a>, and the argument is either the final argument or is followed only by
          <a class="dfnref" href="#dfn-optional-argument">optional arguments</a>, then the argument <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be specified as optional. Such arguments are always considered to have a
          <a class="dfnref" href="#dfn-dictionary-member-default-value">default value</a> of an empty dictionary, unless otherwise specified.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note15"><span>Note</span></div>
          <div class="">
            <p>
              This is to encourage API designs that do not require authors to pass an empty dictionary value when they wish only to use the dictionary’s default values.
            </p>
            <p>
              Dictionary types cannot have a default value specified explicitly, so the “unless otherwise specified” clause above can only be invoked for a <a class="dfnref" href="#dfn-union-type">union type</a> that has a dictionary type as one of its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a>.
            </p>
          </div>
        </div>
        <p>
          When a boolean literal token (<code>true</code> or <code>false</code>), the <code>null</code> token, an <a class="sym" href="#prod-integer">integer</a> token, a
          <a class="sym" href="#prod-float">float</a> token or one of the three special floating point literal values (<code>Infinity</code>,
          <code>-Infinity</code> or <code>NaN</code>) is used as the
          <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a>, it is interpreted in the same way as for a <a class="dfnref" href="#dfn-constant">constant</a>.
        </p>
        <p id="string-literal">
          Optional argument default values can also be specified using a <a class="sym" href="#prod-string">string</a> token, whose value is a <a class="dfnref" href="#dfn-string-type">string type</a> determined as follows:
        </p>
        <ol class="algorithm">
          <li>Let <var>S</var> be the sequence of <a class="external" href="http://www.unicode.org/glossary/#unicode_scalar_value">Unicode scalar values</a> matched by the <a class="sym" href="#prod-string">string</a> token with its leading and trailing <span class="char">U+0022 QUOTATION MARK ('"')</span> characters removed.</li>
          <li>Depending on the type of the argument:
            <dl class="switch">
              <dt><a class="idltype" href="#idl-DOMString">DOMString</a></dt>
              <dt>an <a class="dfnref" href="#dfn-enumeration">enumeration</a> type</dt>
              <dd>The value of the <a class="sym" href="#prod-string">string</a> token is the sequence of 16 bit unsigned integer code units (hereafter referred to just as <dfn id="dfn-code-unit" data-dfn-type="dfn">code units</dfn>) corresponding to the UTF-16 encoding of <var>S</var>.</dd>
              <dt><a class="idltype" href="#idl-ByteString">ByteString</a></dt>
              <dd>The value of the <a class="sym" href="#prod-string">string</a> token is the sequence of 8 bit unsigned integer code units corresponding to the UTF-8 encoding of <var>S</var>.</dd>
              <dt><a class="idltype" href="#idl-USVString">USVString</a></dt>
              <dd>The value of the <a class="sym" href="#prod-string">string</a> token is <var>S</var>.</dd>
            </dl>
          </li>
        </ol>
        <p>
          If the type of the <a class="dfnref" href="#dfn-optional-argument">optional argument</a> is an <a class="dfnref" href="#dfn-enumeration">enumeration</a>, then its
          <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a> if specified <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be one of the <a class="dfnref" href="#dfn-enumeration-value">enumeration’s values</a>.
        </p>
        <p>
          Optional argument default values can also be specified using the two token value <code>[]</code>, which represents an empty sequence value. The type of this value is the same the type of the optional argument it is being used as the default value of. That type
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be a
          <a href="#idl-sequence">sequence type</a> or a
          <a class="dfnref" href="#dfn-nullable-type">nullable type</a>.
        </p>

        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an <a class="dfnref" href="#dfn-interface">interface</a> with a single <a class="dfnref" href="#dfn-operation">operation</a> that can be invoked with two different argument list lengths:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface ColorCreator {
  object createColor(double v1, double v2, double v3, optional double alpha);
};</code></pre></div>
          </div>
          <p>
            It is equivalent to an <a class="dfnref" href="#dfn-interface">interface</a> that has two <a class="dfnref" href="#dfn-overloaded">overloaded</a>
            <a class="dfnref" href="#dfn-operation">operations</a>:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface ColorCreator {
  object createColor(double v1, double v2, double v3);
  object createColor(double v1, double v2, double v3, double alpha);
};</code></pre></div>
          </div>
        </div>
        <!--
            <p>
              A <code>raises</code> clause (matching <a class='sym' href='#prod-Raises'>Raises</a>) is used
              to declare the possible <a class='dfnref' href='#dfn-exception'>exceptions</a>
              that can be thrown when invoking the operation.
              Each scoped name in the <code>Raises</code> clause
              <span class='rfc2119'>MUST</span> resolve to an exception.
            </p>
            <pre class='syntax'><i>return-type</i> <i>identifier</i>(<i>arguments</i>…) raises(<i>scoped-name</i>, …);</pre>
            -->

        <p id="callback-operation-exceptions">
          If an implementation attempts to invoke an
          <a class="dfnref" href="#dfn-operation">operation</a> on a
          <a class="dfnref" href="#dfn-user-object">user object</a> (for example, when a callback object has been supplied to the implementation), and that attempt results in an exception being thrown, then, unless otherwise specified, that exception will be propagated to the user code that caused the implementation to invoke the operation. Similarly, if a value returned from invoking the operation cannot be converted to an IDL type, then any exception resulting from this will also be propagated to the user code that resulted in the implementation attempting to invoke the operation.
        </p>

        <p>
          The following extended attributes are applicable to operations:
          <a class="xattr" href="#Exposed">[Exposed]</a>,
          <a class="xattr" href="#NewObject">[NewObject]</a>,
          <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>,
          <a class="xattr" href="#Unforgeable">[Unforgeable]</a>.
        </p>
        <p>
          The following extended attributes are applicable to operation arguments:
          <a class="xattr" href="#Clamp">[Clamp]</a>,
          <a class="xattr" href="#EnforceRange">[EnforceRange]</a>,
          <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>.
        </p>

        <table class="grammar">
          <tbody>
            <tr id="proddef-DefaultValue">
              <td><span class="prod-number">[17]</span></td>
              <td><a class="sym" href="#prod-DefaultValue">DefaultValue</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ConstValue">ConstValue</a> <br>&nbsp;|
             <a class="sym" href="#prod-string">string</a> <br>&nbsp;|
             "[" "]"</span></td>
            </tr>
            <tr id="proddef-Operation">
              <td><span class="prod-number">[47]</span></td>
              <td><a class="sym" href="#prod-Operation">Operation</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationRest">OperationRest</a> <br>&nbsp;|
             <a class="sym" href="#prod-SpecialOperation">SpecialOperation</a></span></td>
            </tr>
            <tr id="proddef-SpecialOperation">
              <td><span class="prod-number">[48]</span></td>
              <td><a class="sym" href="#prod-SpecialOperation">SpecialOperation</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Special">Special</a> <a class="sym" href="#prod-Specials">Specials</a> <a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationRest">OperationRest</a></span></td>
            </tr>
            <tr id="proddef-Specials">
              <td><span class="prod-number">[49]</span></td>
              <td><a class="sym" href="#prod-Specials">Specials</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Special">Special</a> <a class="sym" href="#prod-Specials">Specials</a> <br>&nbsp;|
             ε</span></td>
            </tr>
            <tr id="proddef-Special">
              <td><span class="prod-number">[50]</span></td>
              <td><a class="sym" href="#prod-Special">Special</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"getter" <br>&nbsp;|
             "setter" <br>&nbsp;|
             "deleter" <br>&nbsp;|
             "legacycaller"</span></td>
            </tr>
            <tr id="proddef-OperationRest">
              <td><span class="prod-number">[51]</span></td>
              <td><a class="sym" href="#prod-OperationRest">OperationRest</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-OptionalIdentifier">OptionalIdentifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")" ";"</span></td>
            </tr>
            <tr id="proddef-OptionalIdentifier">
              <td><span class="prod-number">[52]</span></td>
              <td><a class="sym" href="#prod-OptionalIdentifier">OptionalIdentifier</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> <br>&nbsp;|
             ε</span></td>
            </tr>
            <tr id="proddef-ArgumentList">
              <td><span class="prod-number">[53]</span></td>
              <td><a class="sym" href="#prod-ArgumentList">ArgumentList</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Argument">Argument</a> <a class="sym" href="#prod-Arguments">Arguments</a> <br>&nbsp;|
             ε</span></td>
            </tr>
            <tr id="proddef-Arguments">
              <td><span class="prod-number">[54]</span></td>
              <td><a class="sym" href="#prod-Arguments">Arguments</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-Argument">Argument</a> <a class="sym" href="#prod-Arguments">Arguments</a> <br>&nbsp;|
             ε</span></td>
            </tr>
            <tr id="proddef-Argument">
              <td><span class="prod-number">[55]</span></td>
              <td><a class="sym" href="#prod-Argument">Argument</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-OptionalOrRequiredArgument">OptionalOrRequiredArgument</a></span></td>
            </tr>
            <tr id="proddef-OptionalOrRequiredArgument">
              <td><span class="prod-number">[56]</span></td>
              <td><a class="sym" href="#prod-OptionalOrRequiredArgument">OptionalOrRequiredArgument</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"optional" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-ArgumentName">ArgumentName</a> <a class="sym" href="#prod-Default">Default</a> <br>&nbsp;|
             <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-Ellipsis">Ellipsis</a> <a class="sym" href="#prod-ArgumentName">ArgumentName</a></span></td>
            </tr>
            <tr id="proddef-ArgumentName">
              <td><span class="prod-number">[57]</span></td>
              <td><a class="sym" href="#prod-ArgumentName">ArgumentName</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a></span></td>
            </tr>
            <tr id="proddef-Ellipsis">
              <td><span class="prod-number">[58]</span></td>
              <td><a class="sym" href="#prod-Ellipsis">Ellipsis</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"..." <br>&nbsp;|
             ε</span></td>
            </tr>
            <tr>
              <td><span class="prod-number">[71]</span></td>
              <td><a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">
              "attribute" <br>&nbsp;|
             "callback" <br>&nbsp;|
             "const" <br>&nbsp;|
             "deleter" <br>&nbsp;|
             "dictionary"
            <br>&nbsp;|
             "enum" <br>&nbsp;|
             "getter" <br>&nbsp;|
             "implements" <br>&nbsp;|
             "inherit" <br>&nbsp;|
             "interface" <br>&nbsp;|
             "iterable"
            <br>&nbsp;|
             "legacycaller" <br>&nbsp;|
             "partial" <br>&nbsp;|
             "required" <br>&nbsp;|
             "serializer" <br>&nbsp;|
             "setter" <br>&nbsp;|
             "static" <br>&nbsp;|
             "stringifier" <br>&nbsp;|
             "typedef"
            <br>&nbsp;|
             "unrestricted"
          </span></td>
            </tr>
            <tr id="proddef-ReturnType">
              <td><span class="prod-number">[89]</span></td>
              <td><a class="sym" href="#prod-ReturnType">ReturnType</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Type">Type</a> <br>&nbsp;|
             "void"</span></td>
            </tr>
          </tbody>
        </table>
      </section>

      <section id="idl-special-operations" typeof="bibo:Chapter" resource="#idl-special-operations" property="bibo:hasPart">
        <h4 id="h-idl-special-operations" resource="#h-idl-special-operations"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.4 </span>Special operations</span></h4>

        <p>
          A <dfn id="dfn-special-operation" data-dfn-type="dfn">special operation</dfn> is a declaration of a certain kind of special behavior on objects implementing the interface on which the special operation declarations appear. Special operations are declared by using one or more
          <dfn id="dfn-special-keyword" data-dfn-type="dfn">special keywords</dfn> in an operation declaration.
        </p>
        <p>
          There are six kinds of special operations. The table below indicates for a given kind of special operation what special keyword is used to declare it and what the purpose of the special operation is:
        </p>
        <table class="vert">
          <tbody>
            <tr>
              <th>Special operation</th>
              <th>Keyword</th>
              <th>Purpose</th>
            </tr>
            <tr>
              <td><dfn id="dfn-getter" data-dfn-type="dfn">Getters</dfn></td>
              <td><code>getter</code></td>
              <td>Defines behavior for when an object is indexed for property retrieval.</td>
            </tr>
            <tr>
              <td><dfn id="dfn-setter" data-dfn-type="dfn">Setters</dfn></td>
              <td><code>setter</code></td>
              <td>Defines behavior for when an object is indexed for property assignment or creation.</td>
            </tr>
            <tr>
              <td><dfn id="dfn-deleter" data-dfn-type="dfn">Deleters</dfn></td>
              <td><code>deleter</code></td>
              <td>Defines behavior for when an object is indexed for property deletion.</td>
            </tr>
            <tr>
              <td><dfn id="dfn-legacy-caller" data-dfn-type="dfn">Legacy callers</dfn></td>
              <td><code>legacycaller</code></td>
              <td>Defines behavior for when an object is called as if it were a function.</td>
            </tr>
            <tr>
              <td><dfn id="dfn-stringifier" data-dfn-type="dfn">Stringifiers</dfn></td>
              <td><code>stringifier</code></td>
              <td>Defines how an object is converted into a <a class="idltype" href="#idl-DOMString">DOMString</a>.</td>
            </tr>
            <tr>
              <td><dfn id="dfn-serializer" data-dfn-type="dfn">Serializers</dfn></td>
              <td><code>serializer</code></td>
              <td>Defines how an object is converted into a serialized form.</td>
            </tr>
          </tbody>
        </table>
        <p>
          Not all language bindings support all of the six kinds of special object behavior. When special operations are declared using operations with no identifier, then in language bindings that do not support the particular kind of special operations there simply will not be such functionality.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>The following IDL fragment defines an interface with a getter and a setter:</p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Dictionary {
  readonly attribute unsigned long propertyCount;

  getter double (DOMString propertyName);
  setter <span class="hljs-keyword">void</span> (DOMString propertyName, double propertyValue);
};</code></pre></div>
          </div>
          <p>In language bindings that do not support property getters and setters, objects implementing <span class="idltype">Dictionary</span> will not have that special behavior.
            <!--JAVA For example, in the Java language binding,
                the corresponding Java interface will have only a single method,
                <code>long getPropertyCount()</code>.--></p>
        </div>
        <!--
            <p>
              <a class='dfnref' href='#dfn-special-operation'>Special operations</a>
              can be declared using an <a class='dfnref' href='#dfn-operation'>operation</a>
              that has an <a class='dfnref' href='#dfn-identifier'>identifier</a>
              and the <code>omittable</code> keyword to indicate that
              in language bindings that do not support that kind of special operation,
              the <a class='dfnref' href='#dfn-regular-operation'>regular operation</a>
              is to be available on the object for use instead.  Such operations are
              known as <dfn id='dfn-omittable'>omittable</dfn>.
            </p>
            <div class='example'>
              <p>The following <a class='dfnref' href='#dfn-idl-fragment'>IDL fragment</a>
                declares <a class='dfnref' href='#dfn-special-operation'>special operations</a>
                with <a class='dfnref' href='#dfn-identifier'>identifiers</a>
                and using the <code>omittable</code> keyword:</p>
              <x:codeblock language='idl'>interface Dictionary {
  readonly attribute unsigned long propertyCount;

  omittable getter float getProperty(DOMString propertyName);
  omittable setter void setProperty(DOMString propertyName, float propertyValue);
};</x:codeblock>
              <p>In language bindings that do not support property getters and setters,
                such as Java,
                objects implementing <span class='idltype'>Dictionary</span> will have
                <span class='idlident'>getProperty</span> and <span class='idlident'>setProperty</span>
                operations available.  The corresponding Java interface would be:</p>
              <x:codeblock language='java'>public interface Dictionary {

  long getPropertyCount();
  float getProperty(String propertyName);
  void setProperty(String propertyName, float propertyValue);
}</x:codeblock>
              <p>
                These operations will be omitted in language
                bindings that do support property getters and setters, such as
                ECMAScript, however.
              </p>
              <x:codeblock language='es'>var dictionary = getDictionary();  <span class='comment'>// Get an instance of Dictionary.</span>

dictionary.getProperty;            <span class='comment'>// Actually invokes the property getter with property name "getProperty".</span>
dictionary.x = 1;                  <span class='comment'>// Invokes the property setter with property name "x" and value 1.</span></x:codeblock>
            </div>
            -->
        <p>
          Defining a special operation
          <!--without using the <code>omittable</code> keyword
              on an operation but giving the operation an-->with an <a class="dfnref" href="#dfn-identifier">identifier</a> is equivalent to separating the special operation out into its own declaration without an identifier. This approach is allowed to simplify prose descriptions of an interface’s operations.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>The following two interfaces are equivalent:</p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Dictionary {
  readonly attribute unsigned long propertyCount;

  getter double getProperty(DOMString propertyName);
  setter <span class="hljs-keyword">void</span> setProperty(DOMString propertyName, double propertyValue);
};</code></pre></div>
          </div>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Dictionary {
  readonly attribute unsigned long propertyCount;

  double getProperty(DOMString propertyName);
  <span class="hljs-keyword">void</span> setProperty(DOMString propertyName, double propertyValue);

  getter double (DOMString propertyName);
  setter <span class="hljs-keyword">void</span> (DOMString propertyName, double propertyValue);
};</code></pre></div>
          </div>
        </div>
        <!--
            <p>
              The <code>omittable</code> keyword <span class='rfc2119'>MUST NOT</span>
              appear on an operation that has no identifier.
            </p>
            -->
        <p>
          A given <a class="dfnref" href="#dfn-special-keyword">special keyword</a> <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> appear twice on an operation.
        </p>
        <p>
          Getters and setters come in two varieties: ones that take a <a class="idltype" href="#idl-DOMString">DOMString</a> as a property name, known as
          <dfn id="dfn-named-property-getter" data-dfn-type="dfn">named property getters</dfn> and
          <dfn id="dfn-named-property-setter" data-dfn-type="dfn">named property setters</dfn>, and ones that take an <a class="idltype" href="#idl-unsigned-long">unsigned long</a> as a property index, known as
          <dfn id="dfn-indexed-property-getter" data-dfn-type="dfn">indexed property getters</dfn> and
          <dfn id="dfn-indexed-property-setter" data-dfn-type="dfn">indexed property setters</dfn>. There is only one variety of deleter:
          <dfn id="dfn-named-property-deleter" data-dfn-type="dfn">named property deleters</dfn>. See <a href="#idl-indexed-properties">section </a><a href="#idl-indexed-properties">3.2.4.4 </a> and <a href="#idl-named-properties">section </a><a href="#idl-named-properties">3.2.4.5 </a> for details.
        </p>
        <p>
          On a given <a class="dfnref" href="#dfn-interface">interface</a>, there <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist at most one stringifier, at most one serializer, at most one
          <a class="dfnref" href="#dfn-named-property-deleter">named property deleter</a>, and at most one of each variety of getter and setter. Multiple legacy callers can exist on an interface to specify overloaded calling behavior.
        </p>
        <p>
          If an interface has a setter of a given variety, then it <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> also have a getter of that variety. If it has a <a class="dfnref" href="#dfn-named-property-deleter">named property deleter</a>, then it <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> also have a
          <a class="dfnref" href="#dfn-named-property-getter">named property getter</a>.
        </p>
        <p>
          Special operations declared using operations <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be <a class="dfnref" href="#dfn-variadic">variadic</a> nor have any
          <a class="dfnref" href="#dfn-optional-argument">optional arguments</a>.
        </p>
        <p>
          Special operations <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be declared on
          <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.
        </p>
        <p>
          If an object implements more than one <a class="dfnref" href="#dfn-interface">interface</a> that defines a given special operation, then it is undefined which (if any) special operation is invoked for that operation.
        </p>

        <section id="idl-legacy-callers" typeof="bibo:Chapter" resource="#idl-legacy-callers" property="bibo:hasPart">
          <h5 id="h-idl-legacy-callers" resource="#h-idl-legacy-callers"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.4.1 </span>Legacy callers</span></h5>

          <p>
            When an <a class="dfnref" href="#dfn-interface">interface</a> has one or more
            <a class="dfnref" href="#dfn-legacy-caller">legacy callers</a>, it indicates that objects that implement the interface can be called as if they were functions. As mentioned above, legacy callers can be specified using an <a class="dfnref" href="#dfn-operation">operation</a> declared with the <code>legacycaller</code> keyword.
          </p>
          <pre class="syntax hljs javascript">legacycaller <i><span class="hljs-keyword">return</span>-type</i> <i>identifier</i>(<i><span class="hljs-built_in">arguments</span>…</i>);
legacycaller <i><span class="hljs-keyword">return</span>-type</i> (<i><span class="hljs-built_in">arguments</span>…</i>);</pre>
          <p>
            If multiple legacy callers are specified on an interface, overload resolution is used to determine which legacy caller is invoked when the object is called as if it were a function.
          </p>
          <p>
            Legacy callers <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be defined to return a
            <a href="#idl-promise">promise type</a>.
          </p>
          <div class="warning">
            <div class="warning-title marker"><span>Warning</span></div>
            <div class="">
              <p>
                Legacy callers are universally recognised as an undesirable feature. They exist only so that legacy Web platform features can be specified. Legacy callers
                <span class="rfc2119"><em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em></span> be used in specifications unless required to specify the behavior of legacy APIs, and even then this should be discussed on the <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a> mailing list before proceeding.
              </p>
            </div>
          </div>

          <div class="example">
            <div class="exampleHeader">Example</div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an <a class="dfnref" href="#dfn-interface">interface</a> with a <a class="dfnref" href="#dfn-legacy-caller">legacy caller</a>.
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface NumberQuadrupler {
  <span class="comment"><span class="hljs-comment">// This operation simply returns four times the given number x.</span></span>
  legacycaller double compute(double x);
};</code></pre></div>
            </div>
            <p>
              An ECMAScript implementation supporting this interface would allow a <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements <span class="idltype">NumberQuadrupler</span> to be called as a function:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
              <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> f = getNumberQuadrupler();  <span class="comment"><span class="hljs-comment">// Obtain an instance of NumberQuadrupler.</span></span>

f.compute(<span class="hljs-number">3</span>);                   <span class="comment"><span class="hljs-comment">// This evaluates to 12.</span></span>
f(<span class="hljs-number">3</span>);                           <span class="comment"><span class="hljs-comment">// This also evaluates to 12.</span></span></code></pre></div>
            </div>
          </div>
        </section>

        <section id="idl-stringifiers" typeof="bibo:Chapter" resource="#idl-stringifiers" property="bibo:hasPart">
          <h5 id="h-idl-stringifiers" resource="#h-idl-stringifiers"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.4.2 </span>Stringifiers</span></h5>

          <p>
            When an <a class="dfnref" href="#dfn-interface">interface</a> has a
            <a class="dfnref" href="#dfn-stringifier">stringifier</a>, it indicates that objects that implement the interface have a non-default conversion to a string. As mentioned above, stringifiers can be specified using an <a class="dfnref" href="#dfn-operation">operation</a> declared with the <code>stringifier</code> keyword.
          </p>
          <pre class="syntax hljs">stringifier DOMString <i>identifier</i>();
stringifier DOMString ();</pre>
          <p>
            If an operation used to declare a stringifier does not have an
            <a class="dfnref" href="#dfn-identifier">identifier</a>, then prose accompanying the interface <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> define the <dfn id="dfn-stringification-behavior" data-dfn-type="dfn">stringification behavior</dfn> of the interface. If the operation does have an identifier, then the object is converted to a string by invoking the operation to obtain the string.
          </p>
          <p>
            Stringifiers declared with operations <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be declared to take zero arguments and return a <a class="idltype" href="#idl-DOMString">DOMString</a>.
          </p>
          <p>
            As a shorthand, if the <code>stringifier</code> keyword is declared using an operation with no identifier, then the operation’s <a class="dfnref" href="#dfn-return-type">return type</a> and argument list can be omitted.
          </p>
          <pre class="syntax hljs">stringifier;</pre>
          <div class="example">
            <div class="exampleHeader">Example</div>
            <p>The following two interfaces are equivalent:</p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface A {
  stringifier DOMString ();
};</code></pre></div>
            </div>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface A {
  stringifier;
};</code></pre></div>
            </div>
          </div>
          <p>
            The <code>stringifier</code> keyword can also be placed on an <a class="dfnref" href="#dfn-attribute">attribute</a>. In this case, the string to convert the object to is the value of the attribute. The <code>stringifier</code> keyword
            <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be placed on an attribute unless it is declared to be of type <a class="idltype" href="#idl-DOMString">DOMString</a> or <a class="idltype" href="#idl-USVString">USVString</a>. It also <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be placed on a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
          </p>
          <pre class="syntax hljs xquery">stringifier <span class="hljs-literal">attribute</span> DOMString <i>identifier</i>;</pre>

          <table class="grammar">
            <tbody>
              <tr id="proddef-Stringifier">
                <td><span class="prod-number">[35]</span></td>
                <td><a class="sym" href="#prod-Stringifier">Stringifier</a></td>
                <td class="prod-mid">→</td>
                <td class="prod-rhs"><span class="prod-lines">"stringifier" <a class="sym" href="#prod-StringifierRest">StringifierRest</a></span></td>
              </tr>
              <tr id="proddef-StringifierRest">
                <td><span class="prod-number">[36]</span></td>
                <td><a class="sym" href="#prod-StringifierRest">StringifierRest</a></td>
                <td class="prod-mid">→</td>
                <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ReadOnly">ReadOnly</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a> <br>&nbsp;|
             <a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationRest">OperationRest</a> <br>&nbsp;|
             ";"</span></td>
              </tr>
            </tbody>
          </table>

          <div class="example">
            <div class="exampleHeader">Example</div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface that will stringify to the value of its
              <span class="idlattr">name</span> attribute:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">[Constructor]
interface Student {
  attribute unsigned long id;
  stringifier attribute DOMString name;
};</code></pre></div>
            </div>
            <p>
              In the ECMAScript binding, using a <span class="idltype">Student</span> object in a context where a string is expected will result in the value of the object’s “name” property being used:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
              <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Student();
s.id = <span class="hljs-number">12345678</span>;
s.name = <span class="hljs-string">'周杰倫'</span>;

<span class="hljs-keyword">var</span> greeting = <span class="hljs-string">'Hello, '</span> + s + <span class="hljs-string">'!'</span>;  <span class="comment"><span class="hljs-comment">// Now greeting == 'Hello, 周杰倫!'.</span></span></code></pre></div>
            </div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface that has custom stringification behavior that is not specified in the IDL itself.
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">[Constructor]
interface Student {
  attribute unsigned long id;
  attribute DOMString? familyName;
  attribute DOMString givenName;

  stringifier DOMString ();
};</code></pre></div>
            </div>
            <p>
              Thus, prose is required to explain the stringification behavior, such as the following paragraph:
            </p>
            <blockquote>
              <p>
                Objects that implement the <span class="idltype">Student</span> interface must stringify as follows. If the value of the
                <span class="idlattr">familyName</span> attribute is
                <span class="idlvalue">null</span>, the stringification of the object is the value of the <span class="idlattr">givenName</span> attribute. Otherwise, if the value of the
                <span class="idlattr">familyName</span> attribute is not <span class="idlvalue">null</span>, the stringification of the object is the concatenation of the value of the <span class="idlattr">givenName</span> attribute, a single space character, and the value of the <span class="idlattr">familyName</span> attribute.
              </p>
            </blockquote>
            <p>
              An ECMAScript implementation of the IDL would behave as follows:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
              <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> s = <span class="hljs-keyword">new</span> Student();
s.id = <span class="hljs-number">12345679</span>;
s.familyName = <span class="hljs-string">'Smithee'</span>;
s.givenName = <span class="hljs-string">'Alan'</span>;

<span class="hljs-keyword">var</span> greeting = <span class="hljs-string">'Hi '</span> + s;  <span class="comment"><span class="hljs-comment">// Now greeting == 'Hi Alan Smithee'.</span></span></code></pre></div>
            </div>
          </div>
        </section>

        <section id="idl-serializers" typeof="bibo:Chapter" resource="#idl-serializers" property="bibo:hasPart">
          <h5 id="h-idl-serializers" resource="#h-idl-serializers"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.4.3 </span>Serializers</span></h5>

        <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>The <em>NodeFilterSerializers</em> will be simplified soon, please see discussions in <a href="https://github.com/heycam/webidl/issues/188">Issue 188</a></p>
          </div>
        </div>

          <p>
            When an <a class="dfnref" href="#dfn-interface">interface</a> has a
            <a class="dfnref" href="#dfn-serializer">serializer</a>, it indicates that objects provide a way for them to be converted into a serialized form. Serializers can be declared using the <code>serializer</code> keyword:
          </p>
          <pre class="syntax hljs">serializer;</pre>
          <p>
            Prose accompanying an interface that declares a serializer in this way <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> define the
            <dfn id="dfn-serialization-behavior" data-dfn-type="dfn">serialization behavior</dfn> of the interface. Serialization behavior is defined as returning a <dfn id="dfn-serialized-value" data-dfn-type="dfn">serialized value</dfn> of one of the following types:
          </p>
          <ul>
            <li>a <em>map</em> of key–value pairs, where the keys are
              <a class="idltype" href="#idl-DOMString">DOMString</a> values (unique in the map) and the values are <a class="dfnref" href="#dfn-serialized-value">serialized values</a></li>
            <li>a <em>list</em> of <a class="dfnref" href="#dfn-serialized-value">serialized values</a></li>
            <li>a <a class="idltype" href="#idl-DOMString">DOMString</a> value</li>
            <li>an <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value</li>
            <li>a <a class="idltype" href="#idl-boolean">boolean</a> value</li>
            <li>the <span class="idlvalue">null</span> value</li>
          </ul>
          <p>
            How the <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> is made available on an object in a language binding, and how exactly the abstract
            <a class="dfnref" href="#dfn-serialized-value">serialized value</a> is converted into an appropriate concrete value, is language binding specific.
          </p>
          <div class="note">
            <div class="note-title marker" aria-level="6" role="heading" id="h-note16"><span>Note</span></div>
            <div class="">
              <p>In the ECMAScript language binding,
                <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> is exposed as a <code>toJSON</code> method which returns the
                <a class="dfnref" href="#dfn-serialized-value">serialized value</a> converted into an ECMAScript value that can be serialized to JSON by the
                <code>JSON.stringify</code> function. See <a href="#es-serializer">section </a><a href="#es-serializer">4.6.8.2 </a> for details.</p>
            </div>
          </div>
          <p>
            <a class="dfnref" href="#dfn-serialization-behavior">Serialization behavior</a> can also be specified directly in IDL, rather than separately as prose. This is done by following the <code>serializer</code> keyword with a <span class="char">U+003D EQUALS SIGN ("=")</span> character and a <dfn id="dfn-serialization-pattern" data-dfn-type="dfn">serialization pattern</dfn>, which can take one of the following six forms:
          </p>
          <ul>
            <li>
              <p>A map with entries corresponding to zero or more attributes from the interface, and optionally attributes from an inherited interface:</p>
              <pre class="syntax hljs xquery">serializer = { <i>attribute-identifier</i>, <i>attribute-identifier</i>, … };
serializer = { inherit, <i>attribute-identifier</i>, <i>attribute-identifier</i>, … };</pre>
              <p>Each identifier <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the identifier of an attribute declared on the interface. The identified attributes all <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a
                <a class="dfnref" href="#dfn-serializable-type">serializable type</a>.</p>
              <p>The <code>inherit</code> keyword <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used unless the interface inherits from another that defines a serializer, and the closest such interface defines its serializer using this <a class="dfnref" href="#dfn-serialization-pattern">serialization pattern</a> form or the following form (i.e. <code>{ attribute }</code>).</p>
              <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this form of serialization pattern is as follows:</p>
              <ol class="algorithm">
                <li>Let <var>map</var> be an empty map.</li>
                <li>If the <code>inherit</code> keyword was used, then set <var>map</var> to be the result of the <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> of the closest inherited interface that declares a serializer.</li>
                <li>For each attribute identifier <var>i</var> in the serialization pattern, in order:
                  <ol>
                    <li>Remove any entry in <var>map</var> with key name <var>i</var>.</li>
                    <li>Let <var>V</var> be the value of the attribute with identifier <var>i</var>.</li>
                    <li>Add an entry to <var>map</var> whose key name is <var>i</var> and whose value is result of <a class="dfnref" href="#dfn-convert-to-serialized-value">converting</a>
                      <var>V</var> to a serialized value.</li>
                  </ol>
                </li>
                <li>Return <var>map</var>.</li>
              </ol>
            </li>
            <li>
              <p>A map with entries corresponding to all attributes from the interface that have a <a class="dfnref" href="#dfn-serializable-type">serializable type</a>, and optionally attributes from an inherited interface:</p>
              <pre class="syntax hljs xquery">serializer = { attribute };
serializer = { inherit, attribute };</pre>
              <p>The <code>inherit</code> keyword <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used unless the interface inherits from another that defines a serializer, and the closest such interface defines its serializer using this <a class="dfnref" href="#dfn-serialization-pattern">serialization pattern</a> form or the previous form.</p>
              <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this form of serialization pattern is as follows:</p>
              <ol class="algorithm">
                <li>Let <var>map</var> be an empty map.</li>
                <li>If the <code>inherit</code> keyword was used, then set <var>map</var> to be the result of the <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> of the closest inherited interface that declares a serializer.</li>
                <li>For each identifier <var>i</var> of an attribute on the interface whose type is a <a class="dfnref" href="#dfn-serializable-type">serializable type</a>, in the order they appear on the interface:
                  <ol>
                    <li>Remove any entry in <var>map</var> with key name <var>i</var>.</li>
                    <li>Let <var>V</var> be the value of the attribute with identifier <var>i</var>.</li>
                    <li>Add an entry to <var>map</var> whose key name is <var>i</var> and whose value is result of <a class="dfnref" href="#dfn-convert-to-serialized-value">converting</a>
                      <var>V</var> to a serialized value.</li>
                  </ol>
                </li>
                <li>Return <var>map</var>.</li>
              </ol>
            </li>
            <li>
              <p>A map with entries corresponding to the named properties:</p>
              <pre class="syntax hljs xquery">serializer = { getter };</pre>
              <p>This form <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used unless the interface or one it inherits from supports named properties and the return type of the named property getter is a serializable type.</p>
              <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this form of serialization pattern is as follows:</p>
              <ol class="algorithm">
                <li>Let <var>map</var> be an empty map.</li>
                <li>For each supported property name <var>n</var> on the object, in order:
                  <ol>
                    <li>Let <var>V</var> be the value of the named property with name <var>n</var>.</li>
                    <li>Add an entry to <var>map</var> whose key name is <var>i</var> and whose value is result of <a class="dfnref" href="#dfn-convert-to-serialized-value">converting</a>
                      <var>V</var> to a serialized value.</li>
                  </ol>
                </li>
                <li>Return <var>map</var>.</li>
              </ol>
            </li>
            <li>
              <p>A list of value of zero or more attributes on the interface:</p>
              <pre class="syntax hljs">serializer = [ <i>attribute-identifier</i>, <i>attribute-identifier</i>, … ];</pre>
              <p>Each identifier <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the identifier of an attribute declared on the interface. The identified attributes all <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a
                <a class="dfnref" href="#dfn-serializable-type">serializable type</a>.</p>
              <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this form of serialization pattern is as follows:</p>
              <ol class="algorithm">
                <li>Let <var>list</var> be an empty list.</li>
                <li>For each attribute identifier <var>i</var> in the serialization pattern:
                  <ol>
                    <li>Let <var>V</var> be the value of the attribute with identifier <var>i</var>.</li>
                    <li>Append to <var>list</var> the value that is the result of
                      <a class="dfnref" href="#dfn-convert-to-serialized-value">converting</a>
                      <var>V</var> to a serialized value.</li>
                  </ol>
                </li>
                <li>Return <var>list</var>.</li>
              </ol>
            </li>
            <li>
              <p>A list with entries corresponding to the indexed properties:</p>
              <pre class="syntax hljs">serializer = [ getter ];</pre>
              <p>This form <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used unless the interface or one it inherits from supports indexed properties and the return type of the indexed property getter is a serializable type.</p>
              <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this form of serialization pattern is as follows:</p>
              <ol class="algorithm">
                <li>Let <var>list</var> be an empty list.</li>
                <li>Let <var>i</var> be 0.</li>
                <li>While <var>i</var> is less than or equal to the greatest supported property index on the object:
                  <ol>
                    <li>Let <var>V</var> be the value of the indexed property with index <var>i</var> if <var>i</var> is a supported property index, or <span class="idlvalue">null</span> otherwise.</li>
                    <li>Append to <var>list</var> the value that is the result of
                      <a class="dfnref" href="#dfn-convert-to-serialized-value">converting</a>
                      <var>V</var> to a serialized value.</li>
                    <li>Set <var>i</var> to <var>i</var> + 1.</li>
                  </ol>
                </li>
                <li>Return <var>map</var>.</li>
              </ol>
            </li>
            <li>
              <p>A single attribute:</p>
              <pre class="syntax hljs">serializer = <i>attribute-identifier</i>;</pre>
              <p>The identifier <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the identifier of an attribute declared on the interface, and this attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a
                <a class="dfnref" href="#dfn-serializable-type">serializable type</a>.</p>
              <p>The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> for this form of serialization pattern is as follows:</p>
              <ol class="algorithm">
                <li>Let <var>V</var> be the value of the attribute with the specified identifier.</li>
                <li>Return the result of <a class="dfnref" href="#dfn-convert-to-serialized-value">converting</a>
                  <var>V</var> to a serialized value.</li>
              </ol>
            </li>
          </ul>

          <div class="note">
            <div class="note-title marker" aria-level="6" role="heading" id="h-note17"><span>Note</span></div>
            <div class="">
              <p>
                Entries are added to maps in a particular order so that in the ECMAScript language binding it is defined what order properties are added to objects. This is because this order can influence the serialization that <code>JSON.stringify</code> can produce.
              </p>
            </div>
          </div>

          <p>The list of <dfn id="dfn-serializable-type" data-dfn-type="dfn">serializable types</dfn> and how they are
            <dfn id="dfn-convert-to-serialized-value" data-dfn-type="dfn">converted to serialized values</dfn> is as follows:</p>
          <dl class="switch">
            <dt><a class="idltype" href="#idl-long-long">long long</a></dt>
            <dd>converted by choosing the closest equivalent <a class="idltype" href="#idl-double">double</a> value (as when <a href="#es-long-long">converting a <span class="idltype">long long</span> to an ECMAScript <span class="estype">Number</span> value</a>)</dd>
            <dt><a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a></dt>
            <dd>converted by choosing the closest equivalent <a class="idltype" href="#idl-double">double</a> value (as when <a href="#es-unsigned-long-long">converting a <span class="idltype">unsigned long long</span> to an ECMAScript <span class="estype">Number</span> value</a>)</dd>
            <dt>any other <a class="dfnref" href="#dfn-integer-type">integer type</a></dt>
            <dt><a class="idltype" href="#idl-float">float</a></dt>
            <dd>converted by choosing the equivalent <a class="idltype" href="#idl-double">double</a> value</dd>
            <dt><a class="idltype" href="#idl-double">double</a></dt>
            <dt><a class="idltype" href="#idl-boolean">boolean</a></dt>
            <dt><a class="idltype" href="#idl-DOMString">DOMString</a></dt>
            <dd>the same value of the respective type</dd>
            <dt>an <a class="dfnref" href="#dfn-enumeration">enumeration type</a></dt>
            <dd>the equivalent <a class="idltype" href="#idl-DOMString">DOMString</a> value</dd>
            <dt>a <a class="idltype" href="#idl-USVString">USVString</a></dt>
            <dd>the <a class="idltype" href="#idl-DOMString">DOMString</a> produced by encoding the given sequence of <a class="external" href="http://www.unicode.org/glossary/#unicode_scalar_value">Unicode scalar values</a> in UTF-16
            </dd>
            <dt>a <a class="idltype" href="#idl-ByteString">ByteString</a></dt>
            <dd>the equivalent <a class="idltype" href="#idl-DOMString">DOMString</a> value where each code unit has the same value as the corresponding byte value</dd>
            <dt>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> serializable type</dt>
            <dd>converted to <span class="idltype">null</span> if that is its value, otherwise converted as per its <a class="dfnref" href="#dfn-inner-type">inner type</a></dd>
            <dt>a <a class="dfnref" href="#dfn-union-type">union type</a> where
                  all of its <a class="dfnref" href="#dfn-union-member-type">member types</a>
                  are serializable types</dt>
            <dd>converted as per its <a class="dfnref" href="#dfn-specific-type">specific type</a></dd>
            <dt>a <a href="#idl-sequence">sequence type</a> that
                  has a serializable type as its element type</dt>
            <dd>converted to a list where each element is the result of converting its corresponding sequence element to a serialized value</dd>
            <dt>a <a class="dfnref" href="#dfn-dictionary">dictionary</a> where
                  all of its <a class="dfnref" href="#dfn-dictionary-member">members</a> have
                  serializable types</dt>
            <dd>converted to a map consisting of an entry for each dictionary member that is present, where the entry’s key is the identifier of the dictionary member and its value is the result of converting the dictionary member’s value to a serializable type</dd>
            <dt>an <a href="#idl-interface">interface</a> type that has a
                  <a class="dfnref" href="#dfn-serializer">serializer</a></dt>
            <dd>converted by invoking the object’s serializer</dd>
          </dl>

          <p>
            Serializers can also be specified using an <a class="dfnref" href="#dfn-operation">operation</a> with the <code>serializer</code> keyword:
          </p>
          <pre class="syntax hljs">serializer <i>type</i> <i>identifier</i>();</pre>
          <p>
            Serializers declared with operations <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be declared to take zero arguments and return a <a class="dfnref" href="#dfn-serializable-type">serializable type</a>.
          </p>
          <p>
            The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> of the interface with a serializer declared with an operation is the result of
            <a class="dfnref" href="#dfn-convert-to-serialized-value">converting</a> the value returned from invoking the operation to a serialized value.
          </p>

          <table class="grammar">
            <tbody>
              <tr id="proddef-Serializer">
                <td><span class="prod-number">[30]</span></td>
                <td><a class="sym" href="#prod-Serializer">Serializer</a></td>
                <td class="prod-mid">→</td>
                <td class="prod-rhs"><span class="prod-lines">"serializer" <a class="sym" href="#prod-SerializerRest">SerializerRest</a></span></td>
              </tr>
              <tr id="proddef-SerializerRest">
                <td><span class="prod-number">[31]</span></td>
                <td><a class="sym" href="#prod-SerializerRest">SerializerRest</a></td>
                <td class="prod-mid">→</td>
                <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-OperationRest">OperationRest</a> <br>&nbsp;|
             "=" <a class="sym" href="#prod-SerializationPattern">SerializationPattern</a> ";" <br>&nbsp;|
             ";"</span></td>
              </tr>
              <tr id="proddef-SerializationPattern">
                <td><span class="prod-number">[32]</span></td>
                <td><a class="sym" href="#prod-SerializationPattern">SerializationPattern</a></td>
                <td class="prod-mid">→</td>
                <td class="prod-rhs"><span class="prod-lines">"{" <a class="sym" href="#prod-SerializationPatternMap">SerializationPatternMap</a> "}" <br>&nbsp;|
             "[" <a class="sym" href="#prod-SerializationPatternList">SerializationPatternList</a> "]" <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a></span></td>
              </tr>
              <tr id="proddef-SerializationPatternMap">
                <td><span class="prod-number">[33]</span></td>
                <td><a class="sym" href="#prod-SerializationPatternMap">SerializationPatternMap</a></td>
                <td class="prod-mid">→</td>
                <td class="prod-rhs"><span class="prod-lines">"getter" <br>&nbsp;|
             "inherit" <a class="sym" href="#prod-Identifiers">Identifiers</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br>&nbsp;|
             ε</span></td>
              </tr>
              <tr id="proddef-SerializationPatternList">
                <td><span class="prod-number">[34]</span></td>
                <td><a class="sym" href="#prod-SerializationPatternList">SerializationPatternList</a></td>
                <td class="prod-mid">→</td>
                <td class="prod-rhs"><span class="prod-lines">"getter" <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br>&nbsp;|
             ε</span></td>
              </tr>
              <tr id="proddef-Identifiers">
                <td><span class="prod-number">[91]</span></td>
                <td><a class="sym" href="#prod-Identifiers">Identifiers</a></td>
                <td class="prod-mid">→</td>
                <td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br>&nbsp;|
             ε</span></td>
              </tr>
            </tbody>
          </table>

          <div class="example">
            <div class="exampleHeader">Example</div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface <span class="idltype">Transaction</span> that has a
              <a class="dfnref" href="#dfn-serializer">serializer</a> defines in prose:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Transaction {
  readonly attribute Account from;
  readonly attribute Account to;
  readonly attribute double amount;
  readonly attribute DOMString description;
  readonly attribute unsigned long number;

  serializer;
};

interface Account {
  DOMString name;
  unsigned long number;
};</code></pre></div>
            </div>
            <p>
              The serializer could be defined as follows:
            </p>
            <blockquote>
              <p>
                The <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> of the <span class="idltype">Transaction</span> interface is to run the following algorithm, where <var>O</var> is the object that implements <span class="idltype">Transaction</span>:
              </p>
              <ol class="algorithm">
                <li>Let <var>map</var> be an empty map.</li>
                <li>Add an entry to <var>map</var> whose key is “from” and whose value is the <a class="dfnref" href="#dfn-serialized-value">serialized value</a> of the <code>number</code> attribute on the <span class="idltype">Account</span> object referenced by the <code>from</code> attribute on <var>O</var>.</li>
                <li>Add an entry to <var>map</var> whose key is “to” and whose value is the <a class="dfnref" href="#dfn-serialized-value">serialized value</a> of the <code>number</code> attribute on the <span class="idltype">Account</span> object referenced by the <code>from</code> attribute on <var>O</var>.</li>
                <li>For both of the attributes <code>amount</code> and <code>description</code>, add an entry to <var>map</var> whose key is the
                  <a class="dfnref" href="#dfn-identifier">identifier</a> of the attribute and whose value is the <a class="dfnref" href="#dfn-serialized-value">serialized value</a> of the value of the attribute on <var>O</var>.</li>
                <li>Return <var>map</var>.</li>
              </ol>
            </blockquote>
            <p>
              If it was acceptable for <span class="idltype">Account</span> objects to be serializable on their own, then <a class="dfnref" href="#dfn-serialization-pattern">serialization patterns</a> could be used to avoid having to define the <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> in prose:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Transaction {
  readonly attribute Account from;
  readonly attribute Account to;
  readonly attribute double amount;
  readonly attribute DOMString description;
  readonly attribute unsigned long number;

  serializer = { from, to, amount, description };
};

interface Account {
  DOMString name;
  unsigned long number;

  serializer = number;
};</code></pre></div>
            </div>
            <p>
              In the ECMAScript language binding, there would exist a <code>toJSON</code> method on
              <span class="idltype">Transaction</span> objects:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
              <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="comment"><span class="hljs-comment">// Get an instance of Transaction.</span></span>
<span class="hljs-keyword">var</span> txn = getTransaction();

<span class="comment"><span class="hljs-comment">// Evaluates to an object like this:</span>
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   from: 1234</span>
<span class="hljs-comment">//   to: 5678</span>
<span class="hljs-comment">//   amount: 110.75</span>
<span class="hljs-comment">//   description: "dinner"</span>
<span class="hljs-comment">// }</span></span>
txn.toJSON();

<span class="comment"><span class="hljs-comment">// Evaluates to a string like this:</span>
<span class="hljs-comment">// '{"from":1234,"to":5678,"amount":110.75,"description":"dinner"}'</span></span>
<span class="hljs-built_in">JSON</span>.stringify(txn);</code></pre></div>
            </div>
          </div>
        </section>

        <section id="idl-indexed-properties" typeof="bibo:Chapter" resource="#idl-indexed-properties" property="bibo:hasPart">
          <h5 id="h-idl-indexed-properties" resource="#h-idl-indexed-properties"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.4.4 </span>Indexed properties</span></h5>

          <p>
            An <a class="dfnref" href="#dfn-interface">interface</a> that defines an <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a> is said to <dfn id="dfn-support-indexed-properties" data-dfn-type="dfn">support indexed properties</dfn>.
          </p>
          <p>
            If an interface <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a>, then the interface definition <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be accompanied by a description of what indices the object can be indexed with at any given time. These indices are called the <dfn id="dfn-supported-property-indices" data-dfn-type="dfn">supported property indices</dfn>.
          </p>
          <p>
            Indexed property getters <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be declared to take a single <a class="idltype" href="#idl-unsigned-long">unsigned long</a> argument. Indexed property setters <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be declared to take two arguments, where the first is an <a class="idltype" href="#idl-unsigned-long">unsigned long</a>.
          </p>
          <pre class="syntax hljs">getter <i>type</i> <i>identifier</i>(unsigned long <i>identifier</i>);
setter <i>type</i> <i>identifier</i>(unsigned long <i>identifier</i>, <i>type</i> <i>identifier</i>);

getter <i>type</i> (unsigned long <i>identifier</i>);
setter <i>type</i> (unsigned long <i>identifier</i>, <i>type</i> <i>identifier</i>);</pre>
          <p>
            The following requirements apply to the definitions of indexed property getters and setters:
          </p>
          <ul>
            <li>
              If an <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a> was specified using an <a class="dfnref" href="#dfn-operation">operation</a> with an <a class="dfnref" href="#dfn-identifier">identifier</a>, then the value returned when indexing the object with a given <a class="dfnref" href="#dfn-supported-property-indices">supported property index</a> is the value that would be returned by invoking the operation, passing the index as its only argument. If the operation used to declare the indexed property getter did not have an identifier, then the interface definition must be accompanied by a description of how to <dfn id="dfn-determine-the-value-of-an-indexed-property" data-dfn-type="dfn">determine the value of an indexed property</dfn> for a given index.
            </li>
            <li>
              If an <a class="dfnref" href="#dfn-indexed-property-setter">indexed property setter</a> was specified using an operation with an identifier, then the behavior that occurs when indexing the object for property assignment with a given supported property index and value is the same as if the operation is invoked, passing the index as the first argument and the value as the second argument. If the operation used to declare the indexed property setter did not have an identifier, then the interface definition must be accompanied by a description of how to <dfn id="dfn-set-the-value-of-an-existing-indexed-property" data-dfn-type="dfn">set the value of an existing indexed property</dfn> and how to <dfn id="dfn-set-the-value-of-a-new-indexed-property" data-dfn-type="dfn">set the value of a new indexed property</dfn> for a given property index and value.
            </li>
          </ul>

          <div class="note">
            <div class="note-title marker" aria-level="6" role="heading" id="h-note18"><span>Note</span></div>
            <div class="">
              <p>
                Note that if an <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a> or
                <a class="dfnref" href="#dfn-indexed-property-setter">setter</a> is specified using an <a class="dfnref" href="#dfn-operation">operation</a> with an <a class="dfnref" href="#dfn-identifier">identifier</a>, then indexing an object with an integer that is not a <a class="dfnref" href="#dfn-supported-property-indices">supported property index</a> does not necessarily elicit the same behavior as invoking the operation with that index. The actual behavior in this case is language binding specific.
              </p>
              <p>
                In the ECMAScript language binding, a regular property lookup is done. For example, take the following IDL:
              </p>
              <div class="block">
                <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
                <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface A {
  getter DOMString toWord(unsigned long index);
};</code></pre></div>
              </div>
              <p>
                Assume that an object implementing <span class="idltype">A</span> has <a class="dfnref" href="#dfn-supported-property-indices">supported property indices</a> in the range 0 ≤ <var>index</var> &lt; 2. Also assume that toWord is defined to return its argument converted into an English word. The behavior when invoking the
                <a class="dfnref" href="#dfn-operation">operation</a> with an out of range index is different from indexing the object directly:
              </p>
              <div class="block">
                <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
                <div class="blockContent"><pre class="code hljs xquery"><code class="es-code">var a = getA();

a.toWord(<span class="hljs-number">0</span>);  <span class="comment">// Evalautes <span class="hljs-keyword">to</span> <span class="hljs-string">"zero"</span>.</span>
a[<span class="hljs-number">0</span>];         <span class="comment">// Also evaluates <span class="hljs-keyword">to</span> <span class="hljs-string">"zero"</span>.</span>

a.toWord(<span class="hljs-number">5</span>);  <span class="comment">// Evaluates <span class="hljs-keyword">to</span> <span class="hljs-string">"five"</span>.</span>
a[<span class="hljs-number">5</span>];         <span class="comment">// Evaluates <span class="hljs-keyword">to</span> undefined, since there is no property <span class="hljs-string">"5"</span>.</span></code></pre></div>
              </div>
            </div>
          </div>

          <div class="example">
            <div class="exampleHeader">Example</div>
            <p>
              The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface
              <span class="idltype">OrderedMap</span> which allows retrieving and setting values by name or by index number:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface OrderedMap {
  readonly attribute unsigned long size;

  getter any getByIndex(unsigned long index);
  setter <span class="hljs-keyword">void</span> setByIndex(unsigned long index, any value);

  getter any get(DOMString name);
  setter <span class="hljs-keyword">void</span> set(DOMString name, any value);
};</code></pre></div>
            </div>
            <p>
              Since all of the special operations are declared using operations with identifiers, the only additional prose that is necessary is that which describes what keys those sets have. Assuming that the <code>get()</code> operation is defined to return <span class="idlvalue">null</span> if an attempt is made to look up a non-existing entry in the
              <span class="idltype">OrderedMap</span>, then the following two sentences would suffice:
            </p>
            <blockquote>
              <p>
                An object <var>map</var> implementing <span class="idltype">OrderedMap</span> supports indexed properties with indices in the range 0&nbsp;≤&nbsp;
                <var>index</var>&nbsp;&lt;&nbsp;<code>map.size</code>.
              </p>
              <p>
                Such objects also support a named property for every name that, if passed to <code>get()</code>, would return a non-null value.
              </p>
            </blockquote>
            <p>
              As described in <a href="#es-platform-objects">section </a><a href="#es-platform-objects">4.8 </a>, an ECMAScript implementation would create properties on a <a class="dfnref" href="#dfn-platform-object">platform object</a> implementing
              <span class="idltype">OrderedMap</span> that correspond to entries in both the named and indexed property sets. These properties can then be used to interact with the object in the same way as invoking the object’s methods, as demonstrated below:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
              <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="comment"><span class="hljs-comment">// Assume map is a platform object implementing the OrderedMap interface.</span></span>
<span class="hljs-keyword">var</span> map = getOrderedMap();
<span class="hljs-keyword">var</span> x, y;

x = map[<span class="hljs-number">0</span>];       <span class="comment"><span class="hljs-comment">// If map.length &gt; 0, then this is equivalent to:</span>
                  <span class="hljs-comment">//</span>
                  <span class="hljs-comment">//   x = map.getByIndex(0)</span>
                  <span class="hljs-comment">//</span>
                  <span class="hljs-comment">// since a property named "0" will have been placed on map.</span>
                  <span class="hljs-comment">// Otherwise, x will be set to undefined, since there will be</span>
                  <span class="hljs-comment">// no property named "0" on map.</span></span>

map[<span class="hljs-number">1</span>] = <span class="hljs-literal">false</span>;   <span class="comment"><span class="hljs-comment">// This will do the equivalent of:</span>
                  <span class="hljs-comment">//</span>
                  <span class="hljs-comment">//   map.setByIndex(1, false)</span></span>

y = map.apple;    <span class="comment"><span class="hljs-comment">// If there exists a named property named "apple", then this</span>
                  <span class="hljs-comment">// will be equivalent to:</span>
                  <span class="hljs-comment">//</span>
                  <span class="hljs-comment">//   y = map.get('apple')</span>
                  <span class="hljs-comment">//</span>
                  <span class="hljs-comment">// since a property named "apple" will have been placed on</span>
                  <span class="hljs-comment">// map.  Otherwise, y will be set to undefined, since there</span>
                  <span class="hljs-comment">// will be no property named "apple" on map.</span></span>

map.berry = <span class="hljs-number">123</span>;  <span class="comment"><span class="hljs-comment">// This will do the equivalent of:</span>
                  <span class="hljs-comment">//</span>
                  <span class="hljs-comment">//   map.set('berry', 123)</span></span>

<span class="hljs-keyword">delete</span> map.cake;  <span class="comment"><span class="hljs-comment">// If a named property named "cake" exists, then the "cake"</span>
                  <span class="hljs-comment">// property will be deleted, and then the equivalent to the</span>
                  <span class="hljs-comment">// following will be performed:</span>
                  <span class="hljs-comment">//</span>
                  <span class="hljs-comment">//   map.remove("cake")</span></span>
</code></pre></div>
            </div>
          </div>
        </section>

        <section id="idl-named-properties" typeof="bibo:Chapter" resource="#idl-named-properties" property="bibo:hasPart">
          <h5 id="h-idl-named-properties" resource="#h-idl-named-properties"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.4.5 </span>Named properties</span></h5>

          <p>
            An <a class="dfnref" href="#dfn-interface">interface</a> that defines a <a class="dfnref" href="#dfn-named-property-getter">named property getter</a> is said to <dfn id="dfn-support-named-properties" data-dfn-type="dfn">support named properties</dfn>.
          </p>
          <p>
            If an interface <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>, then the interface definition <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be accompanied by a description of the ordered set of names that can be used to index the object at any given time. These names are called the
            <dfn id="dfn-supported-property-names" data-dfn-type="dfn">supported property names</dfn>.
          </p>
          <p>
            Named property getters and deleters <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be declared to take a single <a class="idltype" href="#idl-DOMString">DOMString</a> argument. Named property setters <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be declared to take two arguments, where the first is a <a class="idltype" href="#idl-DOMString">DOMString</a>.
          </p>
          <pre class="syntax hljs">getter <i>type</i> <i>identifier</i>(DOMString <i>identifier</i>);
setter <i>type</i> <i>identifier</i>(DOMString <i>identifier</i>, <i>type</i> <i>identifier</i>);
deleter <i>type</i> <i>identifier</i>(DOMString <i>identifier</i>);

getter <i>type</i> (DOMString <i>identifier</i>);
setter <i>type</i> (DOMString <i>identifier</i>, <i>type</i> <i>identifier</i>);
deleter <i>type</i> (DOMString <i>identifier</i>);</pre>
          <p>
            The following requirements apply to the definitions of named property getters, setters and deleters:
          </p>
          <ul>
            <li>
              If a <a class="dfnref" href="#dfn-named-property-getter">named property getter</a> was specified using an <a class="dfnref" href="#dfn-operation">operation</a> with an <a class="dfnref" href="#dfn-identifier">identifier</a>, then the value returned when indexing the object with a given <a class="dfnref" href="#dfn-supported-property-names">supported property name</a> is the value that would be returned by invoking the operation, passing the name as its only argument. If the operation used to declare the named property getter did not have an identifier, then the interface definition must be accompanied by a description of how to <dfn id="dfn-determine-the-value-of-a-named-property" data-dfn-type="dfn">determine the value of a named property</dfn> for a given property name.
            </li>
            <li>
              If a <a class="dfnref" href="#dfn-named-property-setter">named property setter</a> was specified using an operation with an identifier, then the behavior that occurs when indexing the object for property assignment with a given supported property name and value is the same as if the operation is invoked, passing the name as the first argument and the value as the second argument. If the operation used to declare the named property setter did not have an identifier, then the interface definition must be accompanied by a description of how to <dfn id="dfn-set-the-value-of-an-existing-named-property" data-dfn-type="dfn">set the value of an existing named property</dfn> and how to <dfn id="dfn-set-the-value-of-a-new-named-property" data-dfn-type="dfn">set the value of a new named property</dfn> for a given property name and value.
            </li>
            <li>
              If a <a class="dfnref" href="#dfn-named-property-deleter">named property deleter</a> was specified using an operation with an identifier, then the behavior that occurs when indexing the object for property deletion with a given supported property name is the same as if the operation is invoked, passing the name as the only argument. If the operation used to declare the named property deleter did not have an identifier, then the interface definition must be accompanied by a description of how to <dfn id="dfn-delete-an-existing-named-property" data-dfn-type="dfn">delete an existing named property</dfn> for a given property name.
            </li>
          </ul>

          <div class="note">
            <div class="note-title marker" aria-level="6" role="heading" id="h-note19"><span>Note</span></div>
            <div class="">
              <p>
                As with <a href="#idl-indexed-properties">indexed properties</a>, if an <a class="dfnref" href="#dfn-named-property-getter">named property getter</a>,
                <a class="dfnref" href="#dfn-named-property-setter">setter</a> or
                <a class="dfnref" href="#dfn-named-property-deleter">deleter</a> is specified using an <a class="dfnref" href="#dfn-operation">operation</a> with an <a class="dfnref" href="#dfn-identifier">identifier</a>, then indexing an object with a name that is not a <a class="dfnref" href="#dfn-supported-property-names">supported property name</a> does not necessarily elicit the same behavior as invoking the operation with that name; the behavior is language binding specific.
              </p>
            </div>
          </div>
        </section>
      </section>

      <section id="idl-static-attributes-and-operations" typeof="bibo:Chapter" resource="#idl-static-attributes-and-operations" property="bibo:hasPart">
        <h4 id="h-idl-static-attributes-and-operations" resource="#h-idl-static-attributes-and-operations"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.5 </span>Static attributes and operations</span></h4>

        <p>
          <dfn id="dfn-static-attribute" data-dfn-type="dfn">Static attributes</dfn> and
          <dfn id="dfn-static-operation" data-dfn-type="dfn">static operations</dfn> are ones that are not associated with a particular instance of the
          <a class="dfnref" href="#dfn-interface">interface</a> on which it is declared, and is instead associated with the interface itself. Static attributes and operations are declared by using the
          <code>static</code> keyword in their declarations.
        </p>
        <p>
          It is language binding specific whether it is possible to invoke a static operation or get or set a static attribute through a reference to an instance of the interface.
        </p>
        <p>
          Static attributes and operations <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be declared on <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.
        </p>

        <table class="grammar">
          <tbody>
            <tr id="proddef-StaticMember">
              <td><span class="prod-number">[37]</span></td>
              <td><a class="sym" href="#prod-StaticMember">StaticMember</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"static" <a class="sym" href="#prod-StaticMemberRest">StaticMemberRest</a></span></td>
            </tr>
            <tr id="proddef-StaticMemberRest">
              <td><span class="prod-number">[38]</span></td>
              <td><a class="sym" href="#prod-StaticMemberRest">StaticMemberRest</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ReadOnly">ReadOnly</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a> <br>&nbsp;|
             <a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationRest">OperationRest</a></span></td>
            </tr>
          </tbody>
        </table>

        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface
            <span class="idltype">Circle</span> that has a static operation declared on it:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Point { <span class="hljs-comment">/* ... */</span> };

interface Circle {
  attribute double cx;
  attribute double cy;
  attribute double radius;

  <span class="hljs-keyword">static</span> readonly attribute long triangulationCount;
  <span class="hljs-keyword">static</span> Point triangulate(Circle c1, Circle c2, Circle c3);
};</code></pre></div>
          </div>
          <p>
            In the ECMAScript language binding, the <span class="estype">Function</span> object for
            <code>triangulate</code> and the accessor property for <code>triangulationCount</code> will exist on the <a class="dfnref" href="#dfn-interface-object">interface object</a> for <span class="idltype">Circle</span>:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> circles = getCircles();           <span class="comment"><span class="hljs-comment">// an Array of Circle objects</span></span>

<span class="hljs-keyword">typeof</span> Circle.triangulate;            <span class="comment"><span class="hljs-comment">// Evaluates to "function"</span></span>
<span class="hljs-keyword">typeof</span> Circle.triangulationCount;     <span class="comment"><span class="hljs-comment">// Evaluates to "number"</span></span>
Circle.prototype.triangulate;         <span class="comment"><span class="hljs-comment">// Evaluates to undefined</span></span>
Circle.prototype.triangulationCount;  <span class="comment"><span class="hljs-comment">// Also evaluates to undefined</span></span>
circles[<span class="hljs-number">0</span>].triangulate;               <span class="comment"><span class="hljs-comment">// As does this</span></span>
circles[<span class="hljs-number">0</span>].triangulationCount;        <span class="comment"><span class="hljs-comment">// And this</span></span>

<span class="comment"><span class="hljs-comment">// Call the static operation</span></span>
<span class="hljs-keyword">var</span> triangulationPoint = Circle.triangulate(circles[<span class="hljs-number">0</span>], circles[<span class="hljs-number">1</span>], circles[<span class="hljs-number">2</span>]);

<span class="comment"><span class="hljs-comment">// Find out how many triangulations we have done</span></span>
<span class="hljs-built_in">window</span>.alert(Circle.triangulationCount);</code></pre></div>
          </div>
          <!--JAVA
              <p>
                In the Java language binding, however, the <code>triangulate</code> method
                will exist on an abstract class:
              </p>
              <x:codeblock language='java'>Circle[] circles = getCircles();  <span class='comment'>// an array of Circle objects</span>

<span class='comment'>// Call the static operation</span>
Point triangulationPoint = CircleUtils.triangulate(circles[0], circles[1], circles[2]);</x:codeblock>
              -->
        </div>
      </section>

      <section id="idl-overloading" typeof="bibo:Chapter" resource="#idl-overloading" property="bibo:hasPart">
        <h4 id="h-idl-overloading" resource="#h-idl-overloading"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.6 </span>Overloading</span></h4>

        <p>
          If a <a class="dfnref" href="#dfn-regular-operation">regular operation</a> or <a class="dfnref" href="#dfn-static-operation">static operation</a> defined on an <a class="dfnref" href="#dfn-interface">interface</a> has an <a class="dfnref" href="#dfn-identifier">identifier</a> that is the same as the identifier of another operation on that interface of the same kind (regular or static), then the operation is said to be
          <dfn id="dfn-overloaded" data-dfn-type="dfn">overloaded</dfn>. When the identifier of an overloaded operation is used to invoke one of the operations on an object that implements the interface, the number and types of the arguments passed to the operation determine which of the overloaded operations is actually invoked. If an interface has multiple
          <a class="dfnref" href="#dfn-legacy-caller">legacy callers</a> defined on it, then those legacy callers are also said to be overloaded. In the ECMAScript language binding, <a href="#Constructor">constructors</a> can be overloaded too. There are some restrictions on the arguments that overloaded operations, legacy callers and constructors can be specified to take, and in order to describe these restrictions, the notion of an <em>effective overload set</em> is used.
        </p>
        <p>
          <a class="dfnref" href="#dfn-operation">Operations</a> and <a class="dfnref" href="#dfn-legacy-caller">legacy callers</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be overloaded across <a class="dfnref" href="#dfn-interface">interface</a> and <a class="dfnref" href="#dfn-partial-interface">partial interface</a> definitions.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note20"><span>Note</span></div>
          <div class="">
            <p>
              For example, the overloads for both <span class="idltype">f</span> and <span class="idltype">g</span> are disallowed:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface A {
  <span class="hljs-keyword">void</span> f();
};

partial interface A {
  <span class="hljs-keyword">void</span> f(double x);
  <span class="hljs-keyword">void</span> g();
};

partial interface A {
  <span class="hljs-keyword">void</span> g(DOMString x);
};</code></pre></div>
            </div>
            <p>Note that the <a class="xattr" href="#Constructor">[Constructor]</a> and
              <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> are disallowed from appearing on <a class="dfnref" href="#dfn-partial-interface">partial interface</a> definitions, so there is no need to also disallow overloading for constructors.</p>
          </div>
        </div>
        <p>
          An <dfn id="dfn-effective-overload-set" data-dfn-type="dfn">effective overload set</dfn> represents the allowable invocations for a particular
          <a class="dfnref" href="#dfn-operation">operation</a>, constructor (specified with <a class="xattr" href="#Constructor">[Constructor]</a> or <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>),
          <a class="dfnref" href="#dfn-legacy-caller">legacy caller</a> or
          <a class="dfnref" href="#dfn-callback-function">callback function</a>. The algorithm to compute an <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> operates on one of the following six types of IDL constructs, and listed with them below are the inputs to the algorithm needed to compute the set.
        </p>
        <dl>
          <dt>For regular operations</dt>
          <dt>For static operations</dt>
          <dd>
            <ul>
              <li>the <a class="dfnref" href="#dfn-interface">interface</a> on which the <a class="dfnref" href="#dfn-operation">operations</a> are to be found</li>
              <li>the <a class="dfnref" href="#dfn-identifier">identifier</a> of the operations</li>
              <li>the number of arguments to be passed</li>
            </ul>
          </dd>
          <dt>For legacy callers</dt>
          <dd>
            <ul>
              <li>the <a class="dfnref" href="#dfn-interface">interface</a> on which the <a class="dfnref" href="#dfn-legacy-caller">legacy callers</a> are to be found</li>
              <li>the number of arguments to be passed</li>
            </ul>
          </dd>
          <dt>For constructors</dt>
          <dd>
            <ul>
              <li>the <a class="dfnref" href="#dfn-interface">interface</a> on which the <a href="#Constructor">[Constructor]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> are to be found</li>
              <li>the number of arguments to be passed</li>
            </ul>
          </dd>
          <dt>For named constructors</dt>
          <dd>
            <ul>
              <li>the <a class="dfnref" href="#dfn-interface">interface</a> on which the <a href="#NamedConstructor">[NamedConstructor]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> are to be found</li>
              <li>the <a class="dfnref" href="#dfn-identifier">identifier</a> of the named constructors</li>
              <li>the number of arguments to be passed</li>
            </ul>
          </dd>
          <dt>For callback functions</dt>
          <dd>
            <ul>
              <li>the <a class="dfnref" href="#dfn-callback-function">callback function</a></li>
              <li>the number of arguments to be passed</li>
            </ul>
          </dd>
        </dl>
        <p>
          An effective overload set is used, among other things, to determine whether there are ambiguities in the overloaded operations, constructors and callers specified on an interface.
        </p>
        <p>
          The elements of an effective overload set are tuples of the form &lt;
          <var>callable</var>,&nbsp;<var>type list</var>, <var>optionality list</var>&gt;. If the effective overload set is for regular operations, static operations or legacy callers, then <var>callable</var> is an operation; if it is for constructors or named constructors, then <var>callable</var> is an extended attribute; and if it is for callback functions, then <var>callable</var> is the callback function itself. In all cases, <var>type list</var> is a list of IDL types, and <var>optionality list</var> is a list of three possible <dfn id="dfn-optionality-value" data-dfn-type="dfn">optionality values</dfn> – “required”, “optional” or “variadic” –&nbsp;indicating whether the argument at a given index was declared as being <a class="dfnref" href="#dfn-optional-argument">optional</a> or corresponds to a <a class="dfnref" href="#dfn-variadic">variadic</a> argument. Each tuple represents an allowable invocation of the operation, constructor, legacy caller or callback function with an argument value list of the given types. Due to the use of <a class="dfnref" href="#dfn-optional-argument">optional arguments</a> and <a class="dfnref" href="#dfn-variadic">variadic</a> operations and constructors, there may be multiple entries in an effective overload set identifying the same operation or constructor.
        </p>
        <p>
          The algorithm below describes how to compute an effective overload set. The following input variables are used, if they are required:
        </p>
        <ul>
          <li>the identifier of the operation or named constructor is <var>A</var></li>
          <li>the argument count is <var>N</var></li>
          <li>the interface is <var>I</var></li>
          <li>the callback function is <var>C</var></li>
        </ul>
        <p>
          Whenever an argument of an extended attribute is mentioned, it is referring to an argument of the extended attribute’s <a class="dfnref" href="#dfn-xattr-named-argument-list">named argument list</a>.
        </p>
        <ol class="algorithm">
          <li>Initialize <var>S</var> to ∅.</li>
          <li>Let <var>F</var> be a set with elements as follows, according to the kind of effective overload set:
            <dl class="switch">
              <dt>For regular operations</dt>
              <dd>
                The elements of <var>F</var> are the <a class="dfnref" href="#dfn-regular-operation">regular operations</a> with identifier <var>A</var> defined on interface <var>I</var>.
              </dd>
              <dt>For static operations</dt>
              <dd>
                The elements of <var>F</var> are the <a class="dfnref" href="#dfn-static-operation">static operations</a> with identifier <var>A</var> defined on interface <var>I</var>.
              </dd>
              <dt>For constructors</dt>
              <dd>
                The elements of <var>F</var> are the
                <a class="sym" href="#Constructor">[Constructor]</a>
                <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> on interface <var>I</var>.
              </dd>
              <dt>For named constructors</dt>
              <dd>
                The elements of <var>F</var> are the
                <a class="sym" href="#NamedConstructor">[NamedConstructor]</a>
                <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> on interface <var>I</var> whose
                <a class="dfnref" href="#dfn-xattr-named-argument-list">named argument lists’</a> identifiers are <var>A</var>.
              </dd>
              <dt>For legacy callers</dt>
              <dd>
                The elements of <var>F</var> are the <a class="dfnref" href="#dfn-legacy-caller">legacy callers</a> defined on interface <var>I</var>.
              </dd>
              <dt>For callback functions</dt>
              <dd>
                The single element of <var>F</var> is the callback function itself, <var>C</var>.
              </dd>
            </dl>
          </li>
          <!--
              <li>If the effective overload set is for regular operations, then:
                <ol>
                  <li>
                    If the target language binding supports object indexing,
                    then remove from <var>F</var> any operation that is declared
                    to be an <a class='dfnref' href='#dfn-omittable'>omittable</a>
                    <a class='dfnref' href='#dfn-getter'>getter</a>,
                    <a class='dfnref' href='#dfn-setter'>setter</a> or
                    <a class='dfnref' href='#dfn-deleter'>deleter</a>.
                  </li>
                  <li>
                    If the target language binding supports object calling,
                    then remove from <var>F</var> any operation that is declared
                    to be an omittable <a class='dfnref' href='#dfn-legacy-caller'>caller</a>.
                  </li>
                  <li>
                    If the target language binding supports object stringification,
                    then remove from <var>F</var> any operation that is declared
                    to be an omittable <a class='dfnref' href='#dfn-stringifier'>stringifier</a>.
                  </li>
                </ol>
              </li>
              -->
          <li>
            Let <var>maxarg</var> be the maximum number of arguments the operations, constructor extended attributes or callback functions in <var>F</var> are declared to take. For <a class="dfnref" href="#dfn-variadic">variadic</a> operations and constructor extended attributes, the argument on which the ellipsis appears counts as a single argument.
            <div class="note">
              <div class="note-title marker" aria-level="5" role="heading" id="h-note21"><span>Note</span></div>
              <div class="">
                <p>So <code>void f(long x, long... y);</code> is considered to be declared to take two arguments.</p>
              </div>
            </div>
          </li>
          <li>Let <var>m</var> be the maximum of <var>maxarg</var> and <var>N</var>.</li>
          <li>For each operation, extended attribute or callback function <var>X</var> in <var>F</var>:
            <ol>
              <li>Let <var>n</var> be the number of arguments <var>X</var> is declared to take.</li>
              <li>Let <var>t</var><sub>0..<var>n</var>−1</sub> be a list of types, where <var>t</var><sub><var>i</var></sub> is the type of <var>X</var>’s argument at index <var>i</var>.</li>
              <li>Let <var>o</var><sub>0..<var>n</var>−1</sub> be a list of <a class="dfnref" href="#dfn-optionality-value">optionality values</a>, where <var>o</var><sub><var>i</var></sub> is “variadic” if <var>X</var>’s argument at index <var>i</var> is a final, variadic argument, “optional” if the argument is <a class="dfnref" href="#dfn-optional-argument">optional</a>, and “required” otherwise.</li>
              <li>Add to <var>S</var> the tuple &lt;<var>X</var>,&nbsp;<var>t</var><sub>0..<var>n</var>−1</sub>, <var>o</var><sub>0..<var>n</var>−1</sub>&gt;.</li>
              <li>If <var>X</var> is declared to be <a class="dfnref" href="#dfn-variadic">variadic</a>, then:
                <ol>
                  <li>Add to <var>S</var> the tuple &lt;<var>X</var>,&nbsp;<var>t</var><sub>0..<var>n</var>−2</sub>,&nbsp;<var>o</var><sub>0..<var>n</var>−2</sub>&gt;.
                    <div class="note">
                      <div class="note-title marker" aria-level="5" role="heading" id="h-note22"><span>Note</span></div>
                      <div class="">
                        <p>This leaves off the final, variadic argument.</p>
                      </div>
                    </div>
                  </li>
                  <li>For every integer <var>i</var>, such that <var>n</var>&nbsp;≤&nbsp;<var>i</var>&nbsp;≤&nbsp;<var>m</var>−1:
                    <ol>
                      <li>Let <var>u</var><sub>0..<var>i</var></sub> be a list of types, where <var>u</var><sub>j</sub>&nbsp;=&nbsp;<var>t</var><sub>j</sub> (for <var>j</var>&nbsp;&lt;&nbsp;<var>n</var>) and <var>u</var><sub>j</sub>&nbsp;=&nbsp;<var>t</var><sub><var>n</var>−1</sub> (for <var>j</var>&nbsp;≥&nbsp;<var>n</var>).</li>
                      <li>Let <var>p</var><sub>0..<var>i</var></sub> be a list of <a class="dfnref" href="#dfn-optionality-value">optionality values</a>, where <var>p</var><sub>j</sub>&nbsp;=&nbsp;<var>o</var><sub>j</sub> (for <var>j</var>&nbsp;&lt;&nbsp;<var>n</var>) and <var>p</var><sub>j</sub>&nbsp;=&nbsp;“variadic” (for <var>j</var>&nbsp;≥&nbsp;<var>n</var>).</li>
                      <li>Add to <var>S</var> the tuple &lt;<var>X</var>,&nbsp;<var>u</var><sub>0..<var>i</var></sub>,&nbsp;<var>p</var><sub>0..<var>i</var></sub>&gt;.</li>
                    </ol>
                  </li>
                </ol>
              </li>
              <li>Initialize <var>i</var> to <var>n</var>−1.</li>
              <li>While <var>i</var> ≥ 0:
                <ol>
                  <li>If argument <var>i</var> of <var>X</var> is not <a class="dfnref" href="#dfn-optional-argument">optional</a>, then break this loop.</li>
                  <li>Otherwise, add to <var>S</var> the tuple &lt;<var>X</var>,&nbsp;<var>t</var><sub>0..<var>i</var>−1</sub>,&nbsp;<var>o</var><sub>0..<var>i</var>−1</sub>&gt;.</li>
                  <li>Set <var>i</var> to <var>i</var>−1.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>
            The effective overload set is <var>S</var>.
          </li>
        </ol>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            For the following interface:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface A {
  <span class="hljs-comment">/* f1 */</span> <span class="hljs-keyword">void</span> f(DOMString a);
  <span class="hljs-comment">/* f2 */</span> <span class="hljs-keyword">void</span> f(Node a, DOMString b, double... c);
  <span class="hljs-comment">/* f3 */</span> <span class="hljs-keyword">void</span> f();
  <span class="hljs-comment">/* f4 */</span> <span class="hljs-keyword">void</span> f(Event a, DOMString b, optional DOMString c, double... d);
};</code></pre></div>
          </div>
          <p>
            assuming <span class="idltype">Node</span> and <span class="idltype">Event</span> are two other interfaces of which no object can implement both, the <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> for <a class="dfnref" href="#dfn-regular-operation">regular operations</a> with identifier <code>f</code> and argument count 4 is:
          </p>
          <div class="set">
            { &lt;f1, (DOMString), (required)&gt;,<br> &lt;f2, (Node, DOMString), (required, required)&gt;,<br> &lt;f2, (Node, DOMString, double), (required, required, variadic)&gt;,<br> &lt;f2, (Node, DOMString, double, double), (required, required, variadic, variadic)&gt;,<br> &lt;f3, (), ()&gt;,<br> &lt;f4, (Event, DOMString), (required, required)&gt;,<br> &lt;f4, (Event, DOMString, DOMString), (required, required, optional)&gt;,<br> &lt;f4, (Event, DOMString, DOMString, double), (required, required, optional, variadic)&gt; }
          </div>
        </div>
        <!--
            <p>
              The following types are considered to be the <dfn id='dfn-exactly-matchable-types'>exactly matchable types</dfn>:
            </p>
            <ul>
              <li><span class='idltype'>object</span></li>
              <li><a href='#idl-interface'>interface types</a></li>
              <li><a href='#idl-dictionary'>dictionary types</a></li>
              <li><a href='#idl-sequence'>sequence types</a></li>
              <li><a href='#idl-array'>array types</a></li>
              <li><a class='dfnref' href='#dfn-nullable-type'>nullable</a> versions of the above types</li>
              <li>nullable or non-nullable <a href='#idl-union'>union types</a> whose
                <a class='dfnref' href='#dfn-flattened-union-member-types'>flattened member types</a>
                include only the above types</li>
            </ul>
            -->
        <p>
          Two types are <dfn id="dfn-distinguishable" data-dfn-type="dfn">distinguishable</dfn> if at most one of the two <a class="dfnref" href="#dfn-includes-a-nullable-type">includes a nullable type</a> or is a <a href="#idl-dictionary">dictionary type</a>, and at least one of the following three conditions is true:
        </p>
        <ol>
          <li>
            <p>
              The two types (taking their <a class="dfnref" href="#dfn-inner-type">inner types</a> if they are <a class="dfnref" href="#dfn-nullable-type">nullable types</a>) appear in the following table and there is a “●” mark in the corresponding entry or there is a letter in the corresponding entry and the designated additional requirement below the table is satisfied:</p>
            <table id="distinguishable-table" class="matrix">
              <tbody>
                <tr>
                  <th class="corner"></th>
                  <th>boolean</th>
                  <th>numeric types</th>
                  <th>string types</th>
                  <th>interface</th>
                  <th>object</th>
                  <th>callback <br>function</th>
                  <th>dictionary</th>
                  <th>sequence&lt;<var>T</var>&gt;</th>
                  <th>exception types</th>
                  <th>buffer source types</th>
                </tr>
                <tr>
                  <th>boolean</th>
                  <td></td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                </tr>
                <tr>
                  <th>numeric types</th>
                  <td class="belowdiagonal"></td>
                  <td></td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                </tr>
                <tr>
                  <th>string types</th>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td></td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                </tr>
                <tr>
                  <th>interface</th>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td>(a)</td>
                  <td></td>
                  <td>(b)</td>
                  <td>(b)</td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                </tr>
                <tr>
                  <th>object</th>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <th>callback function</th>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td></td>
                  <td></td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                </tr>
                <tr>
                  <th>dictionary</th>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td></td>
                  <td>●</td>
                  <td>●</td>
                  <td>●</td>
                </tr>
                <tr>
                  <th>sequence&lt;<var>T</var>&gt;</th>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td></td>
                  <td>●</td>
                  <td>●</td>
                </tr>
                <tr>
                  <th>exception types</th>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td></td>
                  <td>●</td>
                </tr>
                <tr>
                  <th>buffer source types</th>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td class="belowdiagonal"></td>
                  <td></td>
                </tr>
              </tbody>
            </table>
            <ol type="a">
              <li>The two identified <a class="dfnref" href="#dfn-interface">interfaces</a> are not the same, it is not possible for a single <a class="dfnref" href="#dfn-platform-object">platform object</a> to implement both <a class="dfnref" href="#dfn-interface">interfaces</a>, and it is not the case that both are <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.</li>
              <li>The interface type is not a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.</li>
            </ol>
          </li>
          <li>
            One type is a <a class="dfnref" href="#dfn-union-type">union type</a> or nullable union type, the other is neither a union type nor a nullable union type, and each
            <a class="dfnref" href="#dfn-union-member-type">member type</a> of the first is distinguishable with the second.
          </li>
          <li>
            Both types are either a union type or nullable union type, and each member type of the one is distinguishable with each member type of the other.
          </li>
        </ol>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note23"><span>Note</span></div>
          <div class="">
            <p><a href="#idl-promise">Promise types</a> do not appear in the above table, and as a consequence are not distinguishable with any other type.</p>
          </div>
        </div>
        <p>
          If there is more than one entry in an <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> that has a given type list length, then for those entries there
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be an index <var>i</var> such that for each pair of entries the types at index <var>i</var> are
          <a class="dfnref" href="#dfn-distinguishable">distinguishable</a>
          <!--, and either:
            </p>
            <ol type='a'>
              <li>all of the types at index <var>i</var> are <a class='dfnref' href='#dfn-exactly-matchable-types'>exactly matchable types</a>, or</li>
              <li>there is only one such index <var>i</var>-->.
          <!--</li>
            </ol>
            <p>-->
          The lowest such index is termed the <dfn id="dfn-distinguishing-argument-index" data-dfn-type="dfn">distinguishing argument index</dfn> for the entries of the effective overload set with the given type list length.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            Consider the effective overload set shown in the previous example. There are multiple entries in the set with type lists 2, 3 and 4. For each of these type list lengths, the <a class="dfnref" href="#dfn-distinguishing-argument-index">distinguishing
                  argument index</a> is 0, since <span class="idltype">Node</span> and
            <span class="idltype">Event</span> are <a class="dfnref" href="#dfn-distinguishable">distinguishable</a>.
          </p>
          <p>
            The following use of overloading however is invalid:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface B {
  <span class="hljs-keyword">void</span> f(DOMString x);
  <span class="hljs-keyword">void</span> f(double x);
};</code></pre></div>
          </div>
          <p>
            since <a class="idltype" href="#idl-DOMString">DOMString</a> and
            <a class="idltype" href="#idl-double">double</a> are not distinguishable.
          </p>
        </div>
        <p>
          In addition, for each index <var>j</var>, where <var>j</var> is less than the
          <a class="dfnref" href="#dfn-distinguishing-argument-index">distinguishing argument index</a> for a given type list length, the types at index <var>j</var> in all of the entries’ type lists <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the same and the booleans in the corresponding list indicating argument optionality <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the same.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>The following is invalid:</p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface B {
  <span class="comment"><span class="hljs-comment">/* f1 */</span></span> <span class="hljs-keyword">void</span> f(DOMString w);
  <span class="comment"><span class="hljs-comment">/* f2 */</span></span> <span class="hljs-keyword">void</span> f(long w, double x, Node y, Node z);
  <span class="comment"><span class="hljs-comment">/* f3 */</span></span> <span class="hljs-keyword">void</span> f(double w, double x, DOMString y, Node z);
};</code></pre></div>
          </div>
          <p>
            For argument count 4, the effective overload set is:
          </p>
          <div class="set">
            { &lt;f1, (DOMString), (required)&gt;,<br> &lt;f2, (long, double, Node, Node), (required, required, required, required)&gt;,<br> &lt;f3, (double, double, DOMString, Node), (required, required, required, required)&gt; }
          </div>
          <p>
            Looking at entries with type list length 4, the
            <a class="dfnref" href="#dfn-distinguishing-argument-index">distinguishing argument index</a> is 2, since <span class="idltype">Node</span> and
            <a class="idltype" href="#idl-DOMString">DOMString</a> are <a class="dfnref" href="#dfn-distinguishable">distinguishable</a>. However, since the arguments in these two overloads at index 0 are different, the overloading is invalid.
          </p>
        </div>
        <!--
            <div class='note'>
              <p>
                These restrictions on argument types reduce
                the possibility of resolution ambiguity in
                <a class='dfnref' href='#dfn-overloaded'>overloaded</a> operations
                and constructors, but do not completely
                eliminate it.  In the ECMAScript language binding, the
                restrictions still can result in overloaded operation and constructor invocations
                that cannot be distinguished solely based on the values passed to
                the corresponding function.  For example, with the following
                <a class='dfnref' href='#dfn-interface'>interfaces</a>:
              </p>
              <x:codeblock language='idl'>interface A {
  <span class='comment'>// ...</span>
};

interface B {
  <span class='comment'>// ...</span>
};

interface C {
  void f(A? x);
  void f(B? x);
};</x:codeblock>
              <p>
                it is possible to pass an object that implements both <span class='idltype'>A</span>
                and <span class='idltype'>B</span> to <code>f</code>.  Similarly,
                passing <span class='esvalue'>null</span> to <code>f</code>
                would also be ambiguous.  Since the ECMAScript
                language binding provides no way to disambiguate such calls,
                the interface description will need to
                describe which operation is invoked in these cases.  (It is
                acceptable not to describe this if there is no observable
                difference in behavior for a particular choice of operation
                or constructor to disambiguate the call, or if no object will
                actually implement the two interfaces, for example.)
              </p>
            </div>
            -->
      </section>

      <section id="idl-iterable" typeof="bibo:Chapter" resource="#idl-iterable" property="bibo:hasPart">
        <h4 id="h-idl-iterable" resource="#h-idl-iterable"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.2.7 </span>Iterable declarations</span></h4>

        <p>
          An <a class="dfnref" href="#dfn-interface">interface</a> can be declared to be
          <dfn id="dfn-iterable" data-dfn-type="dfn">iterable</dfn> by using an <dfn id="dfn-iterable-declaration" data-dfn-type="dfn">iterable declaration</dfn> (matching <a class="sym" href="#prod-Iterable">Iterable</a>) in the body of the interface.
        </p>
        <pre class="syntax hljs xml">iterable<span class="hljs-tag">&lt;</span><i><span class="hljs-tag"><span class="hljs-name">value-type</span></span></i><span class="hljs-tag">&gt;</span>;
iterable<span class="hljs-tag">&lt;</span><i><span class="hljs-tag"><span class="hljs-name">key-type</span></span></i><span class="hljs-tag"><span class="hljs-name">,</span> </span><i><span class="hljs-tag"><span class="hljs-attr">value-type</span></span></i><span class="hljs-tag">&gt;</span>;</pre>
        <p>
          Objects implementing an interface that is declared to be iterable support being iterated over to obtain a sequence of values.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note24"><span>Note</span></div>
          <div class="">
            <p>In the ECMAScript language binding, an interface that is iterable will have “entries”, “forEach”, “keys”, “values” and <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-symbols">@@iterator</a> properties on its <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</p>
          </div>
        </div>
        <p>
          If a single type parameter is given, then the interface has a
          <dfn id="dfn-value-iterator" data-dfn-type="dfn">value iterator</dfn> and provides values of the specified type. If two type parameters are given, then the interface has a
          <dfn id="dfn-pair-iterator" data-dfn-type="dfn">pair iterator</dfn> and provides value pairs, where the first value is a key and the second is the value associated with the key.
        </p>
        <p>
          A <a class="dfnref" href="#dfn-value-iterator">value iterator</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> only be declared on an interface that <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a> and has an <a class="dfnref" href="#dfn-integer-type">integer-typed</a>
          <a class="dfnref" href="#dfn-attribute">attribute</a> named “length”. The value-type of the <a class="dfnref" href="#dfn-value-iterator">value iterator</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the same as the type returned by the <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a>. A <a class="dfnref" href="#dfn-value-iterator">value iterator</a> is implicitly defined to iterate over the object’s indexed properties.
        </p>
        <p>
          A <a class="dfnref" href="#dfn-pair-iterator">pair iterator</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be declared on an interface that <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a>. Prose accompanying an interface with a
          <a class="dfnref" href="#dfn-pair-iterator">pair iterator</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> define what the list of
          <dfn id="dfn-value-pairs-to-iterate-over" data-dfn-type="dfn">value pairs to iterate over</dfn> is.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note25"><span>Note</span></div>
          <div class="">
            <p>
              The ECMAScript forEach method that is generated for a
              <a class="dfnref" href="#dfn-value-iterator">value iterator</a> invokes its callback like Array.prototype.forEach does, and the forEach method for a <a class="dfnref" href="#dfn-pair-iterator">pair iterator</a> invokes its callback like Map.prototype.forEach does.
            </p>
            <p>
              Since <a class="dfnref" href="#dfn-value-iterator">value iterators</a> are currently allowed only on interfaces that
              <a class="dfnref" href="#dfn-support-indexed-properties">support indexed properties</a>, it makes sense to use an Array-like forEach method. There may be a need for <a class="dfnref" href="#dfn-value-iterator">value iterators</a> (a) on interfaces that do not
              <a class="dfnref" href="#dfn-support-indexed-properties">support indexed properties</a>, or (b) with a forEach method that instead invokes its callback like Set.protoype.forEach (where the key is the same as the value). If you’re creating an API that needs such a forEach method, please send a request to
              <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a>.
            </p>
          </div>
        </div>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note26"><span>Note</span></div>
          <div class="">
            <p>This is how <a class="external" href="https://tc39.github.io/ecma262/#sec-array-iterator-objects">array iterator objects</a> work. For interfaces that <a class="dfnref" href="#dfn-support-indexed-properties">support indexed properties</a>, the iterator objects returned by “entries”, “keys”, “values” and <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-symbols">@@iterator</a> are actual <a class="external" href="https://tc39.github.io/ecma262/#sec-array-iterator-objects">array iterator objects</a>.</p>
          </div>
        </div>
        <p>
          Interfaces with iterable declarations <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> have any <a class="dfnref" href="#dfn-interface-member">interface members</a> named “entries”, “forEach”, “keys” or “values”, or have any <a class="dfnref" href="#dfn-inherited-interfaces">inherited</a> or <a class="dfnref" href="#dfn-consequential-interfaces">consequential</a> interfaces that have interface members with these names.
        </p>

        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>Consider the following interface <span class="idltype">SessionManager</span>, which allows access to a number of <span class="idltype">Session</span> objects:</p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface SessionManager {
  Session getSessionForUser(DOMString username);
  readonly attribute unsigned long sessionCount;

  iterable&lt;Session&gt;;
};

interface Session {
  readonly attribute DOMString username;
  <span class="comment">// ...</span>
};</code></pre></div>
          </div>
          <p>
            The behavior of the iterator could be defined like so:
          </p>
          <blockquote>
            <p>
              The values to iterate over are the open <span class="idltype">Session</span> objects on the <span class="idltype">SessionManager</span> sorted by username.
            </p>
          </blockquote>
          <p>
            In the ECMAScript language binding, the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> for the <span class="idltype">SessionManager</span> <a class="dfnref" href="#dfn-interface">interface</a> has a <code>values</code> method that is a function, which, when invoked, returns an iterator object that itself has a <code>next</code> method that returns the next value to be iterated over. It has <code>values</code> and <code>entries</code> methods that iterate over the indexes of the list of session objects and [index, session object] pairs, respectively. It also has a <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-symbols">@@iterator</a> method that allows a <span class="idltype">SessionManager</span> to be used in a <code>for..of</code> loop:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="comment"><span class="hljs-comment">// Get an instance of SessionManager.</span>
<span class="hljs-comment">// Assume that it has sessions for two users, "anna" and "brian".</span></span>
<span class="hljs-keyword">var</span> sm = getSessionManager();

<span class="hljs-keyword">typeof</span> SessionManager.prototype.values;            <span class="comment"><span class="hljs-comment">// Evaluates to "function"</span></span>
<span class="hljs-keyword">var</span> it = sm.values();                              <span class="comment"><span class="hljs-comment">// values() returns an iterator object</span></span>
<span class="hljs-built_in">String</span>(it);                                        <span class="comment"><span class="hljs-comment">// Evaluates to "[object SessionManager Iterator]"</span></span>
<span class="hljs-keyword">typeof</span> it.next;                                    <span class="comment"><span class="hljs-comment">// Evaluates to "function"</span></span>

<span class="comment"><span class="hljs-comment">// This loop will alert "anna" and then "brian".</span></span>
<span class="hljs-keyword">for</span> (;;) {
  <span class="hljs-keyword">let</span> result = it.next();
  <span class="hljs-keyword">if</span> (result.done) {
    <span class="hljs-keyword">break</span>;
  }
  <span class="hljs-keyword">let</span> session = result.value;
  <span class="hljs-built_in">window</span>.alert(session.username);
}

<span class="comment"><span class="hljs-comment">// This loop will also alert "anna" and then "brian".</span></span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> session <span class="hljs-keyword">of</span> sm) {
  <span class="hljs-built_in">window</span>.alert(session.username);
}</code></pre></div>
          </div>
        </div>

        <p>
          An interface <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> have more than one
          <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a>. The <a class="dfnref" href="#dfn-inherited-interfaces">inherited</a> and <a class="dfnref" href="#dfn-consequential-interfaces">consequential</a> interfaces of an interface with an
          <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> also have an
          <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a>.
        </p>
        <p>
          The following extended attributes are applicable to <a class="dfnref" href="#dfn-iterable-declaration">iterable declarations</a>:
          <a class="xattr" href="#Exposed">[Exposed]</a>.
        </p>
        <!--
            <p>
              No <a class='dfnref' href='#dfn-extended-attribute'>extended attributes</a>
              defined in this specification are applicable to <code>iterator object</code> declarations.
            </p>
            -->

        <table class="grammar">
          <tbody>
            <tr id="proddef-Iterable">
              <td><span class="prod-number">[59]</span></td>
              <td><a class="sym" href="#prod-Iterable">Iterable</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"iterable" "&lt;" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-OptionalType">OptionalType</a> "&gt;" ";"</span></td>
            </tr>
            <tr id="proddef-OptionalType">
              <td><span class="prod-number">[60]</span></td>
              <td><a class="sym" href="#prod-OptionalType">OptionalType</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-Type">Type</a> <br>&nbsp;|
             ε</span></td>
            </tr>
          </tbody>
        </table>
      </section>




    </section>

    <section id="idl-dictionaries" typeof="bibo:Chapter" resource="#idl-dictionaries" property="bibo:hasPart">
      <h3 id="h-idl-dictionaries" resource="#h-idl-dictionaries"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.3 </span>Dictionaries</span></h3>

      <p>
        A <dfn id="dfn-dictionary" data-dfn-type="dfn">dictionary</dfn> is a definition (matching
        <a class="sym" href="#prod-Dictionary">Dictionary</a>) used to define an associative array data type with a fixed, ordered set of key–value pairs, termed <dfn id="dfn-dictionary-member" data-dfn-type="dfn">dictionary members</dfn>, where keys are strings and values are of a particular type specified in the definition.
      </p>
      <pre class="syntax hljs xquery">dictionary <i>identifier</i> {
  <i>dictionary-members…</i>
};</pre>
      <p>
        Dictionaries are always passed by value. In language bindings where a dictionary is represented by an object of some kind, passing a dictionary to a <a class="dfnref" href="#dfn-platform-object">platform object</a> will not result in a reference to the dictionary being kept by that object. Similarly, any dictionary returned from a platform object will be a copy and modifications made to it will not be visible to the platform object.
      </p>
      <p>
        A dictionary can be defined to <dfn id="dfn-inherit-dictionary" data-dfn-type="dfn">inherit</dfn> from another dictionary. If the identifier of the dictionary is followed by a colon and a <a class="dfnref" href="#dfn-identifier">identifier</a>, then that identifier identifies the inherited dictionary. The identifier
        <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> identify a dictionary.
      </p>
      <p>
        A dictionary <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be declared such that its inheritance hierarchy has a cycle. That is, a dictionary
        <var>A</var> cannot inherit from itself, nor can it inherit from another dictionary <var>B</var> that inherits from <var>A</var>, and so on.
      </p>
      <pre class="syntax hljs xquery">dictionary <em>Base</em> {
  <i>dictionary-members…</i>
};

dictionary <i>Derived</i> : <em>Base</em> {
  <i>dictionary-members…</i>
};</pre>
      <p>
        The <dfn id="dfn-inherited-dictionaries" data-dfn-type="dfn">inherited dictionaries</dfn> of a given dictionary <var>D</var> is the set of all dictionaries that <var>D</var> inherits from, directly or indirectly. If <var>D</var> does not <a class="dfnref" href="#dfn-inherit-dictionary">inherit</a> from another dictionary, then the set is empty. Otherwise, the set includes the dictionary <var>E</var> that <var>D</var> <a class="dfnref" href="#dfn-inherit-dictionary">inherits</a> from and all of <var>E</var>’s <a class="dfnref" href="#dfn-inherited-dictionaries">inherited dictionaries</a>.
      </p>
      <p>
        A dictionary value of type <var>D</var> can have key–value pairs corresponding to the dictionary members defined on <var>D</var> and on any of <var>D</var>’s
        <a class="dfnref" href="#dfn-inherited-dictionaries">inherited dictionaries</a>. On a given dictionary value, the presence of each dictionary member is optional, unless that member is specified as required. When specified in the dictionary value, a dictionary member is said to be
        <dfn id="dfn-present" data-dfn-type="dfn">present</dfn>, otherwise it is <a class="dfnref" href="#dfn-present">not present</a>. Dictionary members can also optionally have a <dfn id="dfn-dictionary-member-default-value" data-dfn-type="dfn">default value</dfn>, which is the value to use for the dictionary member when passing a value to a
        <a class="dfnref" href="#dfn-platform-object">platform object</a> that does not have a specified value. Dictionary members with default values are always considered to be present.
      </p>
      <div class="warning">
        <div class="warning-title marker"><span>Warning</span></div>
        <div class="">
          <p>
            As with <a class="dfnref" href="#dfn-optional-argument-default-value">operation argument default values</a>, is strongly suggested not to use of <span class="idlvalue">true</span> as the
            <a class="dfnref" href="#dfn-dictionary-member-default-value">default value</a> for
            <span class="estype">boolean</span>-typed
            <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a>, as this can be confusing for authors who might otherwise expect the default conversion of <span class="esvalue">undefined</span> to be used (i.e., <span class="idlvalue">false</span>).
          </p>
        </div>
      </div>
      <p>
        Each <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> (matching
        <a class="sym" href="#prod-DictionaryMember">DictionaryMember</a>) is specified as a type (matching <a class="sym" href="#prod-Type">Type</a>) followed by an
        <a class="dfnref" href="#dfn-identifier">identifier</a> (given by an <a class="sym" href="#prod-identifier">identifier</a> token following the type). The identifier is the key name of the key–value pair. If the <a class="sym" href="#prod-Type">Type</a> is an <a class="dfnref" href="#dfn-identifier">identifier</a> followed by <code>?</code>, then the identifier
        <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> identify an interface, <a class="dfnref" href="#dfn-enumeration">enumeration</a>,
        <a class="dfnref" href="#dfn-callback-function">callback function</a> or <a class="dfnref" href="#dfn-typedef">typedef</a>. If the dictionary member type is an identifier not followed by <code>?</code>, then the identifier <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> identify any one of those definitions or a <a class="dfnref" href="#dfn-dictionary">dictionary</a>.
      </p>
      <pre class="syntax hljs xquery">dictionary <i>identifier</i> {
  <i>type</i> <i>identifier</i>;
};</pre>
      <p>
        If the identifier is followed by a <span class="char">U+003D EQUALS SIGN ("=")</span> and a value (matching <a class="sym" href="#prod-DefaultValue">DefaultValue</a>), then that gives the dictionary member its <a class="dfnref" href="#dfn-dictionary-member-default-value">default value</a>.
      </p>
      <pre class="syntax hljs xquery">dictionary <i>identifier</i> {
  <i>type</i> <i>identifier</i> = <i>value</i>;
};</pre>
      <p>
        When a boolean literal token (<code>true</code> or <code>false</code>), the <code>null</code> token, an <a class="sym" href="#prod-integer">integer</a> token, a
        <a class="sym" href="#prod-float">float</a> token, one of the three special floating point literal values (<code>Infinity</code>,
        <code>-Infinity</code> or <code>NaN</code>), a <a class="sym" href="#prod-string">string</a> token or the two token sequence <code>[]</code> used as the
        <a class="dfnref" href="#dfn-dictionary-member-default-value">default value</a>, it is interpreted in the same way as for an <a class="dfnref" href="#dfn-operation">operation</a>’s
        <a class="dfnref" href="#dfn-optional-argument-default-value">optional argument default value</a>.
      </p>
      <p>
        If the type of the <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> is an <a class="dfnref" href="#dfn-enumeration">enumeration</a>, then its
        <a class="dfnref" href="#dfn-dictionary-member-default-value">default value</a> if specified <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be one of the <a class="dfnref" href="#dfn-enumeration-value">enumeration’s values</a>.
      </p>
      <p>
        If the type of the dictionary member is preceded by the
        <code>required</code> keyword, the member is considered a
        <dfn id="required-dictionary-member" data-dfn-type="dfn">required dictionary member</dfn> and must be present on the dictionary. A
        <a class="dfnref" href="#required-dictionary-member">required dictionary
            member</a> <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> have a default value.
      </p>
      <pre class="syntax hljs xquery">dictionary <i>identifier</i> {
  required <i>type</i> <i>identifier</i>;
};</pre>
      <p>
        The type of a dictionary member <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> include the dictionary it appears on. A type includes a dictionary <var>D</var> if at least one of the following is true:
      </p>
      <ul>
        <li>the type is <var>D</var></li>
        <li>the type is a dictionary that <a class="dfnref" href="#dfn-inherit-dictionary">inherits</a> from <var>D</var></li>
        <li>the type is a <a class="dfnref" href="#dfn-nullable-type">nullable type</a> whose <a class="dfnref" href="#dfn-inner-type">inner type</a> includes <var>D</var></li>
        <li>the type is a <a href="#idl-sequence">sequence type</a> whose element type includes <var>D</var></li>
        <li>the type is a <a class="dnfref" href="#dfn-union-type">union type</a>, one of whose <a class="dfnref" href="#dfn-union-member-type">member types</a> includes <var>D</var></li>
        <li>the type is a dictionary, one of whose members or inherited members has a type that includes <var>D</var></li>
      </ul>
      <p>
        As with interfaces, the IDL for dictionaries can be split into multiple parts by using <dfn id="dfn-partial-dictionary" data-dfn-type="dfn">partial dictionary</dfn> definitions (matching <span class="sym">"partial"</span> <a class="sym" href="#prod-Dictionary">Dictionary</a>). The <a class="dfnref" href="#dfn-identifier">identifier</a> of a partial dictionary definition <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the same as the identifier of a dictionary definition. All of the members that appear on each of the partial dictionary definitions are considered to be members of the dictionary itself.
      </p>
      <pre class="syntax hljs xquery">dictionary <em>SomeDictionary</em> {
  <i>dictionary-members…</i>
};

partial dictionary <em>SomeDictionary</em> {
  <i>dictionary-members…</i>
};</pre>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note27"><span>Note</span></div>
        <div class="">
          <p>As with partial interface definitions, partial dictionary definitions are intended for use as a specification editorial aide, allowing the definition of an interface to be separated over more than one section of the document, and sometimes multiple documents.</p>
        </div>
      </div>
      <p>
        The order of the <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a> on a given dictionary is such that inherited dictionary members are ordered before non-inherited members, and the dictionary members on the one dictionary definition (including any partial dictionary definitions) are ordered lexicographically by the Unicode codepoints that comprise their identifiers.
      </p>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note28"><span>Note</span></div>
        <div class="">
          <p>For example, with the following definitions:</p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">dictionary B : A {
  long b;
  long a;
};

dictionary A {
  long c;
  long g;
};

dictionary C : B {
  long e;
  long f;
};

partial dictionary A {
  long h;
  long d;
};</code></pre></div>
          </div>
          <p>
            the order of the <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a> of a dictionary value of type <span class="idltype">C</span> is c, d, g, h, a, b, e, f.
          </p>
          <p>
            Dictionaries are required to have their members ordered because in some language bindings the behavior observed when passing a dictionary value to a platform object depends on the order the dictionary members are fetched. For example, consider the following additional interface:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Something {
  <span class="hljs-keyword">void</span> f(A a);
};</code></pre></div>
          </div>
          <p>
            and this ECMAScript code:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> something = getSomething();  <span class="comment"><span class="hljs-comment">// Get an instance of Something.</span></span>
<span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>;

<span class="hljs-keyword">var</span> dict = { };
<span class="hljs-built_in">Object</span>.defineProperty(dict, <span class="hljs-string">"d"</span>, { get: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> ++x; } });
<span class="hljs-built_in">Object</span>.defineProperty(dict, <span class="hljs-string">"c"</span>, { get: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> ++x; } });

something.f(dict);</code></pre></div>
          </div>
          <p>
            The order that the dictionary members are fetched in determines what values they will be taken to have. Since the order for
            <span class="idltype">A</span> is defined to be c then d, the value for c will be 1 and the value for d will be 2.
          </p>
        </div>
      </div>
      <p>
        The identifier of a dictionary member <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be the same as that of another dictionary member defined on the dictionary or on that dictionary’s <a class="dfnref" href="#dfn-inherited-dictionaries">inherited dictionaries</a>.
      </p>
      <p>
        Dictionaries <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used as the type of an
        <a class="dfnref" href="#dfn-attribute">attribute</a> or
        <a class="dfnref" href="#dfn-constant">constant</a>.
      </p>
      <p>
        The following extended attributes are applicable to dictionaries:
        <a class="xattr" href="#Constructor">[Constructor]</a>,
        <a class="xattr" href="#Exposed">[Exposed]</a>.
      </p>
      <p>
        The following extended attributes are applicable to dictionary members:
        <a class="xattr" href="#Clamp">[Clamp]</a>,
        <a class="xattr" href="#EnforceRange">[EnforceRange]</a>.
      </p>
      <table class="grammar">
        <tbody>
          <tr>
            <td><span class="prod-number">[6]</span></td>
            <td><a class="sym" href="#prod-Partial">Partial</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"partial" <a class="sym" href="#prod-PartialDefinition">PartialDefinition</a></span></td>
          </tr>
          <tr>
            <td><span class="prod-number">[7]</span></td>
            <td><a class="sym" href="#prod-PartialDefinition">PartialDefinition</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PartialInterface">PartialInterface</a> <br>&nbsp;|
             <a class="sym" href="#prod-PartialDictionary">PartialDictionary</a></span></td>
          </tr>
          <tr id="proddef-Dictionary">
            <td><span class="prod-number">[11]</span></td>
            <td><a class="sym" href="#prod-Dictionary">Dictionary</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"dictionary" <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Inheritance">Inheritance</a> "{" <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> "}" ";"</span></td>
          </tr>
          <tr id="proddef-DictionaryMembers">
            <td><span class="prod-number">[12]</span></td>
            <td><a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-DictionaryMember">DictionaryMember</a> <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> <br>&nbsp;|
             ε</span></td>
          </tr>
          <tr id="proddef-DictionaryMember">
            <td><span class="prod-number">[13]</span></td>
            <td><a class="sym" href="#prod-DictionaryMember">DictionaryMember</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Required">Required</a> <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Default">Default</a> ";"</span></td>
          </tr>
          <tr id="proddef-PartialDictionary">
            <td><span class="prod-number">[15]</span></td>
            <td><a class="sym" href="#prod-PartialDictionary">PartialDictionary</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"dictionary" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> "}" ";"</span></td>
          </tr>
          <tr id="proddef-Default">
            <td><span class="prod-number">[16]</span></td>
            <td><a class="sym" href="#prod-Default">Default</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"=" <a class="sym" href="#prod-DefaultValue">DefaultValue</a> <br>&nbsp;|
             ε</span></td>
          </tr>
          <tr>
            <td><span class="prod-number">[17]</span></td>
            <td><a class="sym" href="#prod-DefaultValue">DefaultValue</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ConstValue">ConstValue</a> <br>&nbsp;|
             <a class="sym" href="#prod-string">string</a> <br>&nbsp;|
             "[" "]"</span></td>
          </tr>
          <tr>
            <td><span class="prod-number">[18]</span></td>
            <td><a class="sym" href="#prod-Inheritance">Inheritance</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">":" <a class="sym" href="#prod-identifier">identifier</a> <br>&nbsp;|
             ε</span></td>
          </tr>
        </tbody>
      </table>
      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>
          One use of dictionary types is to allow a number of optional arguments to an <a class="dfnref" href="#dfn-operation">operation</a> without being constrained as to the order they are specified at the call site. For example, consider the following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>:
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
          <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">[Constructor]
interface Point {
  attribute double x;
  attribute double y;
};

dictionary PaintOptions {
  DOMString? fillPattern = <span class="hljs-string">"black"</span>;
  DOMString? strokePattern = null;
  Point position;
};

interface GraphicsContext {
  void drawRectangle(double width, double height, optional PaintOptions options);
};</code></pre></div>
        </div>
        <p>
          In an ECMAScript implementation of the IDL, an <span class="estype">Object</span> can be passed in for the optional <span class="idltype">PaintOptions</span> dictionary:
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="comment"><span class="hljs-comment">// Get an instance of GraphicsContext.</span></span>
<span class="hljs-keyword">var</span> ctx = getGraphicsContext();

<span class="comment"><span class="hljs-comment">// Draw a rectangle.</span></span>
ctx.drawRectangle(<span class="hljs-number">300</span>, <span class="hljs-number">200</span>, { fillPattern: <span class="hljs-string">"red"</span>, position: <span class="hljs-keyword">new</span> Point(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>) });</code></pre></div>
        </div>
        <p>
          Both fillPattern and strokePattern are given <a class="dfnref" href="#dfn-dictionary-member-default-value">default values</a>, so if they are omitted, the definition of drawRectangle can assume that they have the given default values and not include explicit wording to handle their non-presence.
        </p>
      </div>
    </section>

    <section id="idl-exceptions" typeof="bibo:Chapter" resource="#idl-exceptions" property="bibo:hasPart">
      <h3 id="h-idl-exceptions" resource="#h-idl-exceptions"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.4 </span>Exceptions</span></h3>

      <p>
        An <dfn id="dfn-exception" data-dfn-type="dfn">exception</dfn> is a type of object that represents an error and which can be thrown or treated as a first class value by implementations. Web IDL does not allow exceptions to be defined, but instead has a number of pre-defined exceptions that specifications can reference and throw in their definition of operations, attributes, and so on. Exceptions have an
        <dfn id="dfn-exception-error-name" data-dfn-type="dfn">error name</dfn>, a <a class="idltype" href="#idl-DOMString">DOMString</a>, which is the type of error the exception represents, and a
        <dfn id="dfn-exception-message" data-dfn-type="dfn">message</dfn>, which is an optional, user agent-defined value that provides human readable details of the error.
      </p>
      <p>
        There are two kinds of exceptions available to be thrown from specifications. The first is a <dfn id="dfn-simple-exception" data-dfn-type="dfn">simple exception</dfn>, which is identified by one of the following names:
      </p>
      <ul>
        <li><a class="idltype" href="#idl-Error">Error</a></li>
        <li><span class="idltype">EvalError</span></li>
        <li><span class="idltype">RangeError</span></li>
        <li><span class="idltype">ReferenceError</span></li>
        <li><span class="idltype">TypeError</span></li>
        <li><span class="idltype">URIError</span></li>
      </ul>
      <p>
        These correspond to all of the <a class="external" href="https://tc39.github.io/ecma262/#sec-error-objects">ECMAScript error objects</a> ( [
        <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 19.5) (apart from
        <span class="estype">SyntaxError</span>, which is deliberately omitted as it is for use only by the ECMAScript parser). The meaning of each <a class="dfnref" href="#dfn-simple-exception">simple exception</a> matches its corresponding <span class="estype">Error</span> object in the ECMAScript specification.
      </p>
      <p>
        The second kind of exception is a <dfn id="dfn-DOMException" data-dfn-type="dfn">DOMException</dfn>, which is an exception that encapsulates a name and an optional integer code, for compatibility with historically defined exceptions in the DOM.
      </p>
      <p>
        For <a class="dfnref" href="#dfn-simple-exception">simple exceptions</a>, the <a class="dfnref" href="#dfn-exception-error-name">error name</a> is the name of the exception. For a <a class="dfnref" href="#dfn-DOMException">DOMException</a>, the <a class="dfnref" href="#dfn-exception-error-name">error name</a> <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be one of the names listed in the <a class="dfnref" href="#dfn-error-names-table">error names table</a> below. The table also indicates the <a class="dfnref" href="#dfn-DOMException">DOMException</a>'s integer code for that error name, if it has one.
      </p>
      <p>
        There are two <a href="#idl-types">types</a> that can be used to refer to exception objects: <a class="idltype" href="#idl-Error">Error</a>, which encompasses all exceptions, and <a class="idltype" href="#idl-DOMException">DOMException</a> which includes just DOMException objects. This allows for example an <a class="dfnref" href="#dfn-operation">operation</a> to be declared to have a <a class="dfnref" href="#dfn-DOMException">DOMException</a>
        <a class="dfnref" href="#dfn-return-type">return type</a> or an <a class="dfnref" href="#dfn-attribute">attribute</a> to be of type <a class="idltype" href="#idl-Error">Error</a>.
      </p>
      <p>
        Exceptions can be <dfn id="dfn-create-exception" data-dfn-type="dfn">created</dfn> by providing its
        <a class="dfnref" href="#dfn-exception-error-name">error name</a>. Exceptions can also be <dfn id="dfn-throw" data-dfn-type="dfn">thrown</dfn>, by providing the same details required to <a class="dfnref" href="#dfn-create-exception">create</a> one.
      </p>
      <p>
        The resulting behavior from creating and throwing an exception is language binding-specific.
      </p>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note29"><span>Note</span></div>
        <div class="">
          <p>
            See <a href="#es-creating-throwing-exceptions">section </a><a href="#es-creating-throwing-exceptions">4.13 </a> for details on what creating and throwing an exception entails in the ECMAScript language binding.
          </p>
        </div>
      </div>
      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>
          Here is are some examples of wording to use to create and throw exceptions. To throw a new <a class="dfnref" href="#dfn-simple-exception">simple exception</a> named
          <span class="idltype">TypeError</span>:
        </p>
        <blockquote>
          <p><a class="dfnref" href="#dfn-throw">Throw</a> a TypeError.</p>
        </blockquote>
        <p>
          To throw a new <a class="dfnref" href="#dfn-DOMException">DOMException</a> with
          <a class="dfnref" href="#dfn-exception-error-name">error name</a>
          <span class="idltype">IndexSizeError</span>:
        </p>
        <blockquote>
          <p><a class="dfnref" href="#dfn-throw">Throw</a> an IndexSizeError.</p>
        </blockquote>
        <p>
          To create a new <a class="dfnref" href="#dfn-DOMException">DOMException</a> with
          <a class="dfnref" href="#dfn-exception-error-name">error name</a>
          <span class="idltype">SyntaxError</span>:
        </p>
        <blockquote>
          <p>Let <var>object</var> be a newly <a class="dfnref" href="#dfn-create-exception">created</a> SyntaxError.</p>
        </blockquote>
      </div>

      <section id="idl-DOMException-error-names" typeof="bibo:Chapter" resource="#idl-DOMException-error-names" property="bibo:hasPart">
        <h4 id="h-idl-domexception-error-names" resource="#h-idl-domexception-error-names"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.4.1 </span>Error names</span></h4>

        <p>
          The <dfn id="dfn-error-names-table" data-dfn-type="dfn">error names table</dfn> below lists all the allowed error names for <a class="dfnref" href="#dfn-DOMException">DOMExceptions</a>, a description, and legacy code values.
        </p>

        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note30"><span>Note</span></div>
          <div class="">
            <p>If an error name is not listed here, please file a bug as indicated at the top of this specification and it will be addressed shortly. Thanks!</p>
          </div>
        </div>

        <table id="error-names" class="vert">
          <thead>
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th>Legacy <a class="dfnref" href="#dfn-DOMException">code</a> name and value</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>"<dfn id="indexsizeerror" data-dfn-type="dfn"><code>IndexSizeError</code></dfn>"</td>
              <td>The index is not in the allowed range.</td>
              <td><dfn id="dom-domexception-index_size_err" data-dfn-type="dfn"><code>INDEX_SIZE_ERR</code></dfn> (1)</td>
            </tr>
            <tr>
              <td>"<dfn id="hierarchyrequesterror" data-dfn-type="dfn"><code>HierarchyRequestError</code></dfn>"</td>
              <td>The operation would yield an incorrect <a href="https://dom.spec.whatwg.org/#concept-node-tree" title="concept-node-tree">node tree</a>.</td>
              <td><dfn id="dom-domexception-hierarchy_request_err" data-dfn-type="dfn"><code>HIERARCHY_REQUEST_ERR</code></dfn> (3)</td>
            </tr>
            <tr>
              <td>"<dfn id="wrongdocumenterror" data-dfn-type="dfn"><code>WrongDocumentError</code></dfn>"</td>
              <td>The object is in the wrong <a href="https://dom.spec.whatwg.org/#concept-document" title="concept-document">document</a>.</td>
              <td><dfn id="dom-domexception-wrong_document_err" data-dfn-type="dfn"><code>WRONG_DOCUMENT_ERR</code></dfn> (4)</td>
            </tr>
            <tr>
              <td>"<dfn id="invalidcharactererror" data-dfn-type="dfn"><code>InvalidCharacterError</code></dfn>"</td>
              <td>The string contains invalid characters.</td>
              <td><dfn id="dom-domexception-invalid_character_err" data-dfn-type="dfn"><code>INVALID_CHARACTER_ERR</code></dfn> (5)</td>
            </tr>
            <tr>
              <td>"<dfn id="nomodificationallowederror" data-dfn-type="dfn"><code>NoModificationAllowedError</code></dfn>"</td>
              <td>The object can not be modified.</td>
              <td><dfn id="dom-domexception-no_modification_allowed_err" data-dfn-type="dfn"><code>NO_MODIFICATION_ALLOWED_ERR</code></dfn> (7)</td>
            </tr>
            <tr>
              <td>"<dfn id="notfounderror" data-dfn-type="dfn"><code>NotFoundError</code></dfn>"</td>
              <td>The object can not be found here.</td>
              <td><dfn id="dom-domexception-not_found_err" data-dfn-type="dfn"><code>NOT_FOUND_ERR</code></dfn> (8)</td>
            </tr>
            <tr>
              <td>"<dfn id="notsupportederror" data-dfn-type="dfn"><code>NotSupportedError</code></dfn>"</td>
              <td>The operation is not supported.</td>
              <td><dfn id="dom-domexception-not_supported_err" data-dfn-type="dfn"><code>NOT_SUPPORTED_ERR</code></dfn> (9)</td>
            </tr>
            <tr>
              <td>"<dfn id="inuseattributeerror" data-dfn-type="dfn"><code>InUseAttributeError</code></dfn>"</td>
              <td>The attribute is in use.</td>
              <td><dfn id="dom-domexception-inuse_attribute_err" data-dfn-type="dfn"><code>INUSE_ATTRIBUTE_ERR</code></dfn> (10)</td>
            </tr>
            <tr>
              <td>"<dfn id="invalidstateerror" data-dfn-type="dfn"><code>InvalidStateError</code></dfn>"</td>
              <td>The object is in an invalid state.</td>
              <td><dfn id="dom-domexception-invalid_state_err" data-dfn-type="dfn"><code>INVALID_STATE_ERR</code></dfn> (11)</td>
            </tr>
            <tr>
              <td>"<dfn id="syntaxerror" data-dfn-type="dfn"><code>SyntaxError</code></dfn>"</td>
              <td>The string did not match the expected pattern.</td>
              <td><dfn id="dom-domexception-syntax_err" data-dfn-type="dfn"><code>SYNTAX_ERR</code></dfn> (12)</td>
            </tr>
            <tr>
              <td>"<dfn id="invalidmodificationerror" data-dfn-type="dfn"><code>InvalidModificationError</code></dfn>"</td>
              <td>The object can not be modified in this way.</td>
              <td><dfn id="dom-domexception-invalid_modification_err" data-dfn-type="dfn"><code>INVALID_MODIFICATION_ERR</code></dfn> (13)</td>
            </tr>
            <tr>
              <td>"<dfn id="namespaceerror" data-dfn-type="dfn"><code>NamespaceError</code></dfn>"</td>
              <td>The operation is not allowed by <cite>Namespaces in XML</cite>. [<cite><a class="bibref" href="#bib-XMLNS">XMLNS</a></cite>]</td>
              <td><dfn id="dom-domexception-namespace_err" data-dfn-type="dfn"><code>NAMESPACE_ERR</code></dfn> (14)</td>
            </tr>
            <tr>
              <td>"<dfn id="invalidaccesserror" data-dfn-type="dfn"><code>InvalidAccessError</code></dfn>"</td>
              <td>The object does not support the operation or argument.</td>
              <td><dfn id="dom-domexception-invalid_access_err" data-dfn-type="dfn"><code>INVALID_ACCESS_ERR</code></dfn> (15)</td>
            </tr>
            <tr>
              <!-- XHR -->
              <td>"<dfn id="securityerror" data-dfn-type="dfn"><code>SecurityError</code></dfn>"</td>
              <td>The operation is insecure.</td>
              <td><dfn id="dom-domexception-security_err" data-dfn-type="dfn"><code>SECURITY_ERR</code></dfn> (18)</td>
            </tr>
            <tr>
              <!-- XHR -->
              <td>"<dfn id="networkerror" data-dfn-type="dfn"><code>NetworkError</code></dfn>"</td>
              <td>A network error occurred.</td>
              <td><dfn id="dom-domexception-network_err" data-dfn-type="dfn"><code>NETWORK_ERR</code></dfn> (19)</td>
            </tr>
            <tr>
              <!-- XHR -->
              <td>"<dfn id="aborterror" data-dfn-type="dfn"><code>AbortError</code></dfn>"</td>
              <td>The operation was aborted.</td>
              <td><dfn id="dom-domexception-abort_err" data-dfn-type="dfn"><code>ABORT_ERR</code></dfn> (20)</td>
            </tr>
            <tr>
              <!-- Workers -->
              <td>"<dfn id="urlmismatcherror" data-dfn-type="dfn"><code>URLMismatchError</code></dfn>"</td>
              <td>The given URL does not match another URL.</td>
              <td><dfn id="dom-domexception-url_mismatch_err" data-dfn-type="dfn"><code>URL_MISMATCH_ERR</code></dfn> (21)</td>
            </tr>
            <tr>
              <!-- HTML -->
              <td>"<dfn id="quotaexceedederror" data-dfn-type="dfn"><code>QuotaExceededError</code></dfn>"</td>
              <td>The quota has been exceeded.</td>
              <td><dfn id="dom-domexception-quota_exceeded_err" data-dfn-type="dfn"><code>QUOTA_EXCEEDED_ERR</code></dfn> (22)</td>
            </tr>
            <tr>
              <!-- XHR -->
              <td>"<dfn id="timeouterror" data-dfn-type="dfn"><code>TimeoutError</code></dfn>"</td>
              <td>The operation timed out.</td>
              <td><dfn id="dom-domexception-timeout_err" data-dfn-type="dfn"><code>TIMEOUT_ERR</code></dfn> (23)</td>
            </tr>
            <tr>
              <td>"<dfn id="invalidnodetypeerror" data-dfn-type="dfn"><code>InvalidNodeTypeError</code></dfn>"</td>
              <td>The supplied node is incorrect or has an incorrect ancestor for this operation.</td>
              <td><dfn id="dom-domexception-invalid_node_type_err" data-dfn-type="dfn"><code>INVALID_NODE_TYPE_ERR</code></dfn> (24)</td>
            </tr>
            <tr>
              <!-- HTML -->
              <td>"<dfn id="datacloneerror" data-dfn-type="dfn"><code>DataCloneError</code></dfn>"</td>
              <td>The object can not be cloned.</td>
              <td><dfn id="dom-domexception-data_clone_err" data-dfn-type="dfn"><code>DATA_CLONE_ERR</code></dfn> (25)</td>
            </tr>
            <tr>
              <!-- Encoding -->
              <td>"<dfn id="encodingerror" data-dfn-type="dfn"><code>EncodingError</code></dfn>"</td>
              <td>The encoding operation (either encoded or decoding) failed.</td>
              <td>—</td>
            </tr>
            <tr>
              <!-- File API -->
              <td>"<dfn id="notreadableerror" data-dfn-type="dfn"><code>NotReadableError</code></dfn>"</td>
              <td>The I/O read operation failed.</td>
              <td>—</td>
            </tr>
            <tr>
              <!-- Indexed DB / Web Crypto -->
              <td>"<dfn id="unknownerror" data-dfn-type="dfn"><code>UnknownError</code></dfn>"</td>
              <td>The operation failed for an unknown transient reason (e.g. out of memory).</td>
              <!-- The operation failed for reasons unrelated to the database itself and not covered by any other errors. -->
              <td>—</td>
            </tr>
            <tr>
              <!-- Indexed DB -->
              <td>"<dfn id="constrainterror" data-dfn-type="dfn"><code>ConstraintError</code></dfn>"</td>
              <td>A mutation operation in a transaction failed because a constraint was not satisfied.</td>
              <td>—</td>
            </tr>
            <tr>
              <!-- Indexed DB / Web Crypto -->
              <td>"<dfn id="dataerror" data-dfn-type="dfn"><code>DataError</code></dfn>"</td>
              <td>Provided data is inadequate.</td>
              <td>—</td>
            </tr>
            <tr>
              <!-- Indexed DB -->
              <td>"<dfn id="transactioninactiveerror" data-dfn-type="dfn"><code>TransactionInactiveError</code></dfn>"</td>
              <td>A request was placed against a transaction which is currently not active, or which is finished.</td>
              <td>—</td>
            </tr>
            <tr>
              <!-- Indexed DB -->
              <td>"<dfn id="readonlyerror" data-dfn-type="dfn"><code>ReadOnlyError</code></dfn>"</td>
              <td>The mutating operation was attempted in a "readonly" transaction.</td>
              <td>—</td>
            </tr>
            <tr>
              <!-- Indexed DB -->
              <td>"<dfn id="versionerror" data-dfn-type="dfn"><code>VersionError</code></dfn>"</td>
              <td>An attempt was made to open a database using a lower version than the existing version.</td>
              <td>—</td>
            </tr>
            <tr>
              <!-- Web Crypto -->
              <td>"<dfn id="operationerror" data-dfn-type="dfn"><code>OperationError</code></dfn>"</td>
              <td>The operation failed for an operation-specific reason.</td>
              <td>—</td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>

    <section id="idl-enums" typeof="bibo:Chapter" resource="#idl-enums" property="bibo:hasPart">
      <h3 id="h-idl-enums" resource="#h-idl-enums"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.5 </span>Enumerations</span></h3>

      <p>
        An <dfn id="dfn-enumeration" data-dfn-type="dfn">enumeration</dfn> is a definition (matching
        <a class="sym" href="#prod-Enum">Enum</a>) used to declare a type whose valid values are a set of predefined strings. Enumerations can be used to restrict the possible
        <a class="idltype" href="#idl-DOMString">DOMString</a> values that can be assigned to an
        <a class="dfnref" href="#dfn-attribute">attribute</a> or passed to an
        <a class="dfnref" href="#dfn-operation">operation</a>.
      </p>
      <pre class="syntax hljs xquery">enum <i>identifier</i> { <i>enumeration-values…</i> };</pre>
      <p>
        The <dfn id="dfn-enumeration-value" data-dfn-type="dfn">enumeration values</dfn> are specified as a comma-separated list of <a class="sym" href="#prod-string">string</a> literals. The list of <a class="dfnref" href="#dfn-enumeration-value">enumeration values</a>
        <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> include duplicates.
      </p>
      <div class="warning">
        <div class="warning-title marker"><span>Warning</span></div>
        <div class="">
          <p>
            It is strongly suggested that enumeration values be all lowercase, and that multiple words be separated using dashes or not be separated at all, unless there is a specific reason to use another value naming scheme. For example, an enumeration value that indicates an object should be created could be named
            <code>"createobject"</code> or <code>'create-object"</code>. Consider related uses of enumeration values when deciding whether to dash-separate or not separate enumeration value words so that similar APIs are consistent.
          </p>
        </div>
      </div>
      <p>
        The behavior when a string value that is not one a valid enumeration value is used when assigning to an <a class="dfnref" href="#dfn-attribute">attribute</a>, or passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument, whose type is the enumeration, is language binding specific.
      </p>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note31"><span>Note</span></div>
        <div class="">
          <p>
            In the ECMAScript binding, assignment of an invalid string value to an
            <a class="dfnref" href="#dfn-attribute">attribute</a> is ignored, while passing such a value as an <a class="dfnref" href="#dfn-operation">operation</a> argument results in an exception being thrown.
          </p>
        </div>
      </div>
      <p>
        No <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> defined in this specification are applicable to <a class="dnfref" href="#dfn-enumeration">enumerations</a>.
      </p>

      <table class="grammar">
        <tbody>
          <tr id="proddef-Enum">
            <td><span class="prod-number">[19]</span></td>
            <td><a class="sym" href="#prod-Enum">Enum</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"enum" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-EnumValueList">EnumValueList</a> "}" ";"</span></td>
          </tr>
          <tr id="proddef-EnumValueList">
            <td><span class="prod-number">[20]</span></td>
            <td><a class="sym" href="#prod-EnumValueList">EnumValueList</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-string">string</a> <a class="sym" href="#prod-EnumValueListComma">EnumValueListComma</a></span></td>
          </tr>
          <tr id="proddef-EnumValueListComma">
            <td><span class="prod-number">[21]</span></td>
            <td><a class="sym" href="#prod-EnumValueListComma">EnumValueListComma</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-EnumValueListString">EnumValueListString</a> <br>&nbsp;|
             ε</span></td>
          </tr>
          <tr id="proddef-EnumValueListString">
            <td><span class="prod-number">[22]</span></td>
            <td><a class="sym" href="#prod-EnumValueListString">EnumValueListString</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-string">string</a> <a class="sym" href="#prod-EnumValueListComma">EnumValueListComma</a> <br>&nbsp;|
             ε</span></td>
          </tr>
        </tbody>
      </table>

      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>
          The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an <a class="dfnref" href="#dfn-enumeration">enumeration</a> that is used as the type of an <a class="dfnref" href="#dfn-attribute">attribute</a> and an <a class="dfnref" href="#dfn-operation">operation</a> argument:
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">enum MealType { <span class="hljs-string">"rice"</span>, <span class="hljs-string">"noodles"</span>, <span class="hljs-string">"other"</span> };

interface Meal {
  attribute MealType type;
  attribute double size;     <span class="comment"><span class="hljs-comment">// in grams</span></span>

  <span class="hljs-keyword">void</span> initialize(MealType type, double size);
};</code></pre></div>
        </div>
        <p>
          An ECMAScript implementation would restrict the strings that can be assigned to the type property or passed to the initializeMeal function to those identified in the <a class="dfnref" href="#dfn-enumeration">enumeration</a>.
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> meal = getMeal();                <span class="comment"><span class="hljs-comment">// Get an instance of Meal.</span></span>

meal.initialize(<span class="hljs-string">"rice"</span>, <span class="hljs-number">200</span>);        <span class="comment"><span class="hljs-comment">// Operation invoked as normal.</span></span>

<span class="hljs-keyword">try</span> {
  meal.initialize(<span class="hljs-string">"sandwich"</span>, <span class="hljs-number">100</span>);  <span class="comment"><span class="hljs-comment">// Throws a TypeError.</span></span>
} <span class="hljs-keyword">catch</span> (e) {
}

meal.type = <span class="hljs-string">"noodles"</span>;               <span class="comment"><span class="hljs-comment">// Attribute assigned as normal.</span></span>
meal.type = <span class="hljs-string">"dumplings"</span>;             <span class="comment"><span class="hljs-comment">// Attribute assignment ignored.</span></span>
meal.type == <span class="hljs-string">"noodles"</span>;              <span class="comment"><span class="hljs-comment">// Evaluates to true.</span></span></code></pre></div>
        </div>
      </div>
    </section>

    <section id="idl-callback-functions" typeof="bibo:Chapter" resource="#idl-callback-functions" property="bibo:hasPart">
      <h3 id="h-idl-callback-functions" resource="#h-idl-callback-functions"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.6 </span>Callback functions</span></h3>


      <p>
        A <dfn id="dfn-callback-function" data-dfn-type="dfn">callback function</dfn> is a definition (matching
        <span class="sym">"callback"</span> <a class="sym" href="#prod-CallbackRest">CallbackRest</a>) used to declare a function type.
      </p>
      <pre class="syntax hljs javascript">callback <i>identifier</i> = <i><span class="hljs-keyword">return</span>-type</i> (<i><span class="hljs-built_in">arguments</span>…</i>);</pre>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note32"><span>Note</span></div>
        <div class="">
          <p>See also the similarly named <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.</p>
        </div>
      </div>
      <p>
        The <a class="dfnref" href="#dfn-identifier">identifier</a> on the left of the equals sign gives the name of the <a class="dfnref" href="#dfn-callback-function">callback function</a> and the return type and argument list (matching <a class="sym" href="#prod-ReturnType">ReturnType</a> and <a class="sym" href="#prod-ArgumentList">ArgumentList</a>) on the right side of the equals sign gives the signature of the callback function type.
      </p>
      <p>
        <a class="dfnref" href="#dfn-callback-function">Callback functions</a> <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used as the type of a <a class="dfnref" href="#dfn-constant">constant</a>.
      </p>
      <p>
        The following extended attribute is applicable to callback functions:
        <a class="xattr" href="#TreatNonObjectAsNull">[TreatNonObjectAsNull]</a>.
      </p>

      <table class="grammar">
        <tbody>
          <tr>
            <td><span class="prod-number">[3]</span></td>
            <td><a class="sym" href="#prod-CallbackOrInterface">CallbackOrInterface</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"callback" <a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a> <br>&nbsp;|
             <a class="sym" href="#prod-Interface">Interface</a></span></td>
          </tr>
          <tr>
            <td><span class="prod-number">[4]</span></td>
            <td><a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-CallbackRest">CallbackRest</a> <br>&nbsp;|
             <a class="sym" href="#prod-Interface">Interface</a></span></td>
          </tr>
          <tr id="proddef-CallbackRest">
            <td><span class="prod-number">[23]</span></td>
            <td><a class="sym" href="#prod-CallbackRest">CallbackRest</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-ReturnType">ReturnType</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")" ";"</span></td>
          </tr>
        </tbody>
      </table>

      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>
          The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines a <a class="dfnref" href="#dfn-callback-function">callback function</a> used for an API that invokes a user-defined function when an operation is complete.
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">callback AsyncOperationCallback = <span class="hljs-keyword">void</span> (DOMString status);

interface AsyncOperations {
  <span class="hljs-keyword">void</span> performOperation(AsyncOperationCallback whenFinished);
};</code></pre></div>
        </div>
        <p>
          In the ECMAScript language binding, a <span class="estype">Function</span> object is passed as the operation argument.
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> ops = getAsyncOperations();  <span class="comment"><span class="hljs-comment">// Get an instance of AsyncOperations.</span></span>

ops.performOperation(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">status</span>) </span>{
  <span class="hljs-built_in">window</span>.alert(<span class="hljs-string">"Operation finished, status is "</span> + status + <span class="hljs-string">"."</span>);
});</code></pre></div>
        </div>
      </div>
    </section>

    <section id="idl-typedefs" typeof="bibo:Chapter" resource="#idl-typedefs" property="bibo:hasPart">
      <h3 id="h-idl-typedefs" resource="#h-idl-typedefs"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.7 </span>Typedefs</span></h3>

      <p>
        A <dfn id="dfn-typedef" data-dfn-type="dfn">typedef</dfn> is a definition (matching
        <a class="sym" href="#prod-Typedef">Typedef</a>) used to declare a new name for a type. This new name is not exposed by language bindings; it is purely used as a shorthand for referencing the type in the IDL.
      </p>
      <pre class="syntax hljs">typedef <i>type</i> <i>identifier</i>;</pre>
      <p>
        The type being given a new name is specified after the <code>typedef</code> keyword (matching <a class="sym" href="#prod-Type">Type</a>), and the
        <a class="sym" href="#prod-identifier">identifier</a> token following the type gives the name.
      </p>
      <p>
        The <a class="sym" href="#prod-Type">Type</a> <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> identify the same or another <a class="dfnref" href="#dfn-typedef">typedef</a>.
      </p>
      <p>
        No <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> defined in this specification are applicable to <a class="dfnref" href="#dfn-typedef">typedefs</a>.
      </p>

      <table class="grammar">
        <tbody>
          <tr id="proddef-Typedef">
            <td><span class="prod-number">[24]</span></td>
            <td><a class="sym" href="#prod-Typedef">Typedef</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"typedef" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td>
          </tr>
        </tbody>
      </table>

      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>
          The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> demonstrates the use of <a class="dfnref" href="#dfn-typedef">typedefs</a> to allow the use of a short
          <a class="dfnref" href="#dfn-identifier">identifier</a> instead of a long
          <a href="#idl-sequence">sequence type</a>.
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
          <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Point {
  attribute double x;
  attribute double y;
};

typedef sequence&lt;Point&gt; Points;

interface Widget {
  boolean pointWithinBounds(Point p);
  boolean allPointsWithinBounds(Points ps);
};</code></pre></div>
        </div>
      </div>
    </section>

    <section id="idl-implements-statements" typeof="bibo:Chapter" resource="#idl-implements-statements" property="bibo:hasPart">
      <h3 id="h-idl-implements-statements" resource="#h-idl-implements-statements"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.8 </span>Implements statements</span></h3>

      <p>
        An <dfn id="dfn-implements-statement" data-dfn-type="dfn">implements statement</dfn> is a definition (matching <a class="sym" href="#prod-ImplementsStatement">ImplementsStatement</a>) used to declare that all objects implementing an interface <var>A</var> (identified by the first <a class="dfnref" href="#dfn-identifier">identifier</a>)
        <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> additionally implement interface <var>B</var> (identified by the second identifier), including all other interfaces that
        <var>B</var> inherits from.
      </p>
      <pre class="syntax hljs"><i>identifier-A</i> implements <i>identifier-B</i>;</pre>
      <p>
        Transitively, if objects implementing <var>B</var> are declared with an <a class="dfnref" href="#dfn-implements-statement">implements statement</a> to additionally implement interface <var>C</var>, then all objects implementing
        <var>A</var> do additionally implement interface <var>C</var>.
      </p>
      <p>
        The two <a class="dfnref" href="#dfn-identifier">identifiers</a> <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> identify two different interfaces.
      </p>
      <p>
        The interface identified on the left-hand side of an implements statement
        <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> <a class="dfnref" href="#dfn-inherit">inherit</a> from the interface identifier on the right-hand side, and vice versa. Both identified interfaces also <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be
        <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>.
      </p>
      <p>
        If each <a class="dfnref" href="#dfn-implements-statement">implements statement</a> is considered to be an edge in a directed graph, from a node representing the interface on the left-hand side of the statement to a node representing the interface on the right-hand side, then this graph <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> have any cycles.
      </p>
      <p>
        Interfaces that a given object implements are partitioned into those that are considered
        <dfn id="dfn-supplemental-interface" data-dfn-type="dfn">supplemental interfaces</dfn> and those that are not. An interface <var>A</var> is considered to be a
        <a class="dfnref" href="#dfn-supplemental-interface">supplemental interface</a> of an object
        <var>O</var> if:
      </p>
      <ul>
        <li><var>O</var> implements a different interface <var>B</var>, and the IDL states that
          <code>B implements A</code>; or</li>
        <li><var>O</var> implements a different <a class="dfnref" href="#dfn-supplemental-interface">supplemental interface</a>
          <var>C</var>, and <var>C</var> <a class="dfnref" href="#dfn-inherit">inherits</a> from <var>A</var>.</li>
      </ul>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note33"><span>Note</span></div>
        <div class="">
          <p>
            Specification authors are discouraged from writing <a class="dfnref" href="#dfn-implements-statement">implements statements</a> where the <a class="dfnref" href="#dfn-interface">interface</a> on the left-hand side is a <a class="dfnref" href="#dfn-supplemental-interface">supplemental interface</a>. For example, if author 1 writes:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Window { ... };
interface SomeFunctionality { ... };
Window implements SomeFunctionality;</code></pre></div>
          </div>
          <p>
            and author 2 later writes:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Gizmo { ... };
interface MoreFunctionality { ... };
SomeFunctionality implements MoreFunctionality;
Gizmo implements SomeFunctionality;</code></pre></div>
          </div>
          <p>
            then it might be the case that author 2 is unaware of exactly which interfaces already are used on the left-hand side of an
            <code>implements SomeFunctionality</code> statement, and so has required more objects implement <span class="idltype">MoreFunctionality</span> than he or she expected.
          </p>
          <p>
            Better in this case would be for author 2 to write:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Gizmo { ... };
interface MoreFunctionality { ... };
Gizmo implements SomeFunctionality;
Gizmo implements MoreFunctionality;</code></pre></div>
          </div>
        </div>
      </div>
      <p>
        The <dfn id="dfn-consequential-interfaces" data-dfn-type="dfn">consequential interfaces</dfn> of an interface
        <var>A</var> are:
      </p>
      <ul>
        <li>each interface <var>B</var> where the IDL states <code>A implements B</code>;</li>
        <li>each interface that a consequential interface of <var>A</var> inherits from; and</li>
        <li>each interface <var>D</var> where the IDL states that <code>C implements D</code>, where <var>C</var> is a consequential interface of <var>A</var>.</li>
      </ul>
      <p>
        For a given interface, there <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be any member defined on any of its consequential interfaces whose identifier is the same as any other member defined on any of those consequential interfaces or on the original interface itself.
      </p>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note34"><span>Note</span></div>
        <div class="">
          <p>For example, that precludes the following:</p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface A { attribute long x; };
interface B { attribute long x; };
A implements B;  <span class="comment">// B::x would clash with A::x</span>

interface C { attribute long y; };
interface D { attribute long y; };
interface E : D { };
C implements E;  <span class="comment">// D::y would clash with C::y</span>

interface F { };
interface H { attribute long z; };
interface I { attribute long z; };
F implements H;
F implements I;  <span class="comment">// H::z and I::z would clash <span class="hljs-keyword">when</span> mixed <span class="hljs-keyword">in</span> <span class="hljs-keyword">to</span> F</span></code></pre></div>
          </div>
        </div>
      </div>
      <p>
        No <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> defined in this specification are applicable to
        <a class="dfnref" href="#dfn-implements-statement">implements statements</a>.
      </p>

      <table class="grammar">
        <tbody>
          <tr id="proddef-ImplementsStatement">
            <td><span class="prod-number">[25]</span></td>
            <td><a class="sym" href="#prod-ImplementsStatement">ImplementsStatement</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "implements" <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td>
          </tr>
        </tbody>
      </table>

      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>
          The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines two <a class="dfnref" href="#dfn-interface">interfaces</a>, stating that one interface is always implemented on objects implementing the other.
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Entry {
  readonly attribute unsigned short entryType;
  <span class="comment"><span class="hljs-comment">// ...</span></span>
};

interface Observable {
  <span class="hljs-keyword">void</span> addEventListener(DOMString type,
                        EventListener listener,
                        boolean useCapture);
  <span class="comment"><span class="hljs-comment">// ...</span></span>
};

Entry implements Observable;</code></pre></div>
        </div>
        <p>
          An ECMAScript implementation would thus have an “addEventListener” property in the prototype chain of every <span class="idltype">Entry</span>:
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> e = getEntry();          <span class="comment"><span class="hljs-comment">// Obtain an instance of Entry.</span></span>
<span class="hljs-keyword">typeof</span> e.addEventListener;  <span class="comment"><span class="hljs-comment">// Evaluates to "function".</span></span></code></pre></div>
        </div>
        <!--JAVA
            <p>
              Similarly, in Java, any <span class='javatype'>Node</span>
              object could be cast to <span class='javatype'>EventTarget</span>:
            </p>
            <x:codeblock language='java'>Node n = getNode();               <span class='comment'>// Obtain an instance of Node.</span>
EventTarget et = (EventTarget) n; <span class='comment'>// This should never throw ClassCastException.</span></x:codeblock>
            -->
        <p>
          Note that it is not the case that all <span class="idltype">Observable</span> objects implement <span class="idltype">Entry</span>.
        </p>
      </div>
    </section>

    <section id="idl-objects" typeof="bibo:Chapter" resource="#idl-objects" property="bibo:hasPart">
      <h3 id="h-idl-objects" resource="#h-idl-objects"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.9 </span>Objects implementing interfaces</span></h3>

      <p>
        In a given implementation of a set of <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a>, an object can be described as being a <dfn id="dfn-platform-object" data-dfn-type="dfn">platform object</dfn>, a
        <dfn id="dfn-user-object" data-dfn-type="dfn">user object</dfn>, or neither. There are two kinds of object that are considered to be platform objects:
      </p>
      <ul>
        <li>objects that implement a non-<a class="dfnref" href="#dfn-callback-interface">callback</a> <a class="dfnref" href="#dfn-interface">interface</a>;</li>
        <li>objects representing IDL <a class="dfnref" href="#dfn-DOMException">DOMExceptions</a>.</li>
      </ul>
      <p>
        In a browser, for example, the browser-implemented DOM objects (implementing interfaces such as <span class="idltype">Node</span> and
        <span class="idltype">Document</span>) that provide access to a web page’s contents to ECMAScript running in the page would be platform objects. These objects might be exotic objects, implemented in a language like C++, or they might be native ECMAScript objects. Regardless, an implementation of a given set of IDL fragments needs to be able to recognize all platform objects that are created by the implementation. This might be done by having some internal state that records whether a given object is indeed a platform object for that implementation, or perhaps by observing that the object is implemented by a given internal C++ class. How exactly platform objects are recognised by a given implementation of a set of IDL fragments is implementation specific.
      </p>
      <p>
        All other objects in the system would not be treated as platform objects. For example, assume that a web page opened in a browser loads an ECMAScript library that implements DOM Core. This library would be considered to be a different implementation from the browser provided implementation. The objects created by the ECMAScript library that implement the <span class="idltype">Node</span> interface will not be treated as platform objects that implement <span class="idltype">Node</span> by the browser implementation.
      </p>
      <p>
        User objects are those that authors would create, implementing
        <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a> that the Web APIs use to be able to invoke author-defined operations or to send and receive values to the author’s program through manipulating the object’s attributes. In a web page, an ECMAScript object that implements the <span class="idltype">EventListener</span> interface, which is used to register a callback that the DOM Events implementation invokes, would be considered to be a user object.
      </p>
      <p>
        Note that user objects can only implement <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a> and platform objects can only implement non-callback interfaces.
      </p>
      <!--
          <p>
            When a non-platform object is passed to a platform object expecting an object of a
            particular interface, be it as an argument value in an operation invocation,
            by assignment to an attribute, or through a dictionary member, and that
            interface is not a callback interface, then
            the object will not be considered to be one that implements that interface.
            Language bindings define when this check is made and what happens
            in response in such a case (such as throwing an exception).
          </p>
          -->
    </section>

    <!--
        <div id='idl-valuetypes' class='section'>
          <h3>Valuetypes</h3>

          <p>
            Valuetypes in OMG IDL are used to define types similar to structs in C.
            That is, they define composite types that can have zero or more
            member variables that are passed by value.  OMG IDL valuetypes have the
            additional feature of allowing <span class='idlvalue'>null</span> to
            be passed in place of an object with those member variables.  An
            OMG IDL boxed valuetype is a special case, where the valuetype has
            a single member.
          </p>
          <p>
            The IDL defined in this specification supports only
            <dfn id='dfn-boxed-valuetype'>boxed valuetypes</dfn>, which are definitions
            that match the <a class='sym' href='#prod-Valuetype'>Valuetype</a> non-terminal.
            The <a class='dfnref' href='#dfn-identifier'>identifier</a> of the valuetype
            is given by the <a class='sym' href='#prod-identifier'>identifier</a> terminal,
            and the type being boxed is given by the
            <a class='sym' href='#prod-BoxedType'>BoxedType</a> non-terminal.  If the
            <a class='sym' href='#prod-BoxedType'>BoxedType</a> is a
            <a class='sym' href='#prod-ScopedName'>ScopedName</a>, then it
            <span class='rfc2119'>MUST</span> refer to a type that does not allow
            <span class='idlvalue'>null</span> as a value (i.e.,
            <a class='idltype' href='#idl-boolean'>boolean</a>,
            <a class='idltype' href='#idl-octet'>octet</a>,
            <a class='idltype' href='#idl-short'>short</a>,
            <a class='idltype' href='#idl-unsigned-short'>unsigned short</a>,
            <a class='idltype' href='#idl-unsigned-long'>unsigned long</a>,
            <a class='idltype' href='#idl-long-long'>long long</a>,
            <a class='idltype' href='#idl-unsigned-long-long'>unsigned long long</a>,
            <a class='idltype' href='#idl-float'>float</a>,
            <a class='idltype' href='#idl-double'>double</a> or
            <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a>.
          </p>
          <p>
            Boxed valuetypes are essentially used just for allowing a <span class='idlvalue'>null</span>
            value to be used where normally a non-null value could only be used.
          </p>

          <div class='example'>
            <p>
              The following <a class='dfnref' href='#dfn-idl-fragment'>IDL fragment</a>
              demonstrates the use of <a class='dfnref' href='#dfn-boxed-valuetype'>boxed valuetypes</a>:
            </p>
            <x:codeblock language='idl'>valuetype OptionalFloat float;

interface Person {

  <span class='comment'>// This attribute can be a float or null.  In this case, null might be used</span>
  <span class='comment'>// to represent the case where the height of the person is unknown.</span>
  readonly attribute OptionalFloat height;
};</x:codeblock>
          </div>

          <?productions grammar Valuetype ValuetypeRest?>
        </div>
        -->

    <section id="idl-types" typeof="bibo:Chapter" resource="#idl-types" property="bibo:hasPart">
      <h3 id="h-idl-types" resource="#h-idl-types"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10 </span>Types</span></h3>

      <p>
        This section lists the types supported by Web IDL, the set of values corresponding to each type, and how <a class="dfnref" href="#dfn-constant">constants</a> of that type are represented.
      </p>
      <p>
        The following types are known as <dfn id="dfn-integer-type" data-dfn-type="dfn">integer types</dfn>:
        <a class="idltype" href="#idl-byte">byte</a>,
        <a class="idltype" href="#idl-octet">octet</a>,
        <a class="idltype" href="#idl-short">short</a>,
        <a class="idltype" href="#idl-unsigned-short">unsigned short</a>,
        <a class="idltype" href="#idl-long">long</a>,
        <a class="idltype" href="#idl-unsigned-long">unsigned long</a>,
        <a class="idltype" href="#idl-long-long">long long</a> and
        <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a>.
      </p>
      <p>
        The following types are known as <dfn id="dfn-numeric-type" data-dfn-type="dfn">numeric types</dfn>: the <a class="dfnref" href="#dfn-integer-type">integer types</a>,
        <a class="idltype" href="#idl-float">float</a>,
        <a class="idltype" href="#idl-unrestricted-float">unresticted float</a>,
        <a class="idltype" href="#idl-double">double</a> and
        <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a>.
      </p>
      <p>
        The <dfn id="dfn-primitive-type" data-dfn-type="dfn">primitive types</dfn> are
        <a class="idltype" href="#idl-boolean">boolean</a> and the <a class="dfnref" href="#dfn-numeric-type">numeric types</a>.
      </p>
      <p>
        The <dfn id="dfn-string-type" data-dfn-type="dfn">string types</dfn> are
        <a class="idltype" href="#idl-DOMString">DOMString</a>, all <a href="#idl-enumeration">enumeration types</a>,
        <a class="idltype" href="#idl-ByteString">ByteString</a> and <a class="idltype" href="#idl-USVString">USVString</a>.
      </p>
      <p>
        The <dfn id="dfn-exception-type" data-dfn-type="dfn">exception types</dfn> are
        <a class="idltype" href="#idl-Error">Error</a> and <a class="idltype" href="#idl-DOMException">DOMException</a>.
      </p>
      <p>
        The <dfn id="dfn-typed-array-type" data-dfn-type="dfn">typed array types</dfn> are
        <a class="idltype" href="#idl-Int8Array">Int8Array</a>,
        <a class="idltype" href="#idl-Int16Array">Int16Array</a>,
        <a class="idltype" href="#idl-Int32Array">Int32Array</a>,
        <a class="idltype" href="#idl-Uint8Array">Uint8Array</a>,
        <a class="idltype" href="#idl-Uint16Array">Uint16Array</a>,
        <a class="idltype" href="#idl-Uint32Array">Uint32Array</a>,
        <a class="idltype" href="#idl-Uint8ClampedArray">Uint8ClampedArray</a>,
        <a class="idltype" href="#idl-Float32Array">Float32Array</a> and
        <a class="idltype" href="#idl-Float64Array">Float64Array</a>.
      </p>
      <p>
        The <dfn id="dfn-buffer-source-type" data-dfn-type="dfn">buffer source types</dfn> are <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a>,
        <a class="idltype" href="#idl-DataView">DataView</a>, and the <a class="dfnref" href="#dfn-typed-array-type">typed array types</a>.
      </p>
      <p>
        The <a class="idltype" href="#idl-object">object</a> type, all <a class="dfnref" href="#idl-interface">interface types</a> and the <a class="dfnref" href="#dfn-exception-type">exception types</a> are known as <dfn id="dfn-object-type" data-dfn-type="dfn">object types</dfn>.
      </p>
      <p>
        Every type has a <dfn id="dfn-type-name" data-dfn-type="dfn">type name</dfn>, which is a string, not necessarily unique, that identifies the type. Each sub-section below defines what the type name is for each type.
      </p>
      <p id="type-conversion-exceptions">
        When conversions are made from language binding specific types to IDL types in order to invoke an <a class="dfnref" href="#dfn-operation">operation</a> or assign a value to an <a class="dfnref" href="#dfn-attribute">attribute</a>, all conversions necessary will be performed before the specified functionality of the operation or attribute assignment is carried out. If the conversion cannot be performed, then the operation will not run or the attribute will not be updated. In some language bindings, type conversions could result in an exception being thrown. In such cases, these exceptions will be propagated to the code that made the attempt to invoke the operation or assign to the attribute.
      </p>

      <table class="grammar">
        <tbody>
          <tr id="proddef-Type">
            <td><span class="prod-number">[73]</span></td>
            <td><a class="sym" href="#prod-Type">Type</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-SingleType">SingleType</a> <br>&nbsp;|
             <a class="sym" href="#prod-UnionType">UnionType</a> <a class="sym" href="#prod-Null">Null</a></span></td>
          </tr>
          <tr id="proddef-SingleType">
            <td><span class="prod-number">[74]</span></td>
            <td><a class="sym" href="#prod-SingleType">SingleType</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-NonAnyType">NonAnyType</a> <br>&nbsp;|
             "any"</span></td>
          </tr>
          <tr id="proddef-UnionType">
            <td><span class="prod-number">[75]</span></td>
            <td><a class="sym" href="#prod-UnionType">UnionType</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"(" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> "or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> ")"</span></td>
          </tr>
          <tr id="proddef-UnionMemberType">
            <td><span class="prod-number">[76]</span></td>
            <td><a class="sym" href="#prod-UnionMemberType">UnionMemberType</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-NonAnyType">NonAnyType</a> <br>&nbsp;|
             <a class="sym" href="#prod-UnionType">UnionType</a> <a class="sym" href="#prod-Null">Null</a></span></td>
          </tr>
          <tr id="proddef-UnionMemberTypes">
            <td><span class="prod-number">[77]</span></td>
            <td><a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> <br>&nbsp;|
             ε</span></td>
          </tr>
          <tr id="proddef-NonAnyType">
            <td><span class="prod-number">[78]</span></td>
            <td><a class="sym" href="#prod-NonAnyType">NonAnyType</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-PromiseType">PromiseType</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "ByteString" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "DOMString" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "USVString" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "sequence" "&lt;" <a class="sym" href="#prod-Type">Type</a> "&gt;" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "object" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "Error" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "DOMException" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-BufferRelatedType">BufferRelatedType</a> <a class="sym" href="#prod-Null">Null</a> </span></td>
          </tr>
          <tr>
            <td><span class="prod-number">[80]</span></td>
            <td><a class="sym" href="#prod-ConstType">ConstType</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Null">Null</a></span></td>
          </tr>
          <tr id="proddef-PrimitiveType">
            <td><span class="prod-number">[81]</span></td>
            <td><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-UnsignedIntegerType">UnsignedIntegerType</a> <br>&nbsp;|
             <a class="sym" href="#prod-UnrestrictedFloatType">UnrestrictedFloatType</a> <br>&nbsp;|
             "boolean" <br>&nbsp;|
             "byte" <br>&nbsp;|
             "octet"</span></td>
          </tr>
          <tr id="proddef-UnrestrictedFloatType">
            <td><span class="prod-number">[82]</span></td>
            <td><a class="sym" href="#prod-UnrestrictedFloatType">UnrestrictedFloatType</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"unrestricted" <a class="sym" href="#prod-FloatType">FloatType</a> <br>&nbsp;|
             <a class="sym" href="#prod-FloatType">FloatType</a></span></td>
          </tr>
          <tr id="proddef-FloatType">
            <td><span class="prod-number">[83]</span></td>
            <td><a class="sym" href="#prod-FloatType">FloatType</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"float" <br>&nbsp;|
             "double"</span></td>
          </tr>
          <tr id="proddef-UnsignedIntegerType">
            <td><span class="prod-number">[84]</span></td>
            <td><a class="sym" href="#prod-UnsignedIntegerType">UnsignedIntegerType</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"unsigned" <a class="sym" href="#prod-IntegerType">IntegerType</a> <br>&nbsp;|
             <a class="sym" href="#prod-IntegerType">IntegerType</a></span></td>
          </tr>
          <tr id="proddef-IntegerType">
            <td><span class="prod-number">[85]</span></td>
            <td><a class="sym" href="#prod-IntegerType">IntegerType</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"short" <br>&nbsp;|
             "long" <a class="sym" href="#prod-OptionalLong">OptionalLong</a></span></td>
          </tr>
          <tr id="proddef-OptionalLong">
            <td><span class="prod-number">[86]</span></td>
            <td><a class="sym" href="#prod-OptionalLong">OptionalLong</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"long" <br>&nbsp;|
             ε</span></td>
          </tr>
          <tr id="proddef-PromiseType">
            <td><span class="prod-number">[87]</span></td>
            <td><a class="sym" href="#prod-PromiseType">PromiseType</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"Promise" "&lt;" <a class="sym" href="#prod-ReturnType">ReturnType</a> "&gt;"</span></td>
          </tr>
          <tr id="proddef-Null">
            <td><span class="prod-number">[88]</span></td>
            <td><a class="sym" href="#prod-Null">Null</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"?" <br>&nbsp;|
             ε</span></td>
          </tr>
        </tbody>
      </table>

      <section id="idl-any" typeof="bibo:Chapter" resource="#idl-any" property="bibo:hasPart">
        <h4 id="h-idl-any" resource="#h-idl-any"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.1 </span>any</span></h4>

        <p>
          The <a class="idltype" href="#idl-any">any</a> type is the union of all other possible non-
          <a href="#idl-union">union</a> types. Its <a class="dfnref" href="#dfn-type-name">type name</a> is “Any”.
        </p>
        <p>
          The <a class="idltype" href="#idl-any">any</a> type is like a discriminated union type, in that each of its values has a specific non-<a class="idltype" href="#idl-any">any</a> type associated with it. For example, one value of the
          <a class="idltype" href="#idl-any">any</a> type is the
          <a class="idltype" href="#idl-unsigned-long">unsigned long</a> 150, while another is the <a class="idltype" href="#idl-long">long</a> 150. These are distinct values.
        </p>
        <p>
          The particular type of an <a class="idltype" href="#idl-any">any</a> value is known as its <dfn id="dfn-specific-type" data-dfn-type="dfn">specific type</dfn>. (Values of <a href="#idl-union">union types</a> also have
          <a class="dfnref" href="#dfn-specific-type">specific types</a>.)
        </p>
      </section>

      <section id="idl-boolean" typeof="bibo:Chapter" resource="#idl-boolean" property="bibo:hasPart">
        <h4 id="h-idl-boolean" resource="#h-idl-boolean"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.2 </span>boolean</span></h4>

        <p>
          The <a class="idltype" href="#idl-boolean">boolean</a> type has two values:
          <span class="idlvalue">true</span> and <span class="idlvalue">false</span>.
        </p>
        <p>
          <a class="idltype" href="#idl-boolean">boolean</a> constant values in IDL are represented with the <code>true</code> and
          <code>false</code> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-boolean">boolean</a> type is “Boolean”.
        </p>
      </section>

      <section id="idl-byte" typeof="bibo:Chapter" resource="#idl-byte" property="bibo:hasPart">
        <h4 id="h-idl-byte" resource="#h-idl-byte"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.3 </span>byte</span></h4>

        <p>
          The <a class="idltype" href="#idl-byte">byte</a> type is a signed integer type that has values in the range [−128,&nbsp;127].
        </p>
        <p>
          <a class="idltype" href="#idl-byte">byte</a> constant values in IDL are represented with <a class="sym" href="#prod-integer">integer</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-byte">byte</a> type is “Byte”.
        </p>
      </section>

      <section id="idl-octet" typeof="bibo:Chapter" resource="#idl-octet" property="bibo:hasPart">
        <h4 id="h-idl-octet" resource="#h-idl-octet"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.4 </span>octet</span></h4>

        <p>
          The <a class="idltype" href="#idl-octet">octet</a> type is an unsigned integer type that has values in the range [0,&nbsp;255].
        </p>
        <p>
          <a class="idltype" href="#idl-octet">octet</a> constant values in IDL are represented with <a class="sym" href="#prod-integer">integer</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-octet">octet</a> type is “Octet”.
        </p>
      </section>

      <section id="idl-short" typeof="bibo:Chapter" resource="#idl-short" property="bibo:hasPart">
        <h4 id="h-idl-short" resource="#h-idl-short"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.5 </span>short</span></h4>

        <p>
          The <a class="idltype" href="#idl-short">short</a> type is a signed integer type that has values in the range [−32768,&nbsp;32767].
        </p>
        <p>
          <a class="idltype" href="#idl-short">short</a> constant values in IDL are represented with <a class="sym" href="#prod-integer">integer</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-short">short</a> type is “Short”.
        </p>
      </section>

      <section id="idl-unsigned-short" typeof="bibo:Chapter" resource="#idl-unsigned-short" property="bibo:hasPart">
        <h4 id="h-idl-unsigned-short" resource="#h-idl-unsigned-short"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.6 </span>unsigned short</span></h4>

        <p>
          The <a class="idltype" href="#idl-unsigned-short">unsigned short</a> type is an unsigned integer type that has values in the range [0,&nbsp;65535].
        </p>
        <p>
          <a class="idltype" href="#idl-unsigned-short">unsigned short</a> constant values in IDL are represented with <a class="sym" href="#prod-integer">integer</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-unsigned-short">unsigned short</a> type is “UnsignedShort”.
        </p>
      </section>

      <section id="idl-long" typeof="bibo:Chapter" resource="#idl-long" property="bibo:hasPart">
        <h4 id="h-idl-long" resource="#h-idl-long"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.7 </span>long</span></h4>

        <p>
          The <a class="idltype" href="#idl-long">long</a> type is a signed integer type that has values in the range [−2147483648,&nbsp;2147483647].
        </p>
        <p>
          <a class="idltype" href="#idl-long">long</a> constant values in IDL are represented with <a class="sym" href="#prod-integer">integer</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-long">long</a> type is “Long”.
        </p>
      </section>

      <section id="idl-unsigned-long" typeof="bibo:Chapter" resource="#idl-unsigned-long" property="bibo:hasPart">
        <h4 id="h-idl-unsigned-long" resource="#h-idl-unsigned-long"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.8 </span>unsigned long</span></h4>

        <p>
          The <a class="idltype" href="#idl-unsigned-long">unsigned long</a> type is an unsigned integer type that has values in the range [0,&nbsp;4294967295].
        </p>
        <p>
          <a class="idltype" href="#idl-unsigned-long">unsigned long</a> constant values in IDL are represented with <a class="sym" href="#prod-integer">integer</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-unsigned-long">unsigned long</a> type is “UnsignedLong”.
        </p>
      </section>

      <section id="idl-long-long" typeof="bibo:Chapter" resource="#idl-long-long" property="bibo:hasPart">
        <h4 id="h-idl-long-long" resource="#h-idl-long-long"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.9 </span>long long</span></h4>

        <p>
          The <a class="idltype" href="#idl-long-long">long long</a> type is a signed integer type that has values in the range [−9223372036854775808,&nbsp;9223372036854775807].
        </p>
        <p>
          <a class="idltype" href="#idl-long-long">long long</a> constant values in IDL are represented with <a class="sym" href="#prod-integer">integer</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-long-long">long long</a> type is “LongLong”.
        </p>
      </section>

      <section id="idl-unsigned-long-long" typeof="bibo:Chapter" resource="#idl-unsigned-long-long" property="bibo:hasPart">
        <h4 id="h-idl-unsigned-long-long" resource="#h-idl-unsigned-long-long"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.10 </span>unsigned long long</span></h4>

        <p>
          The <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> type is an unsigned integer type that has values in the range [0,&nbsp;18446744073709551615].
        </p>
        <p>
          <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> constant values in IDL are represented with <a class="sym" href="#prod-integer">integer</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> type is “UnsignedLongLong”.
        </p>
      </section>

      <section id="idl-float" typeof="bibo:Chapter" resource="#idl-float" property="bibo:hasPart">
        <h4 id="h-idl-float" resource="#h-idl-float"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.11 </span>float</span></h4>

        <p>
          The <a class="idltype" href="#idl-float">float</a> type is a floating point numeric type that corresponds to the set of finite single-precision 32 bit IEEE 754 floating point numbers. [<cite><a class="bibref" href="#bib-IEEE-754">IEEE-754</a></cite>]
        </p>
        <p>
          <a class="idltype" href="#idl-float">float</a> constant values in IDL are represented with <a class="sym" href="#prod-float">float</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-float">float</a> type is “Float”.
        </p>
        <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>
              Unless there are specific reasons to use a 32 bit floating point type, specifications <span class="rfc2119"><em class="rfc2119" title="SHOULD">SHOULD</em></span> use
              <a class="idltype" href="#idl-double">double</a> rather than <a class="idltype" href="#idl-float">float</a>, since the set of values that a <a class="idltype" href="#idl-double">double</a> can represent more closely matches an ECMAScript <span class="estype">Number</span>.
            </p>
          </div>
        </div>
      </section>

      <section id="idl-unrestricted-float" typeof="bibo:Chapter" resource="#idl-unrestricted-float" property="bibo:hasPart">
        <h4 id="h-idl-unrestricted-float" resource="#h-idl-unrestricted-float"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.12 </span>unrestricted float</span></h4>

        <p>
          The <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> type is a floating point numeric type that corresponds to the set of all possible single-precision 32 bit IEEE 754 floating point numbers, finite and non-finite. [<cite><a class="bibref" href="#bib-IEEE-754">IEEE-754</a></cite>]
        </p>
        <p>
          <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> constant values in IDL are represented with <a class="sym" href="#prod-float">float</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> type is “UnrestrictedFloat”.
        </p>
      </section>

      <section id="idl-double" typeof="bibo:Chapter" resource="#idl-double" property="bibo:hasPart">
        <h4 id="h-idl-double" resource="#h-idl-double"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.13 </span>double</span></h4>

        <p>
          The <a class="idltype" href="#idl-double">double</a> type is a floating point numeric type that corresponds to the set of finite double-precision 64 bit IEEE 754 floating point numbers. [<cite><a class="bibref" href="#bib-IEEE-754">IEEE-754</a></cite>]
        </p>
        <p>
          <a class="idltype" href="#idl-double">double</a> constant values in IDL are represented with <a class="sym" href="#prod-float">float</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-double">double</a> type is “Double”.
        </p>
      </section>

      <section id="idl-unrestricted-double" typeof="bibo:Chapter" resource="#idl-unrestricted-double" property="bibo:hasPart">
        <h4 id="h-idl-unrestricted-double" resource="#h-idl-unrestricted-double"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.14 </span>unrestricted double</span></h4>

        <p>
          The <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> type is a floating point numeric type that corresponds to the set of all possible double-precision 64 bit IEEE 754 floating point numbers, finite and non-finite. [<cite><a class="bibref" href="#bib-IEEE-754">IEEE-754</a></cite>]
        </p>
        <p>
          <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> constant values in IDL are represented with <a class="sym" href="#prod-float">float</a> tokens.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> type is “UnrestrictedDouble”.
        </p>
      </section>

      <section id="idl-DOMString" typeof="bibo:Chapter" resource="#idl-DOMString" property="bibo:hasPart">
        <h4 id="h-idl-domstring" resource="#h-idl-domstring"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.15 </span>DOMString</span></h4>

        <p>
          The <a class="idltype" href="#idl-DOMString">DOMString</a> type corresponds to the set of all possible sequences of <a class="dfnref" href="#dfn-code-unit">code units</a>. Such sequences are commonly interpreted as UTF-16 encoded strings [<cite><a class="bibref" href="#bib-RFC2781">RFC2781</a></cite>] although this is not required. While <a class="idltype" href="#idl-DOMString">DOMString</a> is defined to be an OMG IDL boxed
          <a class="idltype" href="#idl-sequence">sequence&lt;unsigned short&gt;</a> valuetype in <cite><a href="http://www.w3.org/TR/2004/REC-DOM-Level-3-Core-20040407/core.html#ID-C74D1578">DOM Level 3 Core</a></cite> ([
          <cite><a class="bibref" href="#bib-DOM3CORE">DOM3CORE</a></cite>], section 1.2.1), this document defines <a class="idltype" href="#idl-DOMString">DOMString</a> to be an intrinsic type so as to avoid special casing that sequence type in various situations where a string is required.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note35"><span>Note</span></div>
          <div class="">
            <p>
              Note also that <span class="idlvalue">null</span> is not a value of type <a class="idltype" href="#idl-DOMString">DOMString</a>. To allow <span class="idlvalue">null</span>, a
              <a href="#idl-nullable-type">nullable</a> <a class="idltype" href="#idl-DOMString">DOMString</a>, written as <code>DOMString?</code> in IDL, needs to be used.
            </p>
          </div>
        </div>
        <p>
          Nothing in this specification requires a <a class="idltype" href="#idl-DOMString">DOMString</a> value to be a valid UTF-16 string. For example, a <a class="idltype" href="#idl-DOMString">DOMString</a> value might include unmatched surrogate pair characters. However, authors of specifications using Web IDL might want to obtain a sequence of
          <a class="external" href="http://www.unicode.org/glossary/#unicode_scalar_value">Unicode scalar values</a> given a particular sequence of
          <a class="dfnref" href="#dfn-code-unit">code units</a>. The following algorithm defines a way to
          <dfn id="dfn-obtain-unicode" data-dfn-type="dfn">convert a DOMString to a sequence of Unicode scalar values</dfn>:
        </p>
        <ol class="algorithm">
          <li>Let <var>S</var> be the <a class="idltype" href="#idl-DOMString">DOMString</a> value.</li>
          <li>Let <var>n</var> be the length of <var>S</var>.</li>
          <li>Initialize <var>i</var> to 0.</li>
          <li>Initialize <var>U</var> to be an empty sequence of Unicode characters.</li>
          <li>While <var>i</var>&nbsp;&lt;&nbsp;<var>n</var>:
            <ol>
              <li>Let <var>c</var> be the <a class="dfnref" href="#dfn-code-unit">code unit</a> in <var>S</var> at index <var>i</var>.</li>
              <li>Depending on the value of <var>c</var>:
                <dl class="switch">
                  <dt><var>c</var>&nbsp;&lt;&nbsp;0xD800 or <var>c</var>&nbsp;&gt;&nbsp;0xDFFF</dt>
                  <dd>Append to <var>U</var> the Unicode character with code point <var>c</var>. </dd>

                  <dt>0xDC00&nbsp;≤&nbsp;<var>c</var>&nbsp;≤&nbsp;0xDFFF</dt>
                  <dd>Append to <var>U</var> a <span class="char">U+FFFD REPLACEMENT CHARACTER</span>.</dd>

                  <dt>0xD800&nbsp;≤&nbsp;<var>c</var>&nbsp;≤&nbsp;0xDBFF</dt>
                  <dd>
                    <ol class="only">
                      <li>If <var>i</var>&nbsp;=&nbsp;<var>n</var>−1, then append to <var>U</var> a <span class="char">U+FFFD REPLACEMENT CHARACTER</span>.</li>
                      <li>Otherwise, <var>i</var>&nbsp;&lt;&nbsp;<var>n</var>−1:
                        <ol>
                          <li>Let <var>d</var> be the code unit in <var>S</var> at index
                            <var>i</var>+1.</li>
                          <li>If 0xDC00&nbsp;≤&nbsp;<var>d</var>&nbsp;≤&nbsp;0xDFFF, then:
                            <ol>
                              <li>Let <var>a</var> be <var>c</var>&nbsp;&amp;&nbsp;0x3FF.</li>
                              <li>Let <var>b</var> be <var>d</var>&nbsp;&amp;&nbsp;0x3FF.</li>
                              <li>Append to <var>U</var> the Unicode character with code point 2<sup>16</sup>+2<sup>10</sup><var>a</var>+<var>b</var>.</li>
                              <li>Set <var>i</var> to <var>i</var>+1.</li>
                            </ol>
                          </li>
                          <li>Otherwise, <var>d</var>&nbsp;&lt;&nbsp;0xDC00 or <var>d</var>&nbsp;&gt;&nbsp;0xDFFF. Append to <var>U</var> a <span class="char">U+FFFD REPLACEMENT CHARACTER</span>.</li>
                        </ol>
                      </li>
                    </ol>
                  </dd>
                </dl>
              </li>
              <li>Set <var>i</var> to <var>i</var>+1.</li>
            </ol>
          </li>
          <li>Return <var>U</var>.</li>
        </ol>
        <p>
          There is no way to represent a constant <a class="idltype" href="#idl-DOMString">DOMString</a> value in IDL, although <a class="idltype" href="#idl-DOMString">DOMString</a> <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> and <a class="dfnref" href="#dfn-optional-argument">operation optional argument</a> default values can be specified using a <a class="sym" href="#prod-string">string</a> literal.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-DOMString">DOMString</a> type is “String”.
        </p>
      </section>

      <section id="idl-ByteString" typeof="bibo:Chapter" resource="#idl-ByteString" property="bibo:hasPart">
        <h4 id="h-idl-bytestring" resource="#h-idl-bytestring"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.16 </span>ByteString</span></h4>

        <p>
          The <a class="idltype" href="#idl-ByteString">ByteString</a> type corresponds to the set of all possible sequences of bytes. Such sequences might be interpreted as UTF-8 encoded strings [<cite><a class="bibref" href="#bib-RFC3629">RFC3629</a></cite>] or strings in some other 8-bit-per-code-unit encoding, although this is not required.
        </p>
        <p>
          There is no way to represent a constant <a class="idltype" href="#idl-ByteString">ByteString</a> value in IDL.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-ByteString">ByteString</a> type is “ByteString”.
        </p>
        <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>
              Specifications <span class="rfc2119"><em class="rfc2119" title="SHOULD">SHOULD</em></span> only use
              <a class="idltype" href="#idl-ByteString">ByteString</a> for interfacing with protocols that use bytes and strings interchangably, such as HTTP. In general, strings <span class="rfc2119"><em class="rfc2119" title="SHOULD">SHOULD</em></span> be represented with
              <a class="idltype" href="#idl-DOMString">DOMString</a> values, even if it is expected that values of the string will always be in ASCII or some 8 bit character encoding. <a href="#idl-sequence">Sequences</a> or <a href="https://www.khronos.org/registry/typedarray/specs/latest/">Typed Arrays</a> with <a class="idltype" href="#idl-octet">octet</a> or <a class="idltype" href="#idl-byte">byte</a> elements <span class="rfc2119"><em class="rfc2119" title="SHOULD">SHOULD</em></span> be used for holding 8 bit data rather than <a class="idltype" href="#idl-ByteString">ByteString</a>. [
              <cite><a class="bibref" href="#bib-TYPEDARRAYS">TYPEDARRAYS</a></cite>]
            </p>
          </div>
        </div>
      </section>

      <section id="idl-USVString" typeof="bibo:Chapter" resource="#idl-USVString" property="bibo:hasPart">
        <h4 id="h-idl-usvstring" resource="#h-idl-usvstring"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.17 </span>USVString</span></h4>

        <p>
          The <a class="idltype" href="#idl-USVString">USVString</a> type corresponds to the set of all possible sequences of
          <a class="external" href="http://www.unicode.org/glossary/#unicode_scalar_value">Unicode scalar values</a>, which are all of the Unicode code points apart from the surrogate code points.
        </p>
        <p>
          There is no way to represent a constant <a class="idltype" href="#idl-USVString">USVString</a> value in IDL, although <a class="idltype" href="#idl-USVString">USVString</a> <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> and <a class="dfnref" href="#dfn-optional-argument">operation optional argument</a> default values can be specified using a <a class="sym" href="#prod-string">string</a> literal.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-USVString">USVString</a> type is “USVString”.
        </p>
        <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>
              Specifications <span class="rfc2119"><em class="rfc2119" title="SHOULD">SHOULD</em></span> only use
              <a class="idltype" href="#idl-USVString">USVString</a> for APIs that perform text processing and need a string of Unicode scalar values to operate on. Most APIs that use strings should instead be using <a class="idltype" href="#idl-DOMString">DOMString</a>, which does not make any interpretations of the <a class="dfnref" href="#dfn-code-unit">code units</a> in the string. When in doubt, use <a class="idltype" href="#idl-DOMString">DOMString</a>.
            </p>
          </div>
        </div>
      </section>

      <section id="idl-object" typeof="bibo:Chapter" resource="#idl-object" property="bibo:hasPart">
        <h4 id="h-idl-object" resource="#h-idl-object"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.18 </span>object</span></h4>

        <p>
          The <a class="idltype" href="#idl-object">object</a> type corresponds to the set of all possible non-null object references.
        </p>
        <p>
          There is no way to represent a constant <a class="idltype" href="#idl-object">object</a> value in IDL.
        </p>
        <p>
          To denote a type that includes all possible object references plus the
          <span class="idlvalue">null</span> value, use the <a href="#dfn-nullable-type">nullable type</a>
          <span class="idltype">object?</span>.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-object">object</a> type is “Object”.
        </p>
      </section>

      <section id="idl-interface" typeof="bibo:Chapter" resource="#idl-interface" property="bibo:hasPart">
        <h4 id="h-idl-interface" resource="#h-idl-interface"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.19 </span>Interface types</span></h4>

        <p>
          An <a class="dfnref" href="#dfn-identifier">identifier</a> that identifies an <a class="dfnref" href="#dfn-interface">interface</a> is used to refer to a type that corresponds to the set of all possible non-null references to objects that implement that interface.
        </p>
        <p>
          For non-callback interfaces, an IDL value of the interface type is represented just by an object reference. For <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a>, an IDL value of the interface type is represented by a tuple of an object reference and a <dfn id="dfn-callback-context" data-dfn-type="dfn">callback context</dfn>. The <a class="dfnref" href="#dfn-callback-context">callback context</a> is a language binding specific value, and is used to store information about the execution context at the time the language binding specific object reference is converted to an IDL value.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note36"><span>Note</span></div>
          <div class="">
            <p>For ECMAScript objects, the <a class="dfnref" href="#dfn-callback-context">callback context</a> is used to hold a reference to the
              <a class="dfnref external" href="http://www.w3.org/TR/html/webappapis.html#incumbent-settings-object">incumbent script</a> [
              <cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>] at the time the <span class="estype">Object</span> value is converted to an IDL callback interface type value. See
              <a href="#es-interface">section </a><a href="#es-interface">4.2.20 </a> .</p>
          </div>
        </div>
        <p>
          There is no way to represent a constant object reference value for a particular interface type in IDL.
        </p>
        <p>
          To denote a type that includes all possible references to objects implementing the given interface plus the <span class="idlvalue">null</span> value, use a <a href="#dfn-nullable-type">nullable type</a>.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of an interface type is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the interface.
        </p>
      </section>

      <section id="idl-dictionary" typeof="bibo:Chapter" resource="#idl-dictionary" property="bibo:hasPart">
        <h4 id="h-idl-dictionary" resource="#h-idl-dictionary"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.20 </span>Dictionary types</span></h4>

        <p>
          An <a class="dfnref" href="#dfn-identifier">identifier</a> that identifies a <a class="dfnref" href="#dfn-dictionary">dictionary</a> is used to refer to a type that corresponds to the set of all dictionaries that adhere to the dictionary definition.
        </p>
        <p>
          There is no way to represent a constant dictionary value in IDL.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of a dictionary type is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the dictionary.
        </p>
      </section>

      <section id="idl-enumeration" typeof="bibo:Chapter" resource="#idl-enumeration" property="bibo:hasPart">
        <h4 id="h-idl-enumeration" resource="#h-idl-enumeration"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.21 </span>Enumeration types</span></h4>

        <p>
          An <a class="dfnref" href="#dfn-identifier">identifier</a> that identifies an <a class="dfnref" href="#dfn-enumeration">enumeration</a> is used to refer to a type whose values are the set of strings (sequences of
          <a class="dfnref" href="#dfn-code-unit">code units</a>, as with
          <a class="idltype" href="#idl-DOMString">DOMString</a>) that are the
          <a class="dfnref" href="#dfn-enumeration-value">enumeration’s values</a>.
        </p>
        <p>
          Like <a class="idltype" href="#idl-DOMString">DOMString</a>, there is no way to represent a constant <a class="dfnref" href="#dfn-enumeration">enumeration</a> value in IDL, although enumeration-typed <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a>
          <a class="dfnref" href="#dfn-dictionary-member-default-value">default values</a> can be specified using a
          <a class="sym" href="#prod-string">string</a> literal.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of an enumeration type is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the enumeration.
        </p>
      </section>

      <section id="idl-callback-function" typeof="bibo:Chapter" resource="#idl-callback-function" property="bibo:hasPart">
        <h4 id="h-idl-callback-function" resource="#h-idl-callback-function"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.22 </span>Callback function types</span></h4>

        <p>
          An <a class="dfnref" href="#dfn-identifier">identifier</a> that identifies a <a class="dfnref" href="#dfn-callback-function">callback function</a> is used to refer to a type whose values are references to objects that are functions with the given signature.
        </p>
        <p>
          An IDL value of the callback function type is represented by a tuple of an object reference and a <a class="dfnref" href="#dfn-callback-context">callback context</a>.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note37"><span>Note</span></div>
          <div class="">
            <p>As with <a href="#idl-interface">callback interface types</a>, the <a class="dfnref" href="#dfn-callback-context">callback context</a> is used to hold a reference to the
              <a class="dfnref external" href="http://www.w3.org/TR/html/webappapis.html#incumbent-settings-object">incumbent script</a> [
              <cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>] at the time an ECMAScript <span class="estype">Object</span> value is converted to an IDL callback function type value. See
              <a href="#es-callback-function">section </a><a href="#es-callback-function">4.2.23 </a> .</p>
          </div>
        </div>
        <p>
          There is no way to represent a constant <a class="dfnref" href="#dfn-callback-function">callback function</a> value in IDL.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of a callback function type is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the callback function.
        </p>
      </section>

      <section id="idl-nullable-type" typeof="bibo:Chapter" resource="#idl-nullable-type" property="bibo:hasPart">
        <h4 id="h-idl-nullable-type" resource="#h-idl-nullable-type"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.23 </span>Nullable types — <var>T</var>?</span></h4>

        <p>
          A <dfn id="dfn-nullable-type" data-dfn-type="dfn">nullable type</dfn> is an IDL type constructed from an existing type (called the <dfn id="dfn-inner-type" data-dfn-type="dfn">inner type</dfn>), which just allows the additional value <span class="idlvalue">null</span> to be a member of its set of values. <a class="dfnref" href="#dfn-nullable-type">Nullable types</a> are represented in IDL by placing a <span class="char">U+003F QUESTION MARK ("?")</span> character after an existing type. The inner type <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be <a class="idltype" href="#idl-any">any</a>, another nullable type, or a <a class="dfnref" href="#dfn-union-type">union type</a> that itself has <a class="dfnref" href="#dfn-includes-a-nullable-type">includes a nullable type</a> or has a dictionary type as one of its
          <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a>.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note38"><span>Note</span></div>
          <div class="">
            <p>Although dictionary types can in general be nullable, they cannot when used as the type of an operation argument or a dictionary member.</p>
          </div>
        </div>
        <p>
          Nullable type constant values in IDL are represented in the same way that constant values of their <a class="dfnref" href="#dfn-inner-type">inner type</a> would be represented, or with the <code>null</code> token.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of a nullable type is the concatenation of the type name of the inner type <var>T</var> and the string “OrNull”.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            For example, a type that allows the values <span class="idlvalue">true</span>,
            <span class="idlvalue">false</span> and <span class="idlvalue">null</span> is written as <span class="idltype">boolean?</span>:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface MyConstants {
  <span class="hljs-keyword">const</span> boolean? ARE_WE_THERE_YET = <span class="hljs-literal">false</span>;
};</code></pre></div>
          </div>
          <p>
            The following <a class="dfnref" href="#dfn-interface">interface</a> has two
            <a class="dfnref" href="#dfn-attribute">attributes</a>: one whose value can be a <a class="idltype" href="#idl-DOMString">DOMString</a> or the <span class="idlvalue">null</span> value, and another whose value can be a reference to a <span class="idltype">Node</span> object or the <span class="idlvalue">null</span> value:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Node {
  readonly attribute DOMString? namespaceURI;
  readonly attribute Node? parentNode;
  <span class="comment"><span class="hljs-comment">// ...</span></span>
};</code></pre></div>
          </div>
        </div>
      </section>

      <section id="idl-sequence" typeof="bibo:Chapter" resource="#idl-sequence" property="bibo:hasPart">
        <h4 id="h-idl-sequence" resource="#h-idl-sequence"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.24 </span>Sequences — sequence&lt;<var>T</var>&gt;</span></h4>

        <p>
          The <a class="idltype" href="#idl-sequence">sequence&lt;<var>T</var>&gt;</a> type is a parameterized type whose values are (possibly zero-length) sequences of values of type <var>T</var>.
        </p>
        <p>
          Sequences are always passed by value. In language bindings where a sequence is represented by an object of some kind, passing a sequence to a <a class="dfnref" href="#dfn-platform-object">platform object</a> will not result in a reference to the sequence being kept by that object. Similarly, any sequence returned from a platform object will be a copy and modifications made to it will not be visible to the platform object.
        </p>
        <p>
          There is no way to represent a constant sequence value in IDL.
        </p>
        <p>
          Sequences <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used as the type of an <a class="dfnref" href="#dfn-attribute">attribute</a> or
          <a class="dfnref" href="#dfn-constant">constant</a>.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note39"><span>Note</span></div>
          <div class="">
            <p>
              This restriction exists so that it is clear to specification writers and API users that <a href="#idl-sequence">sequences</a> are copied rather than having references to them passed around. Instead of a writable <a class="dfnref" href="#dfn-attribute">attribute</a> of a sequence type, it is suggested that a pair of <a class="dfnref" href="#dfn-operation">operations</a> to get and set the sequence is used.
            </p>
          </div>
        </div>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of a sequence type is the concatenation of the type name for <var>T</var> and the string “Sequence”.
        </p>
      </section>

      <section id="idl-promise" typeof="bibo:Chapter" resource="#idl-promise" property="bibo:hasPart">
        <h4 id="h-idl-promise" resource="#h-idl-promise"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.25 </span>Promise types — Promise&lt;<var>T</var>&gt;</span></h4>

        <p>
          A <dfn id="dfn-promise-type" data-dfn-type="dfn">promise type</dfn> is a parameterized type whose values are references to objects that “is used as a place holder for the eventual results of a deferred (and possibly asynchronous) computation result of an asynchronous operation” [<cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>]. See <a href="https://tc39.github.io/ecma262/#sec-promise-objects">section 25.4</a> of the ECMAScript specification for details on the semantics of promise objects.
        </p>
        <p>
          There is no way to represent a promise value in IDL.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of a promise type is the concatenation of the type name for <var>T</var> and the string “Promise”.
        </p>
      </section>

      <section id="idl-union" typeof="bibo:Chapter" resource="#idl-union" property="bibo:hasPart">
        <h4 id="h-idl-union" resource="#h-idl-union"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.26 </span>Union types</span></h4>

        <p>
          A <dfn id="dfn-union-type" data-dfn-type="dfn">union type</dfn> is a type whose set of values is the union of those in two or more other types. Union types (matching
          <a class="sym" href="#prod-UnionType">UnionType</a>) are written as a series of types separated by the <code>or</code> keyword with a set of surrounding parentheses. The types which comprise the union type are known as the union’s <dfn id="dfn-union-member-type" data-dfn-type="dfn">member types</dfn>.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note40"><span>Note</span></div>
          <div class="">
            <p>
              For example, you might write <code>(Node or DOMString)</code> or <code>(double or sequence&lt;double&gt;)</code>. When applying a
              <code>?</code> suffix to a
              <a class="dfnref" href="#dfn-union-type">union type</a> as a whole, it is placed after the closing parenthesis, as in <code>(Node or DOMString)?</code>.
            </p>
            <p>
              Note that the <a class="dfnref" href="#dfn-union-member-type">member types</a> of a union type do not descend into nested union types. So for
              <code>(double or (sequence&lt;long&gt; or Event) or (Node or DOMString)?)</code> the member types are <code>double</code>, <code>(sequence&lt;long&gt; or Event)</code> and
              <code>(Node or DOMString)?</code>.
            </p>
          </div>
        </div>
        <p>
          Like the <a class="idltype" href="#idl-any">any</a> type, values of union types have a <a class="dfnref" href="#dfn-specific-type">specific type</a>, which is the particular <a class="dfnref" href="#dfn-union-member-type">member type</a> that matches the value.
        </p>
        <p>
          The <dfn id="dfn-flattened-union-member-types" data-dfn-type="dfn">flattened member types</dfn> of a <a class="dfnref" href="#dfn-union-type">union type</a> is a set of types determined as follows:
        </p>
        <ol class="algorithm">
          <li>Let <var>T</var> be the <a class="dfnref" href="#dfn-union-type">union type</a>.</li>
          <li>Initialize <var>S</var> to ∅.</li>
          <li>For each <a class="dfnref" href="#dfn-union-member-type">member type</a> <var>U</var> of <var>T</var>:
            <ol>
              <li>If <var>U</var> is a <a class="dfnref" href="#dfn-nullable-type">nullable type</a>, then set <var>U</var> to be the <a class="dfnref" href="#dfn-inner-type">inner type</a> of <var>U</var>.</li>
              <li>If <var>U</var> is a <a class="dfnref" href="#dfn-union-type">union type</a>, then add to <var>S</var> the <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a> of <var>U</var>.</li>
              <li>Otherwise, <var>U</var> is not a <a class="dfnref" href="#dfn-union-type">union type</a>. Add <var>U</var> to <var>S</var>.</li>
            </ol>
          </li>
          <li>Return <var>S</var>.</li>
        </ol>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note41"><span>Note</span></div>
          <div class="">
            <p>
              For example, the <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a> of the <a class="dfnref" href="#dfn-union-type">union type</a>
              <code>(Node or (sequence&lt;long&gt; or Event) or (XMLHttpRequest or DOMString)? or sequence&lt;(sequence&lt;double&gt; or NodeList)&gt;)</code> are the six types <code>Node</code>, <code>sequence&lt;long&gt;</code>, <code>Event</code>,
              <code>XMLHttpRequest</code>, <code>DOMString</code> and
              <code>sequence&lt;(sequence&lt;double&gt; or NodeList)&gt;</code>.
            </p>
          </div>
        </div>
        <p>
          The <dfn id="dfn-number-of-nullable-member-types" data-dfn-type="dfn">number of nullable member types</dfn> of a <a class="dfnref" href="#dfn-union-type">union type</a> is an integer determined as follows:
        </p>
        <ol class="algorithm">
          <li>Let <var>T</var> be the <a class="dfnref" href="#dfn-union-type">union type</a>.</li>
          <li>Initialize <var>n</var> to 0.</li>
          <li>For each <a class="dfnref" href="#dfn-union-member-type">member type</a> <var>U</var> of <var>T</var>:
            <ol>
              <li>If <var>U</var> is a <a class="dfnref" href="#dfn-nullable-type">nullable type</a>, then:
                <ol>
                  <li>Set <var>n</var> to <var>n</var> + 1.</li>
                  <li>Set <var>U</var> to be the <a class="dfnref" href="#dfn-inner-type">inner type</a> of <var>U</var>.</li>
                </ol>
              </li>
              <li>If <var>U</var> is a <a class="dfnref" href="#dfn-union-type">union type</a>, then:
                <ol>
                  <li>Let <var>m</var> be the <a class="dfnref" href="#dfn-number-of-nullable-member-types">number
                          of nullable member types</a> of <var>U</var>.</li>
                  <li>Set <var>n</var> to <var>n</var> + <var>m</var>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Return <var>n</var>.</li>
        </ol>
        <p>
          The <a class="idltype" href="#idl-any">any</a> type <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used as a <a class="dfnref" href="#dfn-union-member-type">union member type</a>.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-number-of-nullable-member-types">number of nullable member types</a> of a <a class="dfnref" href="#dfn-union-type">union type</a> <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be 0 or 1, and if it is 1 then the union type <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> also not have a <a class="dfnref" href="#idl-dictionary">dictionary type</a> in its
          <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a>.
        </p>
        <p>
          A type <dfn id="dfn-includes-a-nullable-type" data-dfn-type="dfn">includes a nullable type</dfn> if:
        </p>
        <ul>
          <li>the type is a <a class="dfnref" href="#dfn-nullable-type">nullable type</a>, or</li>
          <li>the type is a <a class="dfnref" href="#dfn-union-type">union type</a> and its
            <a class="dfnref" href="#dfn-number-of-nullable-member-types">number of nullable member types</a> is 1.</li>
        </ul>
        <p>
          Each pair of <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a> in a <a class="dfnref" href="#dfn-union-type">union type</a>, <var>T</var> and <var>U</var>,
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be <a class="dfnref" href="#dfn-distinguishable">distinguishable</a>.
        </p>
        <p>
          <a class="dfnref" href="#dfn-union-type">Union type</a> constant values in IDL are represented in the same way that constant values of their
          <a class="dfnref" href="#dfn-union-member-type">member types</a> would be represented.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of a union type is formed by taking the type names of each member type, in order, and joining them with the string “Or”.
        </p>
        <table class="grammar">
          <tbody>
            <tr>
              <td><span class="prod-number">[75]</span></td>
              <td><a class="sym" href="#prod-UnionType">UnionType</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"(" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> "or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> ")"</span></td>
            </tr>
            <tr>
              <td><span class="prod-number">[76]</span></td>
              <td><a class="sym" href="#prod-UnionMemberType">UnionMemberType</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-NonAnyType">NonAnyType</a> <br>&nbsp;|
             <a class="sym" href="#prod-UnionType">UnionType</a> <a class="sym" href="#prod-Null">Null</a></span></td>
            </tr>
            <tr>
              <td><span class="prod-number">[77]</span></td>
              <td><a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines">"or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> <br>&nbsp;|
             ε</span></td>
            </tr>
            <tr>
              <td><span class="prod-number">[78]</span></td>
              <td><a class="sym" href="#prod-NonAnyType">NonAnyType</a></td>
              <td class="prod-mid">→</td>
              <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-PromiseType">PromiseType</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "ByteString" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "DOMString" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "USVString" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "sequence" "&lt;" <a class="sym" href="#prod-Type">Type</a> "&gt;" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "object" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "Error" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "DOMException" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-BufferRelatedType">BufferRelatedType</a> <a class="sym" href="#prod-Null">Null</a> </span></td>
            </tr>
          </tbody>
        </table>
      </section>



      <section id="idl-Error" typeof="bibo:Chapter" resource="#idl-Error" property="bibo:hasPart">
        <h4 id="h-idl-error" resource="#h-idl-error"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.27 </span>Error</span></h4>

        <p>The <a class="idltype" href="#idl-Error">Error</a> type corresponds to the set of all possible non-null references to exception objects, including
          <a class="dfnref" href="#dfn-simple-exception">simple exceptions</a> and <a class="dfnref" href="#dfn-DOMException">DOMExceptions</a>.</p>
        <p>
          There is no way to represent a constant <a class="idltype" href="#idl-Error">Error</a> value in IDL.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-Error">Error</a> type is “Error”.
        </p>
      </section>

      <section id="idl-DOMException" typeof="bibo:Chapter" resource="#idl-DOMException" property="bibo:hasPart">
        <h4 id="h-idl-domexception" resource="#h-idl-domexception"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.28 </span>DOMException</span></h4>

        <p>The <a class="idltype" href="#idl-DOMException">DOMException</a> type corresponds to the set of all possible non-null references to objects representing <a class="dfnref" href="#dfn-DOMException">DOMExceptions</a>.</p>
        <p>
          There is no way to represent a constant <a class="idltype" href="#idl-DOMException">DOMException</a> value in IDL.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of the
          <a class="idltype" href="#idl-DOMException">DOMException</a> type is “DOMException”.
        </p>
      </section>

      <section id="idl-buffer-source-types" typeof="bibo:Chapter" resource="#idl-buffer-source-types" property="bibo:hasPart">
        <h4 id="h-idl-buffer-source-types" resource="#h-idl-buffer-source-types"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.10.29 </span>Buffer source types</span></h4>

        <p>
          There are a number of types that correspond to sets of all possible non-null references to objects that represent a buffer of data or a view on to a buffer of data. The table below lists these types and the kind of buffer or view they represent.
        </p>
        <table class="vert">
          <tbody>
            <tr>
              <th>Type</th>
              <th>Kind of buffer</th>
            </tr>
            <tr>
              <td><span id="idl-ArrayBuffer" class="idltype">ArrayBuffer</span></td>
              <td>An object that holds a pointer (which may be null) to a buffer of a fixed number of bytes</td>
            </tr>
            <tr>
              <td><span id="idl-DataView" class="idltype">DataView</span></td>
              <td>A view on to an <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> that allows typed access to integers and floating point values stored at arbitrary offsets into the buffer</td>
            </tr>
            <tr>
              <td>
                <span id="idl-Int8Array" class="idltype">Int8Array</span>,<br>
                <span id="idl-Int16Array" class="idltype">Int16Array</span>,<br>
                <span id="idl-Int32Array" class="idltype">Int32Array</span></td>
              <td>A view on to an <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> that exposes it as an array of two’s complement signed integers of the given size in bits</td>
            </tr>
            <tr>
              <td>
                <span id="idl-Uint8Array" class="idltype">Uint8Array</span>,<br>
                <span id="idl-Uint16Array" class="idltype">Uint16Array</span>,<br>
                <span id="idl-Uint32Array" class="idltype">Uint32Array</span></td>
              <td>A view on to an <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> that exposes it as an array of unsigned integers of the given size in bits</td>
            </tr>
            <tr>
              <td><span id="idl-Uint8ClampedArray" class="idltype">Uint8ClampedArray</span></td>
              <td>A view on to an <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> that exposes it as an array of unsigned 8 bit integers with clamped conversions</td>
            </tr>
            <tr>
              <td>
                <span id="idl-Float32Array" class="idltype">Float32Array</span>,<br>
                <span id="idl-Float64Array" class="idltype">Float64Array</span></td>
              <td>A view on to an <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> that exposes it as an array of IEEE 754 floating point numbers of the given size in bits</td>
            </tr>
          </tbody>
        </table>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note42"><span>Note</span></div>
          <div class="">
            <p>These types all correspond to classes defined in ECMAScript.</p>
          </div>
        </div>
        <p>
          To <dfn id="dfn-detach" data-dfn-type="dfn">detach</dfn> an <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> is to set its buffer pointer to <span class="idlvalue">null</span>.
        </p>
        <p>
          There is no way to represent a constant value of any of these types in IDL.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-type-name">type name</a> of all of these types is the name of the type itself.
        </p>
        <p>
          At the specification prose level, IDL <a class="dfnref" href="#dfn-buffer-source-type">buffer source types</a> are simply references to objects. To inspect or manipulate the bytes inside the buffer, specification prose <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> first either
          <dfn id="dfn-get-buffer-source-reference" data-dfn-type="dfn">get a reference to the bytes held by the buffer source</dfn> or <dfn id="dfn-get-buffer-source-copy" data-dfn-type="dfn">get a copy of the bytes held by the buffer source</dfn>. With a reference to the buffer source’s bytes, specification prose can get or set individual byte values using that reference.
        </p>
        <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>
              Extreme care must be taken when writing specification text that gets a reference to the bytes held by a buffer source, as the underyling data can easily be changed by the script author or other APIs at unpredictable times. If you are using a buffer source type as an operation argument to obtain a chunk of binary data that will not be modified, it is strongly recommended to get a copy of the buffer source’s bytes at the beginning of the prose defining the operation.
            </p>
            <p>
              Requiring prose to explicitly get a reference to or copy of the bytes is intended to help specification reviewers look for problematic uses of these buffer source types.
            </p>
          </div>
        </div>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note43"><span>Note</span></div>
          <div class="">
            <p>
              When designing APIs that take a buffer, it is recommended to use the
              <span class="idltype">BufferSource</span> typedef rather than <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> or any of the view types.
            </p>
            <p>
              When designing APIs that create and return a buffer, it is recommended to use the <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> type rather than
              <a class="idltype" href="#idl-Uint8Array">Uint8Array</a>.
            </p>
          </div>
        </div>
        <p>
          Attempting to <a class="dfnref" href="#dfn-get-buffer-source-reference">get a reference to</a> or
          <a class="dfnref" href="#dfn-get-buffer-source-copy">get a copy of the bytes held by a buffer source</a> when the <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> has been <a class="dfnref" href="#dfn-detach">detached</a> will fail in a language binding-specific manner.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note44"><span>Note</span></div>
          <div class="">
            <p>See <a href="#es-buffer-source-types">section </a><a href="#es-buffer-source-types">4.2.30 </a> below for how interacting with buffer source types works in the ECMAScript language binding.</p>
          </div>
        </div>

      </section>


    </section>

    <section id="idl-extended-attributes" typeof="bibo:Chapter" resource="#idl-extended-attributes" property="bibo:hasPart">
      <h3 id="h-idl-extended-attributes" resource="#h-idl-extended-attributes"><span property="xhv:role" resource="xhv:heading"><span class="secno">3.11 </span>Extended attributes</span></h3>

      <p>
        An <dfn id="dfn-extended-attribute" data-dfn-type="dfn">extended attribute</dfn> is an annotation that can appear on
        <!--a class='dfnref' href='#dfn-definition'-->definitions
        <!--/a-->,
        <a class="dfnref" href="#dfn-interface-member">interface members</a>,
        <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a>, and <a class="dfnref" href="#dfn-operation">operation</a> arguments, and is used to control how language bindings will handle those constructs. Extended attributes are specified with an
        <a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a>, which is a square bracket enclosed, comma separated list of
        <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a>s.
      </p>
      <p>
        The <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> grammar symbol matches nearly any sequence of tokens, however the
        <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> defined in this document only accept a more restricted syntax. Any extended attribute encountered in an
        <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> is
        <!--JAVA
            matched against the following five grammar symbols to determine
            -->
        matched against the following six grammar symbols to determine which form (or forms) it is in:
      </p>
      <table class="vert">
        <tbody>
          <tr>
            <th>Grammar symbol</th>
            <th>Form</th>
            <th>Example</th>
          </tr>
          <tr>
            <td>
              <a class="sym" href="#prod-ExtendedAttributeNoArgs">ExtendedAttributeNoArgs</a>
            </td>
            <td>
              <dfn id="dfn-xattr-no-arguments" data-dfn-type="dfn">takes no arguments</dfn>
            </td>
            <td>
              <code>[Replaceable]</code>
            </td>
          </tr>
          <tr>
            <td>
              <a class="sym" href="#prod-ExtendedAttributeArgList">ExtendedAttributeArgList</a>
            </td>
            <td>
              <dfn id="dfn-xattr-argument-list" data-dfn-type="dfn">takes an argument list</dfn>
            </td>
            <td>
              <code>[Constructor(double x, double y)]</code>
            </td>
          </tr>
          <tr>
            <td>
              <a class="sym" href="#prod-ExtendedAttributeNamedArgList">ExtendedAttributeNamedArgList</a>
            </td>
            <td>
              <dfn id="dfn-xattr-named-argument-list" data-dfn-type="dfn">takes a named argument list</dfn>
            </td>
            <td>
              <code>[NamedConstructor=Image(DOMString src)]</code>
            </td>
          </tr>
          <tr>
            <td>
              <a class="sym" href="#prod-ExtendedAttributeIdent">ExtendedAttributeIdent</a>
            </td>
            <td>
              <dfn id="dfn-xattr-identifier" data-dfn-type="dfn">takes an identifier</dfn>
            </td>
            <td>
              <code>[PutForwards=name]</code>
            </td>
          </tr>
          <tr>
            <td>
              <a class="sym" href="#prod-ExtendedAttributeIdentList">ExtendedAttributeIdentList</a>
            </td>
            <td>
              <dfn id="dfn-xattr-identifier-list" data-dfn-type="dfn">takes an identifier list</dfn>
            </td>
            <td>
              <code>[Exposed=(Window,Worker)]</code>
            </td>
          </tr>
          <!--JAVA
            <tr>
              <td>
                <a class='sym' href='#prod-ExtendedAttributeDottedName'>ExtendedAttributeDottedName</a>
              </td>
              <td>
                <dfn id='dfn-xattr-dotted-name'>takes a dotted name</dfn>
              </td>
              <td>
                <code>[JavaPackage=org.example]</code>
              </td>
            </tr>
            -->
        </tbody>
      </table>

      <p>
        This specification defines a number of extended attributes that are applicable to the ECMAScript language binding, which are described in
        <a href="#es-extended-attributes">section </a><a href="#es-extended-attributes">4.3 </a>. Each extended attribute definition will state which of the above six forms are allowed.
        <!--JAVA Although <a class='sym' href='#prod-ExtendedAttributeIdent'>ExtendedAttributeIdent</a>
            and <a class='sym' href='#prod-ExtendedAttributeDottedName'>ExtendedAttributeDottedName</a>
            are ambiguous, no extended attribute defined in this document takes both of those forms.-->
      </p>

      <table class="grammar">
        <tbody>
          <tr id="proddef-ExtendedAttributeList">
            <td><span class="prod-number">[65]</span></td>
            <td><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"[" <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <a class="sym" href="#prod-ExtendedAttributes">ExtendedAttributes</a> "]" <br>&nbsp;|
             ε</span></td>
          </tr>
          <tr id="proddef-ExtendedAttributes">
            <td><span class="prod-number">[66]</span></td>
            <td><a class="sym" href="#prod-ExtendedAttributes">ExtendedAttributes</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <a class="sym" href="#prod-ExtendedAttributes">ExtendedAttributes</a> <br>&nbsp;|
             ε</span></td>
          </tr>
          <tr id="proddef-ExtendedAttribute">
            <td><span class="prod-number">[67]</span></td>
            <td><a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">
              "(" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> ")" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br>&nbsp;|
             "[" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "]" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br>&nbsp;|
             "{" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "}" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br>&nbsp;|
             <a class="sym" href="#prod-Other">Other</a> <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
          </span></td>
          </tr>
          <tr id="proddef-ExtendedAttributeRest">
            <td><span class="prod-number">[68]</span></td>
            <td><a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <br>&nbsp;|
             ε</span></td>
          </tr>
          <tr id="proddef-ExtendedAttributeInner">
            <td><span class="prod-number">[69]</span></td>
            <td><a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">
              "(" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> ")" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br>&nbsp;|
             "[" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "]" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br>&nbsp;|
             "{" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "}" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br>&nbsp;|
             <a class="sym" href="#prod-OtherOrComma">OtherOrComma</a> <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br>&nbsp;|
             ε
          </span></td>
          </tr>
          <tr id="proddef-Other">
            <td><span class="prod-number">[70]</span></td>
            <td><a class="sym" href="#prod-Other">Other</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">
              <a class="sym" href="#prod-integer">integer</a> <br>&nbsp;|
             <a class="sym" href="#prod-float">float</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <br>&nbsp;|
             <a class="sym" href="#prod-string">string</a>  <br>&nbsp;|
             <a class="sym" href="#prod-other">other</a>
            <br>&nbsp;|
             "-" <br>&nbsp;|
             "-Infinity" <br>&nbsp;|
             "." <br>&nbsp;|
             "..." <br>&nbsp;|
             ":" <br>&nbsp;|
             ";" <br>&nbsp;|
             "&lt;" <br>&nbsp;|
             "=" <br>&nbsp;|
             "&gt;" <br>&nbsp;|
             "?"
            <br>&nbsp;|
             "ByteString" <br>&nbsp;|
             "DOMString" <br>&nbsp;|
             "Infinity" <br>&nbsp;|
             "NaN" <br>&nbsp;|
             "USVString" <br>&nbsp;|
             "any" <br>&nbsp;|
             "boolean" <br>&nbsp;|
             "byte" <br>&nbsp;|
             "double" <br>&nbsp;|
             "false" <br>&nbsp;|
             "float"
            <br>&nbsp;|
             "long" <br>&nbsp;|
             "null" <br>&nbsp;|
             "object" <br>&nbsp;|
             "octet" <br>&nbsp;|
             "or" <br>&nbsp;|
             "optional" <br>&nbsp;|
             "sequence"
            <br>&nbsp;|
             "short" <br>&nbsp;|
             "true" <br>&nbsp;|
             "unsigned" <br>&nbsp;|
             "void"
            <br>&nbsp;|
             <a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a>
            <br>&nbsp;|
             <a class="sym" href="#prod-BufferRelatedType">BufferRelatedType</a>
          </span></td>
          </tr>
          <tr id="proddef-OtherOrComma">
            <td><span class="prod-number">[72]</span></td>
            <td><a class="sym" href="#prod-OtherOrComma">OtherOrComma</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Other">Other</a> <br>&nbsp;|
             ","</span></td>
          </tr>
          <tr id="proddef-IdentifierList">
            <td><span class="prod-number">[90]</span></td>
            <td><a class="sym" href="#prod-IdentifierList">IdentifierList</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a></span></td>
          </tr>
          <tr>
            <td><span class="prod-number">[91]</span></td>
            <td><a class="sym" href="#prod-Identifiers">Identifiers</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br>&nbsp;|
             ε</span></td>
          </tr>
          <tr id="proddef-ExtendedAttributeNoArgs">
            <td><span class="prod-number">[92]</span></td>
            <td><a class="sym" href="#prod-ExtendedAttributeNoArgs">ExtendedAttributeNoArgs</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a></span></td>
          </tr>
          <tr id="proddef-ExtendedAttributeArgList">
            <td><span class="prod-number">[93]</span></td>
            <td><a class="sym" href="#prod-ExtendedAttributeArgList">ExtendedAttributeArgList</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")"</span></td>
          </tr>
          <tr id="proddef-ExtendedAttributeIdent">
            <td><span class="prod-number">[94]</span></td>
            <td><a class="sym" href="#prod-ExtendedAttributeIdent">ExtendedAttributeIdent</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-identifier">identifier</a></span></td>
          </tr>
          <tr id="proddef-ExtendedAttributeIdentList">
            <td><span class="prod-number">[95]</span></td>
            <td><a class="sym" href="#prod-ExtendedAttributeIdentList">ExtendedAttributeIdentList</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" "(" <a class="sym" href="#prod-IdentifierList">IdentifierList</a> ")"</span></td>
          </tr>
          <tr id="proddef-ExtendedAttributeNamedArgList">
            <td><span class="prod-number">[96]</span></td>
            <td><a class="sym" href="#prod-ExtendedAttributeNamedArgList">ExtendedAttributeNamedArgList</a></td>
            <td class="prod-mid">→</td>
            <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-identifier">identifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")"</span></td>
          </tr>
        </tbody>
      </table>

    </section>
  </section>

  <section id="ecmascript-binding" typeof="bibo:Chapter" resource="#ecmascript-binding" property="bibo:hasPart">
    <!--OddPage-->
    <h2 id="h-ecmascript-binding" resource="#h-ecmascript-binding"><span property="xhv:role" resource="xhv:heading"><span class="secno">4. </span>ECMAScript binding</span></h2>

    <p>
      This section describes how definitions written with the IDL defined in
      <a href="#idl">section </a><a href="#idl">3. </a> correspond to particular constructs in ECMAScript, as defined by the <cite>ECMAScript Language Specification 6th Edition</cite> [
      <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>].
    </p>
    <p>
      Objects defined in this section have internal properties as described in ECMA-262 <a class="external" href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots">sections 9.1</a> and
      <a class="external" href="https://tc39.github.io/ecma262/#sec-built-in-function-objects-call-thisargument-argumentslist">9.3.1</a> unless otherwise specified, in which case one or more of the following are redefined in accordance with the rules for exotic objects:
      <span class="prop">[[Call]]</span>,
      <span class="prop">[[Set]]</span>,
      <span class="prop">[[DefineOwnProperty]]</span>,
      <span class="prop">[[GetOwnProperty]]</span>,
      <span class="prop">[[Delete]]</span> and
      <span class="prop">[[HasInstance]]</span>.
    </p>
    <p>
      Other specifications <span class="rfc2119"><em class="rfc2119" title="MAY">MAY</em></span> override the definitions of any internal method of a <a class="dfnref" href="#dfn-platform-object">platform object</a> that is an instance of an <a class="dfnref" href="#dfn-interface">interface</a>.
    </p>
    <div class="warning">
      <div class="warning-title marker"><span>Warning</span></div>
      <div class="">
        <p>
          As overriding internal ECMAScript object methods is a low level operation and can result in objects that behave differently from ordinary objects, this facility <span class="rfc2119"><em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em></span> be used unless necessary for security or compatibility. The expectation is that this will be used for <a href="https://github.com/annevk/html-cross-origin-objects/">Location objects
            and possibly WindowProxy objects</a>.
        </p>
      </div>
    </div>
    <p>
      Unless otherwise specified, the <span class="prop">[[Extensible]]</span> internal property of objects defined in this section has the value <span class="esvalue">true</span>.
    </p>
    <p>
      Unless otherwise specified, the <span class="prop">[[Prototype]]</span> internal property of objects defined in this section is the <span class="esvalue">Object</span> prototype object.
    </p>
    <p>
      Some objects described in this section are defined to have a <dfn id="dfn-class-string" data-dfn-type="dfn">class string</dfn>, which is the string to include in the string returned from Object.prototype.toString. If an object has a class string, then the object <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>, at the time it is created, have a property whose name is the <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-symbols">@@toStringTag</a> symbol and whose value is the specified string.
    </p>

    <p>
      If an object is defined to be a <dfn id="dfn-function-object" data-dfn-type="dfn">function object</dfn>, then it has characteristics as follows:
    </p>
    <ul>
      <li>Its <span class="prop">[[Prototype]]</span> internal property is
        <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%FunctionPrototype%</a> ( [
        <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4) unless otherwise specified.</li>
      <li>Its <span class="prop">[[Get]]</span> internal property is set as described in <a class="external" href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver">ECMA-262 section 9.1.8</a>.</li>
      <li>Its <span class="prop">[[Construct]]</span> internal property is set as described in <a class="external" href="https://tc39.github.io/ecma262/#sec-properties-of-the-function-constructor">ECMA-262 section 19.2.2</a>.</li>
      <li>Its <span class="prop">@@hasInstance</span> property is set as described in <a class="external" href="https://tc39.github.io/ecma262/#sec-function.prototype-@@hasinstance">ECMA-262 section 19.2.3.6</a>, unless otherwise specified.</li>
    </ul>

    <p id="ecmascript-abstractop">
      Algorithms in this section use the conventions described in <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">ECMA-262
          section 5.2</a>, such as the use of steps and substeps, the use of mathematical operations, and so on. The
      <a class="external" href="https://tc39.github.io/ecma262/#sec-toboolean">ToBoolean</a>,
      <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>,
      <a class="external" href="https://tc39.github.io/ecma262/#sec-touint16">ToUint16</a>,
      <a class="external" href="https://tc39.github.io/ecma262/#sec-toint32">ToInt32</a>,
      <a class="external" href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a>,
      <a class="external" href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a>,
      <a class="external" href="https://tc39.github.io/ecma262/#sec-toobject">ToObject</a>,
      <a class="external" href="https://tc39.github.io/ecma262/#sec-isaccessordescriptor">IsAccessorDescriptor</a> and
      <a class="external" href="https://tc39.github.io/ecma262/#sec-isdatadescriptor">IsDataDescriptor</a> abstract operations and the
      <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type(<var>x</var>)</a> notation referenced in this section are defined in ECMA-262 sections 6 and 7.
    </p>
    <p id="ecmascript-throw">
      When an algorithm says to “throw a <b><i>Something</i>Error</b>” then this means to construct a new ECMAScript <b><i>Something</i>Error</b> object and to throw it, just as the algorithms in ECMA-262 do.
    </p>
    <p>
      Note that algorithm steps can call in to other algorithms and abstract operations and not explicitly handle exceptions that are thrown from them. When an exception is thrown by an algorithm or abstract operation and it is not explicitly handled by the caller, then it is taken to end the algorithm and propagate out to its caller, and so on.
    </p>
    <div class="example">
      <div class="exampleHeader">Example</div>
      <p>
        Consider the following algorithm:
      </p>
      <ol class="algorithm">
        <li>Let <var>x</var> be the ECMAScript value passed in to this algorithm.</li>
        <li>Let <var>y</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a>(<var>x</var>).</li>
        <li>Return <var>y</var>.</li>
      </ol>
      <p>
        Since <a class="external" href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a> can throw an exception (for example if passed the object
        <code>({ toString: function() { throw 1 } })</code>), and the exception is not handled in the above algorithm, if one is thrown then it causes this algorithm to end and for the exception to propagate out to its caller, if there is one.
      </p>
    </div>

    <section id="es-environment" typeof="bibo:Chapter" resource="#es-environment" property="bibo:hasPart">
      <h3 id="h-es-environment" resource="#h-es-environment"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.1 </span>ECMAScript environment</span></h3>
      <p>
        In an ECMAScript implementation of a given set of
        <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a>, there will exist a number of ECMAScript objects that correspond to definitions in those <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a>. These objects are termed the <dfn id="dfn-initial-object" data-dfn-type="dfn">initial objects</dfn>, and comprise the following:
      </p>
      <ul>
        <li><a class="dfnref" href="#dfn-interface-object">interface objects</a></li>
        <li><a class="dfnref" href="#dfn-named-constructor">named constructors</a></li>
        <li><a class="dfnref" href="#dfn-dictionary-constructor">dictionary constructors</a></li>
        <li><a class="dfnref" href="#dfn-interface-prototype-object">interface prototype objects</a></li>
        <li><a class="dfnref" href="#dfn-named-properties-object">named properties objects</a></li>
        <li><a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype objects</a></li>
        <li><a class="dfnref" href="#dfn-attribute-getter">attribute getters</a></li>
        <li><a class="dfnref" href="#dfn-attribute-setter">attribute setters</a></li>
        <li><a href="#es-operations">the <span class="estype">Function</span> objects that correspond to operations</a></li>
        <li><a href="#es-stringifier">the <span class="estype">Function</span> objects that correspond to stringifiers</a></li>
        <li><a href="#es-serializer">the <span class="estype">Function</span> objects that correspond to serializers</a></li>
        <li><a href="#es-iterators">the <span class="estype">Function</span> objects that correspond to iterators</a></li>
        <li><a class="dfnref" href="#dfn-default-unforgeable-valueOf-function">default unforgeable valueOf functions</a></li>

        <li><a class="dfnref" href="#dfn-DOMException-constructor-object">DOMException constructor objects</a></li>
        <li><a class="dfnref" href="#dfn-DOMException-prototype-object">DOMException prototype objects</a></li>
        <li><a class="dfnref" href="#dfn-named-properties-object">named properties objects</a></li>
      </ul>
      <p>
        Each <a class="external" href="https://tc39.github.io/ecma262/#sec-code-realms">ECMAScript global environment</a> ([<cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>], section 8.2)
        <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have its own unique set of each of the <a class="dfnref" href="#dfn-initial-object">initial objects</a>, created before control enters any ECMAScript execution context associated with the environment, but after the global object for that environment is created. The <span class="prop">[[Prototype]]</span>s of all initial objects in a given global environment <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> come from that same global environment.
      </p>
      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>
          In an HTML user agent, multiple global environments can exist when multiple frames or windows are created. Each frame or window will have its own set of <a class="dfnref" href="#dfn-initial-object">initial objects</a>, which the following HTML document demonstrates:
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">HTML</span></div>
          <div class="blockContent"><pre class="code hljs xml"><code class="html-code"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Different global environments<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">id</span>=<span class="hljs-string">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">var</span> iframe = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"a"</span>);
<span class="hljs-keyword">var</span> w = iframe.contentWindow;              </span><span class="comment"><span class="javascript"><span class="hljs-comment">// The global object in the frame</span></span></span><span class="javascript">

<span class="hljs-built_in">Object</span> == w.Object;                        </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to false, per ECMA-262</span></span></span><span class="javascript">
Node == w.Node;                            </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to false</span></span></span><span class="javascript">
iframe <span class="hljs-keyword">instanceof</span> w.Node;                  </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to false</span></span></span><span class="javascript">
iframe <span class="hljs-keyword">instanceof</span> w.Object;                </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to false</span></span></span><span class="javascript">
iframe.appendChild <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Function</span>;    </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to true</span></span></span><span class="javascript">
iframe.appendChild <span class="hljs-keyword">instanceof</span> w.Function;  </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to false</span></span></span><span class="javascript">
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>
        </div>
      </div>
      <p>
        Unless otherwise specified, each ECMAScript global environment <dfn id="dfn-expose" data-dfn-type="dfn">exposes</dfn> all <a class="dfnref" href="#dfn-interface">interfaces</a> that the implementation supports. If a given ECMAScript global environment does not expose an interface, then the requirements given in
        <a href="#es-interfaces">section </a><a href="#es-interfaces">4.6 </a> are not followed for that interface.
      </p>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note45"><span>Note</span></div>
        <div class="">
          <p>
            This allows, for example, ECMAScript global environments for Web Workers to <a class="dfnref" href="#dfn-expose">expose</a> different sets of supported interfaces from those exposed in environments for Web pages.
          </p>
        </div>
      </div>
    </section>

    <section id="es-type-mapping" typeof="bibo:Chapter" resource="#es-type-mapping" property="bibo:hasPart">
      <h3 id="h-es-type-mapping" resource="#h-es-type-mapping"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2 </span>ECMAScript type mapping</span></h3>

      <p>
        This section describes how types in the IDL map to types in ECMAScript.
      </p>
      <p>
        Each sub-section below describes how values of a given IDL type are represented in ECMAScript. For each IDL type, it is described how ECMAScript values are
        <dfn id="dfn-convert-ecmascript-to-idl-value" data-dfn-type="dfn">converted to an IDL value</dfn> when passed to a <a class="dfnref" href="#dfn-platform-object">platform object</a> expecting that type, and how IDL values of that type are <dfn id="dfn-convert-idl-to-ecmascript-value" data-dfn-type="dfn">converted to ECMAScript values</dfn> when returned from a platform object.
      </p>

      <section id="es-any" typeof="bibo:Chapter" resource="#es-any" property="bibo:hasPart">
        <h4 id="h-es-any" resource="#h-es-any"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.1 </span>any</span></h4>

        <p>
          Since the IDL <a class="idltype" href="#idl-any">any</a> type is the union of all other IDL types, it can correspond to any ECMAScript value type.
        </p>
        <p id="es-to-any">
          How to <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">convert an ECMAScript value</a> to an IDL <a class="idltype" href="#idl-any">any</a> value depends on the type of the ECMAScript value:
        </p>
        <dl class="switch">
          <dt>The <span class="esvalue">undefined</span> value</dt>
          <dd>
            The IDL value is an
            <a class="idltype" href="#idl-object">object</a> reference to a special object that represents the ECMAScript
            <span class="esvalue">undefined</span> value.
          </dd>
          <dt>The <span class="esvalue">null</span> value</dt>
          <dd>
            The IDL value is the <span class="idlvalue">null</span>
            <a class="idltype" href="#idl-object">object?</a> reference.
          </dd>
          <dt>A <span class="estype">Boolean</span> value</dt>
          <dd>
            The IDL value is the
            <a class="idltype" href="#idl-boolean">boolean</a> value that represents the same truth value.
          </dd>
          <dt>A <span class="estype">Number</span> value</dt>
          <dd>
            The IDL value is that which is obtained by following the rules for converting the
            <span class="estype">Number</span> to an IDL
            <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value, as described in <a href="#es-unrestricted-double">section </a><a href="#es-unrestricted-double">4.2.15 </a>, .
          </dd>
          <dt>A <span class="estype">String</span> value</dt>
          <dd>
            The IDL value is that which is obtained by following the rules for converting the
            <span class="estype">String</span> to an IDL
            <a class="idltype" href="#idl-DOMString">DOMString</a> value, as described in <a href="#es-DOMString">section </a><a href="#es-DOMString">4.2.16 </a>, .
          </dd>
          <dt>An <span class="estype">object</span> value</dt>
          <dd>
            The IDL value is an
            <a class="idltype" href="#idl-object">object</a> value that references the same object.
          </dd>
        </dl>
        <p id="any-to-es">
          An IDL <a class="idltype" href="#idl-any">any</a> value is
          <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted to an ECMAScript value</a> as follows. If the value is an <a class="idltype" href="#idl-object">object</a> reference to a special object that represents an ECMAScript <span class="esvalue">undefined</span> value, then it is converted to the ECMAScript
          <span class="esvalue">undefined</span> value. Otherwise, the rules for converting the <a class="dfnref" href="#dfn-specific-type">specific type</a> of the IDL <a class="idltype" href="#idl-any">any</a> value as described in the remainder of this section are performed.
        </p>
      </section>

      <section id="es-void" typeof="bibo:Chapter" resource="#es-void" property="bibo:hasPart">
        <h4 id="h-es-void" resource="#h-es-void"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.2 </span>void</span></h4>

        <p>
          The only place that the <a class="idltype" href="#idl-void">void</a> type may appear in IDL is as the <a class="dfnref" href="#dfn-return-type">return type</a> of an
          <a class="dfnref" href="#dfn-operation">operation</a>. Functions on <a class="dfnref" href="#dfn-platform-object">platform objects</a> that implement an operation whose IDL specifies a
          <a class="idltype" href="#idl-void">void</a> return type <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> return the
          <span class="esvalue">undefined</span> value.
        </p>
        <p>
          ECMAScript functions that implement an operation whose IDL specifies a <a class="idltype" href="#idl-void">void</a> return type
          <span class="rfc2119"><em class="rfc2119" title="MAY">MAY</em></span> return any value, which will be discarded.
        </p>
      </section>

      <section id="es-boolean" typeof="bibo:Chapter" resource="#es-boolean" property="bibo:hasPart">
        <h4 id="h-es-boolean" resource="#h-es-boolean"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.3 </span>boolean</span></h4>

        <p id="es-to-boolean">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-boolean">boolean</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Let <var>x</var> be the result of computing <a class="external" href="https://tc39.github.io/ecma262/#sec-toboolean">ToBoolean</a>(<var>V</var>).</li>
          <li>Return the IDL <a class="idltype" href="#idl-boolean">boolean</a> value that is the one that represents the same truth value as the ECMAScript <span class="estype">Boolean</span> value <var>x</var>.</li>
        </ol>
        <p id="boolean-to-es">
          The IDL <a class="idltype" href="#idl-boolean">boolean</a> value <span class="idlvalue">true</span> is <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted</a> to the ECMAScript <span class="esvalue">true</span> value and the IDL <a class="idltype" href="#idl-boolean">boolean</a> value <span class="idlvalue">false</span> is converted to the ECMAScript
          <span class="esvalue">false</span> value.
        </p>
      </section>

      <section id="es-byte" typeof="bibo:Chapter" resource="#es-byte" property="bibo:hasPart">
        <h4 id="h-es-byte" resource="#h-es-byte"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.4 </span>byte</span></h4>

        <p id="es-to-byte">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-byte">byte</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Initialize <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
              <li>If <var>x</var> &lt; −2<sup>7</sup> or <var>x</var> &gt; 2<sup>7</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-byte">byte</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>Set <var>x</var> to min(max(<var>x</var>, −2<sup>7</sup>), 2<sup>7</sup> − 1).</li>
              <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
              <li>Return the IDL <a class="idltype" href="#idl-byte">byte</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is <span class="esvalue">NaN</span>, +0, −0, +∞, or −∞, then return the IDL <a class="idltype" href="#idl-byte">byte</a> value that represents 0.</li>
          <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
          <li>Set <var>x</var> to <var>x</var> <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a> 2<sup>8</sup>.</li>
          <li>If <var>x</var> ≥ 2<sup>7</sup>, return the IDL <a class="idltype" href="#idl-byte">byte</a> value that represents the same numeric value as <var>x</var>&nbsp;−&nbsp;2<sup>8</sup>. Otherwise, return the IDL <a class="idltype" href="#idl-byte">byte</a> value that represents the same numeric value as <var>x</var>.</li>
        </ol>
        <p id="byte-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-byte">byte</a> value to an ECMAScript value is a <span class="estype">Number</span> that represents the same numeric value as the IDL <a class="idltype" href="#idl-byte">byte</a> value. The <span class="estype">Number</span> value will be an integer in the range [−128,&nbsp;127].
        </p>
      </section>

      <section id="es-octet" typeof="bibo:Chapter" resource="#es-octet" property="bibo:hasPart">
        <h4 id="h-es-octet" resource="#h-es-octet"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.5 </span>octet</span></h4>

        <p id="es-to-octet">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-octet">octet</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Initialize <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
              <li>If <var>x</var> &lt; 0 or <var>x</var> &gt; 2<sup>8</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-octet">octet</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>Set <var>x</var> to min(max(<var>x</var>, 0), 2<sup>8</sup> − 1).</li>
              <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
              <li>Return the IDL <a class="idltype" href="#idl-octet">octet</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is <span class="esvalue">NaN</span>, +0, −0, +∞, or −∞, then return the IDL <a class="idltype" href="#idl-octet">octet</a> value that represents 0.</li>
          <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
          <li>Set <var>x</var> to <var>x</var> <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a> 2<sup>8</sup>.</li>
          <li>Return the IDL <a class="idltype" href="#idl-octet">octet</a> value that represents the same numeric value as <var>x</var>.</li>
        </ol>
        <p id="octet-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-octet">octet</a> value to an ECMAScript value is a <span class="estype">Number</span> that represents the same numeric value as the IDL
          <a class="idltype" href="#idl-octet">octet</a> value. The <span class="estype">Number</span> value will be an integer in the range [0,&nbsp;255].
        </p>
      </section>

      <section id="es-short" typeof="bibo:Chapter" resource="#es-short" property="bibo:hasPart">
        <h4 id="h-es-short" resource="#h-es-short"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.6 </span>short</span></h4>

        <p id="es-to-short">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-short">short</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Initialize <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
              <li>If <var>x</var> &lt; −2<sup>15</sup> or <var>x</var> &gt; 2<sup>15</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-short">short</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>Set <var>x</var> to min(max(<var>x</var>, −2<sup>15</sup>), 2<sup>15</sup> − 1).</li>
              <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
              <li>Return the IDL <a class="idltype" href="#idl-short">short</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is <span class="esvalue">NaN</span>, +0, −0, +∞, or −∞, then return the IDL <a class="idltype" href="#idl-short">short</a> value that represents 0.</li>
          <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
          <li>Set <var>x</var> to <var>x</var> <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a> 2<sup>16</sup>.</li>
          <li>If <var>x</var> ≥ 2<sup>15</sup>, return the IDL <a class="idltype" href="#idl-short">short</a> value that represents the same numeric value as <var>x</var>&nbsp;−&nbsp;2<sup>16</sup>. Otherwise, return the IDL <a class="idltype" href="#idl-short">short</a> value that represents the same numeric value as <var>x</var>.</li>
        </ol>
        <p id="short-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-short">short</a> value to an ECMAScript value is a <span class="estype">Number</span> that represents the same numeric value as the IDL
          <a class="idltype" href="#idl-short">short</a> value. The <span class="estype">Number</span> value will be an integer in the range [−32768,&nbsp;32767].
        </p>
      </section>

      <section id="es-unsigned-short" typeof="bibo:Chapter" resource="#es-unsigned-short" property="bibo:hasPart">
        <h4 id="h-es-unsigned-short" resource="#h-es-unsigned-short"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.7 </span>unsigned short</span></h4>

        <p id="es-to-unsigned-short">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Initialize <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
              <li>If <var>x</var> &lt; 0 or <var>x</var> &gt; 2<sup>16</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>Set <var>x</var> to min(max(<var>x</var>, 0), 2<sup>16</sup> − 1).</li>
              <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
              <li>Return the IDL <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-touint16">ToUint16</a>(<var>x</var>).</li>
          <li>Return the IDL <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value that represents the same numeric value as <var>x</var>.</li>
        </ol>
        <p id="unsigned-short-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value to an ECMAScript value is a <span class="estype">Number</span> that represents the same numeric value as the IDL
          <a class="idltype" href="#idl-unsigned-short">unsigned short</a> value. The <span class="estype">Number</span> value will be an integer in the range [0,&nbsp;65535].
        </p>
      </section>

      <section id="es-long" typeof="bibo:Chapter" resource="#es-long" property="bibo:hasPart">
        <h4 id="h-es-long" resource="#h-es-long"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.8 </span>long</span></h4>

        <p id="es-to-long">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-long">long</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Initialize <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
              <li>If <var>x</var> &lt; −2<sup>31</sup> or <var>x</var> &gt; 2<sup>31</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-long">long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>Set <var>x</var> to min(max(<var>x</var>, −2<sup>31</sup>), 2<sup>31</sup> − 1).</li>
              <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
              <li>Return the IDL <a class="idltype" href="#idl-long">long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-toint32">ToInt32</a>(<var>x</var>).</li>
          <li>Return the IDL <a class="idltype" href="#idl-long">long</a> value that represents the same numeric value as <var>x</var>.</li>
        </ol>
        <p id="long-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-long">long</a> value to an ECMAScript value is a <span class="estype">Number</span> that represents the same numeric value as the IDL
          <a class="idltype" href="#idl-long">long</a> value. The <span class="estype">Number</span> value will be an integer in the range [−2147483648,&nbsp;2147483647].
        </p>
      </section>

      <section id="es-unsigned-long" typeof="bibo:Chapter" resource="#es-unsigned-long" property="bibo:hasPart">
        <h4 id="h-es-unsigned-long" resource="#h-es-unsigned-long"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.9 </span>unsigned long</span></h4>

        <p id="es-to-unsigned-long">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Initialize <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
              <li>If <var>x</var> &lt; 0 or <var>x</var> &gt; 2<sup>32</sup> − 1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>Set <var>x</var> to min(max(<var>x</var>, 0), 2<sup>32</sup> − 1).</li>
              <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
              <li>Return the IDL <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a>(<var>x</var>).</li>
          <li>Return the IDL <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value that represents the same numeric value as <var>x</var>.</li>
        </ol>
        <p id="unsigned-long-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value to an ECMAScript value is a <span class="estype">Number</span> that represents the same numeric value as the IDL
          <a class="idltype" href="#idl-unsigned-long">unsigned long</a> value. The <span class="estype">Number</span> value will be an integer in the range [0,&nbsp;4294967295].
        </p>
      </section>

      <section id="es-long-long" typeof="bibo:Chapter" resource="#es-long-long" property="bibo:hasPart">
        <h4 id="h-es-long-long" resource="#h-es-long-long"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.10 </span>long long</span></h4>

        <p id="es-to-long-long">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-long-long">long long</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Initialize <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
              <li>If <var>x</var> &lt; −2<sup>53</sup>&nbsp;+&nbsp;1 or <var>x</var> &gt; 2<sup>53</sup>&nbsp;−&nbsp;1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-long-long">long long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>Set <var>x</var> to min(max(<var>x</var>, −2<sup>53</sup>&nbsp;+&nbsp;1), 2<sup>53</sup>&nbsp;−&nbsp;1).</li>
              <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
              <li>Return the IDL <a class="idltype" href="#idl-long-long">long long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is <span class="esvalue">NaN</span>, +0, −0, +∞, or −∞, then return the IDL <a class="idltype" href="#idl-long-long">long long</a> value that represents 0.</li>
          <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
          <li>Set <var>x</var> to <var>x</var> <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a> 2<sup>64</sup>.</li>
          <li>If <var>x</var> is greater than or equal to 2<sup>63</sup>, then set <var>x</var> to <var>x</var>&nbsp;−&nbsp;2<sup>64</sup>.</li>
          <li>Return the IDL <a class="idltype" href="#idl-long-long">long long</a> value that represents the same numeric value as <var>x</var>.</li>
        </ol>
        <p id="long-long-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-long-long">long long</a> value to an ECMAScript value is a <span class="estype">Number</span> value that represents the closest numeric value to the <a class="idltype" href="#idl-long-long">long long</a>, choosing the numeric value with an <em>even significand</em> if there are two <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type">equally close values</a> ( [
          <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.6). If the <a class="idltype" href="#idl-long-long">long long</a> is in the range [−2
          <sup>53</sup>&nbsp;+&nbsp;1,&nbsp;2<sup>53</sup>&nbsp;−&nbsp;1], then the <span class="estype">Number</span> will be able to represent exactly the same value as the
          <a class="idltype" href="#idl-long-long">long long</a>.
        </p>
      </section>

      <section id="es-unsigned-long-long" typeof="bibo:Chapter" resource="#es-unsigned-long-long" property="bibo:hasPart">
        <h4 id="h-es-unsigned-long-long" resource="#h-es-unsigned-long-long"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.11 </span>unsigned long long</span></h4>

        <p id="es-to-unsigned-long-long">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Initialize <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>If <var>x</var> is <span class="esvalue">NaN</span>, +∞, or −∞, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
              <li>If <var>x</var> &lt; 0 or <var>x</var> &gt; 2<sup>53</sup>&nbsp;−&nbsp;1, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Return the IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is not <span class="esvalue">NaN</span> and the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li><var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
              <li><var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute, or</li>
              <li><var>V</var> is being used as the value of a <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> annotated with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute,</li>
            </ul>
            then:
            <ol>
              <li>Set <var>x</var> to min(max(<var>x</var>, 0), 2<sup>53</sup>&nbsp;−&nbsp;1).</li>
              <li>Round <var>x</var> to the nearest integer, choosing the even integer if it lies halfway between two, and choosing +0 rather than −0.</li>
              <li>Return the IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value that represents the same numeric value as <var>x</var>.</li>
            </ol>
          </li>
          <li>If <var>x</var> is <span class="esvalue">NaN</span>, +0, −0, +∞, or −∞, then return the IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value that represents 0.</li>
          <li>Set <var>x</var> to <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">sign</a>(<var>x</var>) * <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">floor</a>(<a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">abs</a>(<var>x</var>)).</li>
          <li>Set <var>x</var> to <var>x</var> <a class="external" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions">modulo</a> 2<sup>64</sup>.</li>
          <li>Return the IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value that represents the same numeric value as <var>x</var>.</li>
        </ol>
        <p id="unsigned-long-long-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> value to an ECMAScript value is a <span class="estype">Number</span> value that represents the closest numeric value to the <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a>, choosing the numeric value with an <em>even significand</em> if there are two <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type">equally close values</a> ( [
          <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.6). If the <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a> is less than or equal to 2<sup>53</sup>&nbsp;−&nbsp;1, then the <span class="estype">Number</span> will be able to represent exactly the same value as the
          <a class="idltype" href="#idl-unsigned-long-long">unsigned long long</a>.
        </p>
      </section>

      <section id="es-float" typeof="bibo:Chapter" resource="#es-float" property="bibo:hasPart">
        <h4 id="h-es-float" resource="#h-es-float"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.12 </span>float</span></h4>

        <p id="es-to-float">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-float">float</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Let <var>x</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If <var>x</var> is <span class="esvalue">NaN</span>, <span class="esvalue">+Infinity</span> or
            <span class="esvalue">−Infinity</span>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>
            Let <var>S</var> be the set of finite IEEE 754 single-precision floating point values except −0, but with two special values added: 2<sup>128</sup> and −2
            <sup>128</sup>.
          </li>
          <li>
            Let <var>y</var> be the number in <var>S</var> that is closest to <var>x</var>, selecting the number with an
            <em>even significand</em> if there are two <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type">equally close values</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.6). (The two special values 2<sup>128</sup> and −2<sup>128</sup> are considered to have even significands for this purpose.)
          </li>
          <li>
            If <var>y</var> is 2<sup>128</sup> or −2<sup>128</sup>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
          </li>
          <li>
            If <var>y</var> is +0 and <var>x</var> is negative, return −0.
          </li>
          <li>
            Return <var>y</var>.
          </li>
        </ol>
        <p id="float-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-float">float</a> value to an ECMAScript value is the <span class="estype">Number</span> value that represents the same numeric value as the IDL
          <a class="idltype" href="#idl-float">float</a> value.
        </p>
      </section>

      <section id="es-unrestricted-float" typeof="bibo:Chapter" resource="#es-unrestricted-float" property="bibo:hasPart">
        <h4 id="h-es-unrestricted-float" resource="#h-es-unrestricted-float"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.13 </span>unrestricted float</span></h4>

        <p id="es-to-unrestricted-float">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Let <var>x</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If <var>x</var> is <span class="esvalue">NaN</span>, then return the IDL <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> value that represents the IEEE 754 NaN value with the bit pattern 0x7fc00000 [<cite><a class="bibref" href="#bib-IEEE-754">IEEE-754</a></cite>].</li>
          <li>
            Let <var>S</var> be the set of finite IEEE 754 single-precision floating point values except −0, but with two special values added: 2<sup>128</sup> and −2
            <sup>128</sup>.
          </li>
          <li>
            Let <var>y</var> be the number in <var>S</var> that is closest to <var>x</var>, selecting the number with an
            <em>even significand</em> if there are two <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-number-type">equally close values</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.6). (The two special values 2<sup>128</sup> and −2<sup>128</sup> are considered to have even significands for this purpose.)
          </li>
          <li>
            If <var>y</var> is 2<sup>128</sup>, return +∞.
          </li>
          <li>
            If <var>y</var> is −2<sup>128</sup>, return −∞.
          </li>
          <li>
            If <var>y</var> is +0 and <var>x</var> is negative, return −0.
          </li>
          <li>
            Return <var>y</var>.
          </li>
        </ol>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note46"><span>Note</span></div>
          <div class="">
            <p>
              Since there is only a single ECMAScript <span class="esvalue">NaN</span> value, it must be canonicalized to a particular single precision IEEE 754 NaN value. The NaN value mentioned above is chosen simply because it is the quiet NaN with the lowest value when its bit pattern is interpreted as an unsigned 32 bit integer.
            </p>
          </div>
        </div>
        <p id="unrestricted-float-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> value to an ECMAScript value is a <span class="estype">Number</span>:
        </p>
        <ul>
          <li>
            If the IDL <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> value is a NaN, then the <span class="estype">Number</span> value is <span class="esvalue">NaN</span>.
          </li>
          <li>
            Otherwise, the <span class="estype">Number</span> value is the one that represents the same numeric value as the IDL
            <a class="idltype" href="#idl-unrestricted-float">unrestricted float</a> value.
          </li>
        </ul>
      </section>

      <section id="es-double" typeof="bibo:Chapter" resource="#es-double" property="bibo:hasPart">
        <h4 id="h-es-double" resource="#h-es-double"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.14 </span>double</span></h4>

        <p id="es-to-double">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-double">double</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Let <var>x</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If <var>x</var> is <span class="esvalue">NaN</span>, <span class="esvalue">+Infinity</span> or
            <span class="esvalue">−Infinity</span>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>
            Return the IDL <a class="idltype" href="#idl-double">double</a> value that has the same numeric value as <var>x</var>.
          </li>
        </ol>
        <p id="double-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-double">double</a> value to an ECMAScript value is the <span class="estype">Number</span> value that represents the same numeric value as the IDL <a class="idltype" href="#idl-double">double</a> value.
        </p>
      </section>

      <section id="es-unrestricted-double" typeof="bibo:Chapter" resource="#es-unrestricted-double" property="bibo:hasPart">
        <h4 id="h-es-unrestricted-double" resource="#h-es-unrestricted-double"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.15 </span>unrestricted double</span></h4>

        <p id="es-to-unrestricted-double">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Let <var>x</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>(<var>V</var>).</li>
          <li>If <var>x</var> is <span class="esvalue">NaN</span>, then return the IDL <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value that represents the IEEE 754 NaN value with the bit pattern 0x7ff8000000000000 [<cite><a class="bibref" href="#bib-IEEE-754">IEEE-754</a></cite>].</li>
          <li>
            Return the IDL <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value that has the same numeric value as <var>x</var>.
          </li>
        </ol>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note47"><span>Note</span></div>
          <div class="">
            <p>
              Since there is only a single ECMAScript <span class="esvalue">NaN</span> value, it must be canonicalized to a particular double precision IEEE 754 NaN value. The NaN value mentioned above is chosen simply because it is the quiet NaN with the lowest value when its bit pattern is interpreted as an unsigned 64 bit integer.
            </p>
          </div>
        </div>
        <p id="unrestricted-double-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value to an ECMAScript value is a <span class="estype">Number</span>:
        </p>
        <ul>
          <li>
            If the IDL <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value is a NaN, then the <span class="estype">Number</span> value is <span class="esvalue">NaN</span>.
          </li>
          <li>
            Otherwise, the <span class="estype">Number</span> value is the one that represents the same numeric value as the IDL
            <a class="idltype" href="#idl-unrestricted-double">unrestricted double</a> value.
          </li>
        </ul>
      </section>

      <section id="es-DOMString" typeof="bibo:Chapter" resource="#es-DOMString" property="bibo:hasPart">
        <h4 id="h-es-domstring" resource="#h-es-domstring"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.16 </span>DOMString</span></h4>

        <p id="es-to-DOMString">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-DOMString">DOMString</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>If <var>V</var> is <span class="esvalue">null</span> and the conversion to an IDL value is being performed due to any of the following:
            <ul>
              <li>
                <var>V</var> is being passed as an <a class="dfnref" href="#dfn-operation">operation</a> argument that is annotated with <a class="xattr" href="#TreatNullAs">[TreatNullAs=EmptyString]</a>,
              </li>
              <li>
                <var>V</var> is being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> annotated with <a class="xattr" href="#TreatNullAs">[TreatNullAs=EmptyString]</a>,
              </li>
              <li>
                <var>V</var> is being returned from a <a class="dfnref" href="#dfn-user-object">user object</a> implementation of an operation annotated with <a class="xattr" href="#TreatNullAs">[TreatNullAs=EmptyString]</a>, or
              </li>
              <li>
                <var>V</var> is being returned from a <a class="dfnref" href="#dfn-user-object">user object</a> implementation of an attribute annotated with <a class="xattr" href="#TreatNullAs">[TreatNullAs=EmptyString]</a>,
              </li>
            </ul>
            then return the <a class="idltype" href="#idl-DOMString">DOMString</a> value that represents the empty string.
          </li>
          <li>Let <var>x</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a>(<var>V</var>).</li>
          <li>Return the IDL <a class="idltype" href="#idl-DOMString">DOMString</a> value that represents the same sequence of code units as the one the ECMAScript <span class="estype">String</span> value <var>x</var> represents.</li>
        </ol>
        <p id="DOMString-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-DOMString">DOMString</a> value to an ECMAScript value is the <span class="estype">String</span> value that represents the same sequence of <a class="dfnref" href="#dfn-code-unit">code units</a> that the IDL <a class="idltype" href="#idl-DOMString">DOMString</a> represents.
        </p>
      </section>

      <section id="es-ByteString" typeof="bibo:Chapter" resource="#es-ByteString" property="bibo:hasPart">
        <h4 id="h-es-bytestring" resource="#h-es-bytestring"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.17 </span>ByteString</span></h4>

        <p id="es-to-ByteString">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-ByteString">ByteString</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Let <var>x</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a>(<var>V</var>).</li>
          <li>If the value of any <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-language-types-string-type">element</a> of <var>x</var> is greater than 255, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>Return an IDL <a class="idltype" href="#idl-ByteString">ByteString</a> value whose length is the length of <var>x</var>, and where the value of each element is the value of the corresponding element of <var>x</var>.</li>
        </ol>
        <p id="ByteString-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-ByteString">ByteString</a> value to an ECMAScript value is a <span class="estype">String</span> value whose length is the length of the <a class="idltype" href="#idl-ByteString">ByteString</a>, and the value of each element of which is the value of the corresponding element of the <a class="idltype" href="#idl-ByteString">ByteString</a>.
        </p>
      </section>

      <section id="es-USVString" typeof="bibo:Chapter" resource="#es-USVString" property="bibo:hasPart">
        <h4 id="h-es-usvstring" resource="#h-es-usvstring"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.18 </span>USVString</span></h4>

        <p id="es-to-USVString">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-USVString">USVString</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Let <var>string</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>V</var> to a <a class="idltype" href="#idl-DOMString">DOMString</a>.</li>
          <li>Return an IDL <a class="idltype" href="#idl-USVString">USVString</a> value that is the result of <a class="dfnref" href="#dfn-obtain-unicode">converting <var>string</var> to a sequence of Unicode scalar values</a>.</li>
        </ol>
        <p id="USVString-to-es">
          An IDL <a class="idltype" href="#idl-USVString">USVString</a> value is
          <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted</a> to an ECMAScript value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Let <var>scalarValues</var> be the sequence of <a class="external" href="http://www.unicode.org/glossary/#unicode_scalar_value">Unicode scalar values</a> the <a class="idltype" href="#idl-USVString">USVString</a> represents.</li>
          <li>Let <var>string</var> be the sequence of <a class="dfnref" href="#dfn-code-unit">code units</a> that results from encoding <var>scalarValues</var> in UTF-16.</li>
          <li>Return the <span class="estype">String</span> value that represents the same sequence of <a class="dfnref" href="#dfn-code-unit">code units</a> as <var>string</var>.</li>
        </ol>
      </section>

      <section id="es-object" typeof="bibo:Chapter" resource="#es-object" property="bibo:hasPart">
        <h4 id="h-es-object" resource="#h-es-object"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.19 </span>object</span></h4>

        <p>
          IDL <a class="idltype" href="#idl-object">object</a> values are represented by ECMAScript <span class="estype">Object</span> values.
        </p>
        <p id="es-to-object">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-object">object</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>V</var>) is not Object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>Return the IDL <a class="idltype" href="#idl-object">object</a> value that is a reference to the same object as <var>V</var>.</li>
        </ol>
        <p id="object-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-object">object</a> value to an ECMAScript value is the <span class="estype">Object</span> value that represents a reference to the same object that the IDL <a class="idltype" href="#idl-object">object</a> represents.
        </p>
      </section>

      <section id="es-interface" typeof="bibo:Chapter" resource="#es-interface" property="bibo:hasPart">
        <h4 id="h-es-interface" resource="#h-es-interface"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.20 </span>Interface types</span></h4>

        <p>
          IDL <a href="#idl-interface">interface type</a> values are represented by ECMAScript <span class="estype">Object</span> or
          <span class="estype">Function</span> values.
        </p>
        <p id="es-to-interface">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a href="#idl-interface">interface type</a> value by running the following algorithm (where <var>I</var> is the <a class="dfnref" href="#dfn-interface">interface</a>):
        </p>
        <ol class="algorithm">
          <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>V</var>) is not Object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>If <var>V</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements <var>I</var>, then return the IDL <a href="#idl-interface">interface type</a> value that represents a reference to that platform object.</li>
          <li>If <var>V</var> is a <a class="dfnref" href="#dfn-user-object">user object</a> that is considered to implement <var>I</var> according to the rules in
            <a href="#es-user-objects">section </a><a href="#es-user-objects">4.9 </a>, then return the IDL <a href="#idl-interface">interface type</a> value that represents a reference to that user object, with the <a class="dfnref external" href="http://www.w3.org/TR/html/webappapis.html#incumbent-settings-object">incumbent script</a> as the <a class="dfnref" href="#dfn-callback-context">callback context</a>. [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]</li>
          <li><a href="#ecmascript-throw" class="dfnref external">Throw a <span class="esvalue">TypeError</span></a>.</li>
        </ol>
        <p id="interface-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a href="#idl-interface">interface type</a> value to an ECMAScript value is the <span class="estype">Object</span> value that represents a reference to the same object that the IDL
          <a href="#idl-interface">interface type</a> value represents.
        </p>
      </section>

      <section id="es-dictionary" typeof="bibo:Chapter" resource="#es-dictionary" property="bibo:hasPart">
        <h4 id="h-es-dictionary" resource="#h-es-dictionary"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.21 </span>Dictionary types</span></h4>

        <p>
          IDL <a href="#idl-dictionary">dictionary type</a> values are represented by ECMAScript <span class="estype">Object</span> values. Properties on the object (or its prototype chain) correspond to <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a>.
        </p>
        <p id="es-to-dictionary">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a href="#idl-dictionary">dictionary type</a> value by running the following algorithm (where <var>D</var> is the <a class="dfnref" href="#dfn-dictionary">dictionary</a>):
        </p>
        <ol class="algorithm">
          <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>V</var>) is not Undefined, Null or Object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>If <var>V</var> object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>Let <var>dict</var> be an empty dictionary value of type <var>D</var>; every <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> is initially considered to be <a class="dfnref" href="#dfn-present">not present</a>.</li>
          <li>Let <var>dictionaries</var> be a list consisting of <var>D</var> and all of <var>D</var>’s <a class="dfnref" href="#dfn-inherited-dictionaries">inherited dictionaries</a>, in order from least to most derived.</li>
          <li>For each dictionary <var>dictionary</var> in <var>dictionaries</var>, in order:
            <ol>
              <li>For each dictionary member <var>member</var> declared on <var>dictionary</var>, in lexicographical order:
                <ol>
                  <li>Let <var>key</var> be the <a class="dfnref" href="#dfn-identifier">identifier</a> of <var>member</var>.</li>
                  <li>Let <var>value</var> be an ECMAScript value, depending on <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>V</var>):
                    <dl class="switch">
                      <dt>Undefined</dt>
                      <dt>Null</dt>
                      <dd><var>value</var> is <span class="esvalue">undefined</span>.</dd>
                      <dt>anything else</dt>
                      <dd><var>value</var> is the result of calling the <span class="prop">[[Get]]</span> internal method on <var>V</var> with property name <var>key</var>.</dd>
                    </dl>
                  </li>
                  <li>If <var>value</var> is not <span class="esvalue">undefined</span>, then:
                    <ol>
                      <li>Let <var>idlValue</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>value</var> to an IDL value whose type is the type <var>member</var> is declared to be of.</li>
                      <li>Set the dictionary member on <var>dict</var> with key name <var>key</var> to the value <var>idlValue</var>. This dictionary member is considered to be <a class="dfnref" href="#dfn-present">present</a>.</li>
                    </ol>
                  </li>
                  <li>Otherwise, if <var>value</var> is <span class="esvalue">undefined</span> but the <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> has a <a class="dfnref" href="#dfn-dictionary-member-default-value">default value</a>, then:
                    <ol>
                      <li>Let <var>idlValue</var> be the dictionary member’s default value.</li>
                      <li>Set the dictionary member on <var>dict</var> with key name <var>key</var> to the value <var>idlValue</var>. This dictionary member is considered to be <a class="dfnref" href="#dfn-present">present</a>.</li>
                    </ol>
                  </li>
                  <li>
                    Otherwise, if <var>value</var> is
                    <span class="esvalue">undefined</span> and the
                    <a class="dfnref" href="#dfn-dictionary-member">dictionary
                        member</a> is a
                    <a class="dfnref" href="#required-dictionary-member">required dictionary
                        member</a>, then throw a <span class="estype">TypeError</span>.
                  </li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Return <var>dict</var>.</li>
        </ol>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note48"><span>Note</span></div>
          <div class="">
            <p>
              The order that <a class="dfnref" href="#dfn-dictionary-member">dictionary members</a> are looked up on the ECMAScript object are not necessarily the same as the object’s property enumeration order.
            </p>
          </div>
        </div>
        <p id="dictionary-to-es">
          An IDL dictionary value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted</a> to an ECMAScript <span class="estype">Object</span> value by running the following algorithm (where <var>D</var> is the <a class="dfnref" href="#dfn-dictionary">dictionary</a>):
        </p>
        <ol class="algorithm">
          <li>Let <var>O</var> be a new <span class="estype">Object</span> value created as if by the expression <code>({})</code>.</li>
          <li>Let <var>dictionaries</var> be a list consisting of <var>D</var> and all of <var>D</var>’s <a class="dfnref" href="#dfn-inherited-dictionaries">inherited dictionaries</a>, in order from least to most derived.</li>
          <li>For each dictionary <var>dictionary</var> in <var>dictionaries</var>, in order:
            <ol>
              <li>For each dictionary member <var>member</var> declared on <var>dictionary</var>, in lexicographical order:
                <ol>
                  <li>Let <var>key</var> be the <a class="dfnref" href="#dfn-identifier">identifier</a> of <var>member</var>.</li>
                  <li>If the dictionary member named <var>key</var> is <a class="dfnref" href="#dfn-present">present</a> in <var>V</var>, then:
                    <ol>
                      <li>Let <var>idlValue</var> be the value of <var>member</var> on <var>V</var>.</li>
                      <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>idlValue</var> to an ECMAScript value.</li>
                      <li>Call the <span class="prop">[[DefineOwnProperty]]</span> internal method on <var>O</var> with property name <var>key</var>, Property Descriptor <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>, [[Value]]: <var>value</var>&nbsp;}</span>
                        and Boolean flag <span class="esvalue">false</span>.</li>
                    </ol>
                  </li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Return <var>O</var>.</li>
        </ol>
      </section>

      <section id="es-enumeration" typeof="bibo:Chapter" resource="#es-enumeration" property="bibo:hasPart">
        <h4 id="h-es-enumeration" resource="#h-es-enumeration"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.22 </span>Enumeration types</span></h4>

        <p>
          IDL <a href="#idl-enumeration">enumeration types</a> are represented by ECMAScript <span class="estype">String</span> values.
        </p>
        <p id="es-to-enumeration">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="dfnref" href="#dfn-enumeration">enumeration type</a> value as follows (where <var>E</var> is the <a class="dfnref" href="#dfn-enumeration">enumeration</a>):
        </p>
        <ol class="algorithm">
          <li>Let <var>S</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a>(<var>V</var>).</li>
          <li>If <var>S</var> is not one of <var>E</var>’s <a class="dfnref" href="#dfn-enumeration-value">enumeration values</a>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>Return the enumeration value of type <var>E</var> that is equal to <var>S</var>.</li>
        </ol>
        <p id="enumeration-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="dfnref" href="#dfn-enumeration">enumeration type</a> value to an ECMAScript value is the <span class="estype">String</span> value that represents the same sequence of <a class="dfnref" href="#dfn-code-unit">code units</a> as the <a class="dfnref" href="#dfn-enumeration-value">enumeration value</a>.
        </p>
      </section>

      <section id="es-callback-function" typeof="bibo:Chapter" resource="#es-callback-function" property="bibo:hasPart">
        <h4 id="h-es-callback-function" resource="#h-es-callback-function"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.23 </span>Callback function types</span></h4>

        <p>
          IDL <a href="#idl-callback-function">callback function types</a> are represented by ECMAScript <span class="estype">Function</span> objects, except in the <a class="xattr" href="#TreatNonObjectAsNull">[TreatNonObjectAsNull]</a> case, when they can be any object.
        </p>
        <p id="es-to-callback-function">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a href="#idl-callback-function">callback function type</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>If the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a>(<var>V</var>) is <span class="esvalue">false</span> and the conversion to an IDL value is not being performed due to <var>V</var> being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> whose type is a <a class="dfnref" href="#dfn-nullable-type">nullable</a>
            <a class="dfnref" href="#dfn-callback-function">callback function</a> that is annotated with <a class="xattr" href="#TreatNonObjectAsNull">[TreatNonObjectAsNull]</a>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="esvalue">TypeError</span></a>.</li>
          <li>Return the IDL <a href="#idl-callback-function">callback
              function type</a> value that represents a reference to the same object that <var>V</var> represents, with the <a class="dfnref external" href="http://www.w3.org/TR/html/webappapis.html#incumbent-settings-object">incumbent script</a> as the <a class="dfnref" href="#dfn-callback-context">callback context</a>. [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>].</li>
        </ol>
        <p id="callback-function-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a href="#idl-callback-function">callback function type</a> value to an ECMAScript value is a reference to the same object that the IDL <a href="#idl-callback-function">callback function type</a> value represents.
        </p>
      </section>

      <section id="es-nullable-type" typeof="bibo:Chapter" resource="#es-nullable-type" property="bibo:hasPart">
        <h4 id="h-es-nullable-type" resource="#h-es-nullable-type"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.24 </span>Nullable types — <var>T</var>?</span></h4>

        <p>
          IDL <a class="dfnref" href="#dfn-nullable-type">nullable type</a> values are represented by values of either the ECMAScript type corresponding to the <a class="dfnref" href="#dfn-inner-type">inner IDL type</a>, or the ECMAScript <span class="esvalue">null</span> value.
        </p>
        <p id="es-to-nullable">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="dfnref" href="#dfn-nullable-type">nullable type</a> <span class="idltype"><var>T</var>?</span> value (where <var>T</var> is the <a class="dfnref" href="#dfn-inner-type">inner type</a>) as follows:
        </p>
        <ol class="algorithm">
          <li>
            If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>V</var>) is not Object, and the conversion to an IDL value is being performed due to <var>V</var> being assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> whose type is a <a class="dfnref" href="#dfn-nullable-type">nullable</a>
            <a class="dfnref" href="#dfn-callback-function">callback function</a> that is annotated with <a class="xattr" href="#TreatNonObjectAsNull">[TreatNonObjectAsNull]</a>, then return the IDL
            <a class="dfnref" href="#dfn-nullable-type">nullable type</a> <span class="idltype"><var>T</var>?</span> value <span class="idlvalue">null</span>.
          </li>
          <li>
            Otherwise, if <var>V</var> is <span class="esvalue">null</span> or <span class="esvalue">undefined</span>, then return the IDL
            <a class="dfnref" href="#dfn-nullable-type">nullable type</a> <span class="idltype"><var>T</var>?</span> value <span class="idlvalue">null</span>.
          </li>
          <li>
            Otherwise, return the result of
            <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>V</var> using the rules for the <a class="dfnref" href="#dfn-inner-type">inner IDL type</a> <span class="idltype"><var>T</var></span>.
          </li>
        </ol>
        <p id="nullable-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="dfnref" href="#dfn-nullable-type">nullable type</a> value to an ECMAScript value is:
        </p>
        <ul>
          <li>
            If the IDL <a class="dfnref" href="#dfn-nullable-type">nullable type</a> <span class="idltype"><var>T</var>?</span> value is <span class="idlvalue">null</span>, then the ECMAScript value is <span class="esvalue">null</span>.
          </li>
          <li>
            Otherwise, the ECMAScript value is the result of
            <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> the IDL <a class="dfnref" href="#dfn-nullable-type">nullable type</a> value to the <a class="dfnref" href="#dfn-inner-type">inner IDL type</a> <span class="idltype"><var>T</var></span>.
          </li>
        </ul>
      </section>

      <section id="es-sequence" typeof="bibo:Chapter" resource="#es-sequence" property="bibo:hasPart">
        <h4 id="h-es-sequence" resource="#h-es-sequence"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.25 </span>Sequences — sequence&lt;<var>T</var>&gt;</span></h4>

        <p>
          IDL <a class="idltype" href="#idl-sequence">sequence&lt;<var>T</var>&gt;</a> values are represented by ECMAScript <span class="estype">Array</span> values.
        </p>
        <p id="es-to-sequence">
          An ECMAScript value <var>V</var> is <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-sequence">sequence&lt;<var>T</var>&gt;</a> value as follows:
        </p>
        <ol class="algorithm">
          <li>
            If <var>V</var> is not an object,
            <a href="#ecmascript-throw" class="dfnref external">throw a
                <span class="estype">TypeError</span></a>.
          </li>
          <li>
            If <var>V</var> object,
            <a href="#ecmascript-throw" class="dfnref external">throw a
                <span class="estype">TypeError</span></a>.
          </li>
          <li>
            Let <var>method</var> be the result of
            <a class="external" href="http://www.ecma-international.org/ecma-262/6.0/#sec-getmethod">GetMethod</a>(<var>V</var>, <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-symbols">@@iterator</a>).
          </li>
          <li>
            <a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>method</var>).
          </li>
          <li>
            If <var>method</var> is <span class="esvalue">undefined</span>,
            <a href="#ecmascript-throw" class="dfnref external">throw a
                <span class="estype">TypeError</span></a>.
          </li>
          <li>
            Return the result of
            <a class="dfnref" href="#create-sequence-from-iterable">creating a sequence
                of type <span class="idltype">sequence&lt;<var>T</var>&gt;</span>
                from <var>V</var> and <var>method</var></a>.
          </li>
        </ol>

        <p id="sequence-to-es">
          An IDL sequence value <var>S</var> of type
          <a class="idltype" href="#idl-sequence">sequence&lt;<var>T</var>&gt;</a> is
          <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted</a> to an ECMAScript <span class="estype">Array</span> object as follows:
        </p>
        <ol class="algorithm">
          <li>Let <var>n</var> be the length of <var>S</var>.</li>
          <li>Let <var>A</var> be a new <span class="estype">Array</span> object created as if by the expression <code>[]</code>.</li>
          <li>Initialize <var>i</var> to be 0.</li>
          <li>While <var>i</var>&nbsp;&lt;&nbsp;<var>n</var>:
            <ol>
              <li>Let <var>V</var> be the value in <var>S</var> at index <var>i</var>.</li>
              <li>Let <var>E</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                <var>V</var> to an ECMAScript value.</li>
              <li>Let <var>P</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a>(<var>i</var>).</li>
              <li>Call the <span class="prop">[[DefineOwnProperty]]</span> internal method on <var>A</var> with property name <var>P</var>, Property Descriptor <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>, [[Value]]: <var>E</var>&nbsp;}</span>
                and Boolean flag <span class="esvalue">false</span>.</li>
              <li>Set <var>i</var> to <var>i</var>&nbsp;+&nbsp;1.</li>
            </ol>
          </li>
          <li>Return <var>A</var>.</li>
        </ol>

        <section id="create-sequence-from-iterable" typeof="bibo:Chapter" resource="#create-sequence-from-iterable" property="bibo:hasPart">
          <h5 id="h-create-sequence-from-iterable" resource="#h-create-sequence-from-iterable"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.25.1 </span>Creating a sequence from an iterable</span></h5>
          <p>
            To create an IDL value of type <a class="idltype" href="#idl-sequence">sequence&lt;<var>T</var>&gt;</a> given an iterable <var>iterable</var> and an iterator getter
            <var>method</var>, perform the following steps:
          </p>
          <ol class="algorithm">
            <li>
              Let <var>iter</var> be
              <a class="external" href="https://tc39.github.io/ecma262/#sec-getiterator">GetIterator</a>(<var>iterable</var>, <var>method</var>).
            </li>
            <li>
              <a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>iter</var>).
            </li>
            <li>Initialize <var>i</var> to be 0.</li>
            <li>Repeat
              <ol>
                <li>
                  Let <var>next</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-iteratorstep">IteratorStep</a>(<var>iter</var>).
                </li>
                <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>next</var>).</li>
                <li>
                  If <var>next</var> is <span class="esvalue">false</span>, then return an IDL sequence value of type
                  <a class="idltype" href="#idl-sequence">sequence&lt;<var>T</var>&gt;</a> of length <var>i</var>, where the value of the element at index <var>j</var> is
                  <var>S</var><sub><var>j</var></sub>.
                </li>
                <li>
                  Let <var>nextItem</var> be
                  <a class="external" href="https://tc39.github.io/ecma262/#sec-iteratorvalue">IteratorValue</a>(<var>next</var>).
                </li>
                <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>nextItem</var>).</li>
                <li>
                  Initialize <var>S</var><sub><var>i</var></sub> to the result of
                  <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                  <var>nextItem</var> to an IDL value of type <var>T</var>.
                </li>
                <li>Set <var>i</var> to <var>i</var>&nbsp;+&nbsp;1.</li>
              </ol>
            </li>
          </ol>
        </section>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-interface">interface</a> defines an <a class="dfnref" href="#dfn-attribute">attribute</a> of a sequence type as well as an <a class="dfnref" href="#dfn-operation">operation</a> with an argument of a sequence type.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xml"><code class="idl-code">interface Canvas {

  sequence<span class="hljs-tag">&lt;<span class="hljs-name">DOMString</span>&gt;</span> getSupportedImageCodecs();

  void drawPolygon(sequence<span class="hljs-tag">&lt;<span class="hljs-name">double</span>&gt;</span> coordinates);
  sequence<span class="hljs-tag">&lt;<span class="hljs-name">double</span>&gt;</span> getLastDrawnPolygon();

  <span class="comment">// ...</span>
};</code></pre></div>
          </div>
          <p>
            In an ECMAScript implementation of this interface, an <span class="estype">Array</span> object with elements of type <span class="estype">String</span> is used to represent a <span class="idltype">sequence&lt;DOMString&gt;</span>, while an
            <span class="estype">Array</span> with elements of type <span class="estype">Number</span> represents a <span class="idltype">sequence&lt;double&gt;</span>. The
            <span class="estype">Array</span> objects are effectively passed by value; every time the <code>getSupportedImageCodecs()</code> function is called a new <span class="estype">Array</span> is returned, and whenever an <span class="estype">Array</span> is passed to <code>drawPolygon</code> no reference will be kept after the call completes.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code">
<span class="comment"><span class="hljs-comment">// Obtain an instance of Canvas.  Assume that getSupportedImageCodecs()</span></span>
<span class="comment"><span class="hljs-comment">// returns a sequence with two DOMString values: "image/png" and "image/svg+xml".</span></span>
<span class="hljs-keyword">var</span> canvas = getCanvas();

<span class="comment"><span class="hljs-comment">// An Array object of length 2.</span></span>
<span class="hljs-keyword">var</span> supportedImageCodecs = canvas.getSupportedImageCodecs();

<span class="comment"><span class="hljs-comment">// Evaluates to "image/png".</span></span>
supportedImageCodecs[<span class="hljs-number">0</span>];

<span class="comment"><span class="hljs-comment">// Each time canvas.getSupportedImageCodecs() is called, it returns a</span></span>
<span class="comment"><span class="hljs-comment">// new Array object.  Thus modifying the returned Array will not</span></span>
<span class="comment"><span class="hljs-comment">// affect the value returned from a subsequent call to the function.</span></span>
supportedImageCodecs[<span class="hljs-number">0</span>] = <span class="hljs-string">"image/jpeg"</span>;

<span class="comment"><span class="hljs-comment">// Evaluates to "image/png".</span></span>
canvas.getSupportedImageCodecs()[<span class="hljs-number">0</span>];

<span class="comment"><span class="hljs-comment">// This evaluates to false, since a new Array object is returned each call.</span></span>
canvas.getSupportedImageCodecs() == canvas.getSupportedImageCodecs();


<span class="comment"><span class="hljs-comment">// An Array of Numbers...</span></span>
<span class="hljs-keyword">var</span> a = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">0</span>, <span class="hljs-number">50</span>, <span class="hljs-number">62.5</span>];

<span class="comment"><span class="hljs-comment">// ...can be passed to a platform object expecting a sequence&lt;double&gt;.</span></span>
canvas.drawPolygon(a);

<span class="comment"><span class="hljs-comment">// Each element will be converted to a double by first calling ToNumber().</span></span>
<span class="comment"><span class="hljs-comment">// So the following call is equivalent to the previous one, except that</span></span>
<span class="comment"><span class="hljs-comment">// "hi" will be alerted before drawPolygon() returns.</span></span>
a = [<span class="hljs-literal">false</span>, <span class="hljs-string">''</span>,
     { valueOf: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ alert(<span class="hljs-string">'hi'</span>); <span class="hljs-keyword">return</span> <span class="hljs-number">100</span>; } }, <span class="hljs-number">0</span>,
     <span class="hljs-string">'50'</span>, <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>(<span class="hljs-number">62.5</span>)];
canvas.drawPolygon(s);

<span class="comment"><span class="hljs-comment">// Modifying an Array that was passed to drawPolygon() is guaranteed not to</span></span>
<span class="comment"><span class="hljs-comment">// have an effect on the Canvas, since the Array is effectively passed by value.</span></span>
a[<span class="hljs-number">4</span>] = <span class="hljs-number">20</span>;
<span class="hljs-keyword">var</span> b = canvas.getLastDrawnPolygon();
alert(b[<span class="hljs-number">4</span>]);    <span class="comment"><span class="hljs-comment">// This would alert "50".</span></span></code></pre></div>
          </div>
        </div>
        <!--
            <div class='ignore'>
              <p>
                IDL <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a> values are represented by
                ECMAScript <span class='estype'>Object</span> values with special properties.
              </p>
              <p>
                Values <a class='dfnref' href='#dfn-pass-to-host-object'>passed to a host object</a> expecting a
                <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a>
                <span class='rfc2119'>MUST</span> be objects with a <span class='prop'>length</span> property whose
                value, after being converted to a <span class='estype'>Number</span> by the
                ToUint32 operator, is a non-negative integer that specifies the number
                of elements in the sequence.  This number <span class='rfc2119'>MUST</span> also be equal
                to the result of passing the original <span class='prop'>length</span> property value to the <a>ToNumber</a> algorithm.
                Assigning to the <span class='prop'>length</span> property a non-negative
                integer <span class='estype'>Number</span> <span class='rfc2119'>MUST</span> change the length of the sequence
                to be the given number.  If the sequence is lengthened, new elements <span class='rfc2119'>MUST</span> be given
                the value that the <span class='esvalue'>undefined</span> value is converted to
                when handling it according to the rules in this section for the type <var>T</var>.
                If the sequence is shortened, the values beyond the new length of the sequence
                are lost.
                The object representing the sequence <span class='rfc2119'>MUST</span> return the element in
                the sequence at position <var>n</var> when its
                <span class='prop'>[[\Get]]</span> internal method is invoked with
                <var>n</var> as its argument.
              </p>
              <p>
                Note that an ECMAScript <span class='estype'>Array</span>
                is an object that matches this description.  Implementations are free,
                however, to use a host object to implement the sequence in the
                interests of efficiency.
              </p>
              <p>
                When the host object
                gets an element of the sequence using the <span class='prop'>[[\Get]]</span> method,
                the returned value <span class='rfc2119'>MUST</span> first be handled according to
                the rules in this section for the type <var>T</var>.
              </p>
              <p>
                If a host object expecting a
                <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a>
                is passed a value which is not an object that conforms to the above rules
                (for example, it does not have a <span class='prop'>length</span> property), then
                a <span class='estype'>TypeError</span> exception <span class='rfc2119'>MUST</span> be thrown.
              </p>
              <p>
                While sequences are passed by reference (being objects), it is
                of course up to the interface designer whether, for example,
                after assigning a sequence to a property on a host object
                that same seqence object is returned when getting the property.
                The behavior of storing sequences in the host object in this
                manner should be made clear in prose describing the interface.
              </p>
              <!- p>
                Sequences are passed by reference.  If a reference to a sequence
                passed to a host object is kept (whether internally or as the
                value of an attribute), and the passed sequence is not an ECMAScript
                <span class='estype'>Array</span> object, the kept reference must
                be a newly created ECMAScript <span class='estype'>Array</span> object
                whose contents is the elements of the sequence.
              </p>
              <div class='ednote'>
                <p>Change the above para according to comments in
                  <a href='http://www.w3.org/mid/op.tumn9hy664w2qv@annevk-t60.oslo.opera.com'>this thread</a>.</p>
              </div ->
              <div class='ednote'>
                <p>
                  Should there be a way to declare a sequence whose length cannot be changed
                  from script?
                </p>
              </div>
            </div>
            -->
      </section>

      <section id="es-promise" typeof="bibo:Chapter" resource="#es-promise" property="bibo:hasPart">
        <h4 id="h-es-promise" resource="#h-es-promise"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.26 </span>Promise types —&nbsp;Promise&lt;<var>T</var>&gt;</span></h4>

        <p>
          IDL <a href="#idl-promise">promise type</a> values are represented by ECMAScript <span class="estype">Promise</span> objects.
        </p>
        <p id="es-to-promise">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-promise">Promise&lt;<var>T</var>&gt;</a> value as follows:
        </p>
        <ol class="algorithm">
          <li>Let <var>resolve</var> be the original value of <a class="nocite external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%Promise%</a>.resolve.

          </li>
          <li>Let <var>promise</var> be the result of calling <var>resolve</var> with <a class="nocite external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%Promise%</a> as the <span class="esvalue">this</span> value and <var>V</var> as the single argument value.</li>
          <li>Return the IDL <a href="#idl-promise">promise type</a> value that is a reference to the same object as <var>promise</var>.</li>
        </ol>
        <p id="promise-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a href="#idl-promise">promise type</a> value to an ECMAScript value is the <span class="estype">Promise</span> value that represents a reference to the same object that the IDL <a href="#idl-promise">promise type</a> represents.
        </p>
        <p>
          One can <dfn id="dfn-perform-steps-once-promise-is-settled" data-dfn-type="dfn">perform some steps once a promise is settled</dfn>. There can be one or two sets of steps to perform, covering when the promise is fulfilled, rejected, or both. When a specification says to perform some steps once a promise is settled, the following steps
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be followed:
        </p>
        <ol class="algorithm">
          <li>Let <var>promise</var> be the promise object of type <a class="idltype" href="#idl-promise">Promise&lt;<var>T</var>&gt;</a>.</li>
          <li>
            Let <var>onFulfilled</var> be a new <a class="dfnref" href="#dfn-function-object">function object</a> whose behavior when invoked is as follows:
            <ol>
              <li>If <var>T</var> is <a class="idltype" href="#idl-void">void</a>, then:
                <ol>
                  <li>Return the result of performing any steps that were required to be run if the promise was fulfilled.</li>
                </ol>
              </li>
              <li>Otherwise, <var>T</var> is a type other than <a class="idltype" href="#idl-void">void</a>:
                <ol>
                  <li>Let <var>V</var> be the first argument to <var>onFulfilled</var>.</li>
                  <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                    <var>V</var> to an IDL value of type <var>T</var>.</li>
                  <li>If there are no steps that are required to be run if the promise was fulfilled, then return <span class="esvalue">undefined</span>.</li>
                  <li>Otherwise, return the result of performing any steps that were required to be run if the promise was fulfilled, with <var>value</var> as the promise’s value.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>
            Let <var>onRejected</var> be a new <a class="dfnref" href="#dfn-function-object">function object</a> whose behavior when invoked is as follows:
            <ol>
              <li>Let <var>R</var> be the first argument to <var>onRejected</var>.</li>
              <li>Let <var>reason</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>R</var> to an IDL value of type <a class="idltype" href="#idl-any">any</a>.</li>
              <li>If there are no steps that are required to be run if the promise was rejected, then return <span class="esvalue">undefined</span>.</li>
              <li>Otherwise, return the result of performing any steps that were required to be run if the promise was rejected, with <var>reason</var> as the rejection reason.</li>
            </ol>
          </li>
          <li>Let <var>then</var> be the result of calling the internal <span class="prop">[[Get]]</span> method of <var>promise</var> with property name “then”.</li>
          <li>If <var>then</var> is not <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">callable</a>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>Return the result of calling <var>then</var> with <var>promise</var> as the <span class="esvalue">this</span> value and <var>onFulfilled</var> and <var>onRejected</var> as its two arguments.</li>
        </ol>

      </section>

      <section id="es-union" typeof="bibo:Chapter" resource="#es-union" property="bibo:hasPart">
        <h4 id="h-es-union" resource="#h-es-union"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.27 </span>Union types</span></h4>

        <p>
          IDL <a href="#idl-union">union type</a> values are represented by ECMAScript values that correspond to the union’s
          <a class="dfnref" href="#dfn-union-member-type">member types</a>.
        </p>
        <p id="es-to-union">
          To <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">convert an ECMAScript value</a> <var>V</var> to an IDL <a href="#idl-union">union type</a> value is done as follows:
        </p>
        <ol class="algorithm">
          <li>If the <a class="dfnref" href="#dfn-union-type">union type</a>
            <a class="dfnref" href="#dfn-includes-a-nullable-type">includes a nullable type</a> and
            <var>V</var> is <span class="esvalue">null</span> or <span class="esvalue">undefined</span>, then return the IDL value <span class="idlvalue">null</span>.</li>
          <li>
            Let <var>types</var> be the <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a> of the <a class="dfnref" href="#dfn-union-type">union type</a>.
          </li>
          <li>
            If <var>V</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, then:
            <ol>
              <li>If <var>types</var> includes an <a href="#idl-interface">interface type</a> that <var>V</var> implements, then return the IDL value that is a reference to the object <var>V</var>.</li>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value that is a reference to the object <var>V</var>.</li>
            </ol>
          </li>
          <li>
            If <var>V</var> object, then:
            <ol>

              <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value that is a reference to the object <var>V</var>.</li>
            </ol>
          </li>
          <li>
            If <var>V</var> is a <a class="dfnref" href="#dfn-DOMException">DOMException</a> platform object, then:
            <ol>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-DOMException">DOMException</a> or
                <a class="idltype" href="#idl-Error">Error</a>, then return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to that type.</li>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value that is a reference to the object <var>V</var>.</li>
            </ol>
          </li>
          <li>
            If <var>V</var> is a native <span class="estype">Error</span> object (that is, it has an [[ErrorData]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>), then:
            <ol>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-Error">Error</a>, then return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to <a class="idltype" href="#idl-Error">Error</a>.</li>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value that is a reference to the object <var>V</var>.</li>
            </ol>
          </li>
          <li>
            If <var>V</var> is an object with an [[ArrayBufferData]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>, then:
            <ol>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a>, then return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a>.</li>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value that is a reference to the object <var>V</var>.</li>
            </ol>
          </li>
          <li>
            If <var>V</var> is an object with a [[DataView]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>, then:
            <ol>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-DataView">DataView</a>, then return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to <a class="idltype" href="#idl-DataView">DataView</a>.</li>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value that is a reference to the object <var>V</var>.</li>
            </ol>
          </li>
          <li>
            If <var>V</var> is an object with a [[TypedArrayName]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>, then:
            <ol>
              <li>If <var>types</var> includes a <a class="dfnref" href="#dfn-typed-array-type">typed array type</a> whose name is the value of <var>V</var>’s [[TypedArrayName]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>, then return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to that type.</li>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value that is a reference to the object <var>V</var>.</li>
            </ol>
          </li>
          <li>
            If <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a>(<var>V</var>) is true, then:
            <ol>
              <li>If <var>types</var> includes a <a class="dfnref" href="#dfn-callback-function">callback function</a> type, then return the result of
                <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to that callback function type.</li>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value that is a reference to the object <var>V</var>.</li>
            </ol>
          </li>
          <li>If <var>V</var> is <span class="esvalue">null</span> or <span class="esvalue">undefined</span> object, then:
            <ol>
              <li>If <var>types</var> includes a <a href="#idl-dictionary">dictionary type</a>, then return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to that dictionary type.</li>
            </ol>
          </li>
          <li>
            If <var>V</var> object, then:
            <ol>
              <li>
                If <var>types</var> includes a <a href="#idl-sequence">sequence type</a>, then
                <ol>
                  <li>
                    Let <var>method</var> be the result of
                    <a class="external" href="http://www.ecma-international.org/ecma-262/6.0/#sec-getmethod">GetMethod</a>(<var>V</var>, <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-symbols">@@iterator</a>).
                  </li>
                  <li>
                    <a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>method</var>).
                  </li>
                  <li>
                    If <var>method</var> is not
                    <span class="esvalue">undefined</span>, return the result of
                    <a class="dfnref" href="#create-sequence-from-iterable">creating a
                        sequence of that type from <var>V</var> and
                        <var>method</var></a>.
                  </li>
                </ol>
              </li>

              <li>If <var>types</var> includes a <a class="dfnref" href="#dfn-callback-interface">callback interface</a> type, then return the result of
                <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to that interface type.</li>
              <li>If <var>types</var> includes <a class="idltype" href="#idl-object">object</a>, then return the IDL value that is a reference to the object <var>V</var>.</li>
            </ol>
          </li>
          <li>
            If <var>V</var> is a <span class="estype">Boolean</span> value, then:
            <ol>
              <li>
                If <var>types</var> includes a <a class="idltype" href="#idl-boolean">boolean</a>, then return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to <a class="idltype" href="#idl-boolean">boolean</a>.
              </li>
            </ol>
          </li>
          <li>
            If <var>V</var> is a <span class="estype">Number</span> value, then:
            <ol>
              <li>
                If <var>types</var> includes a <a class="dfnref" href="#dfn-numeric-type">numeric type</a>, then return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                <var>V</var> to that <a class="dfnref" href="#dfn-numeric-type">numeric type</a>.
              </li>
            </ol>
          </li>
          <li>
            If <var>types</var> includes a <a class="dfnref" href="#dfn-string-type">string type</a>, then return the result of
            <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
            <var>V</var> to that type.
          </li>
          <li>
            If <var>types</var> includes a <a class="dfnref" href="#dfn-numeric-type">numeric type</a>, then return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
            <var>V</var> to that <a class="dfnref" href="#dfn-numeric-type">numeric type</a>.
          </li>
          <li>
            If <var>types</var> includes a <a class="idltype" href="#idl-boolean">boolean</a>, then return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
            <var>V</var> to <a class="idltype" href="#idl-boolean">boolean</a>.
          </li>
          <li>
            <a href="#ecmascript-throw" class="dfnref external">Throw a <span class="estype">TypeError</span></a>.
          </li>
        </ol>
        <p id="union-to-es">
          An IDL union type value is
          <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converted to an ECMAScript value</a> as follows. If the value is an <a class="idltype" href="#idl-object">object</a> reference to a special object that represents an ECMAScript <span class="esvalue">undefined</span> value, then it is converted to the ECMAScript
          <span class="esvalue">undefined</span> value. Otherwise, the rules for converting the <a class="dfnref" href="#dfn-specific-type">specific type</a> of the IDL union type value as described in this section ().
        </p>
      </section>



      <section id="es-Error" typeof="bibo:Chapter" resource="#es-Error" property="bibo:hasPart">
        <h4 id="h-es-error" resource="#h-es-error"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.28 </span>Error</span></h4>

        <p>
          IDL <a class="idltype" href="#idl-Error">Error</a> values are represented by native ECMAScript <span class="estype">Error</span> objects and platform objects for <a class="dfnref" href="#dfn-DOMException">DOMExceptions</a>.
        </p>
        <p id="es-to-Error">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <span class="Error">Error</span> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>V</var>) is not Object, or <var>V</var> does not have an [[ErrorData]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>Return the IDL <a class="idltype" href="#idl-Error">Error</a> value that is a reference to the same object as <var>V</var>.</li>
        </ol>
        <p id="Error-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-Error">Error</a> value to an ECMAScript value is the <span class="estype">Error</span> value that represents a reference to the same object that the IDL <a class="idltype" href="#idl-Error">Error</a> represents.
        </p>
      </section>

      <section id="es-DOMException" typeof="bibo:Chapter" resource="#es-DOMException" property="bibo:hasPart">
        <h4 id="h-es-domexception" resource="#h-es-domexception"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.29 </span>DOMException</span></h4>

        <p>
          IDL <a class="idltype" href="#idl-DOMException">DOMException</a> values are represented by platform objects for <a class="dfnref" href="#dfn-DOMException">DOMExceptions</a>.
        </p>
        <p id="es-to-DOMException">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-DOMException">DOMException</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>V</var>) is not Object, or <var>V</var> is not a platform object that represents a <a class="dfnref" href="#dfn-DOMException">DOMException</a>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>Return the IDL <a class="idltype" href="#idl-DOMException">DOMException</a> value that is a reference to the same object as <var>V</var>.</li>
        </ol>
        <p id="DOMException-to-es">
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL <a class="idltype" href="#idl-DOMException">DOMException</a> value to an ECMAScript value is the <span class="estype">Object</span> value that represents a reference to the same object that the IDL <a class="idltype" href="#idl-DOMException">DOMException</a> represents.
        </p>
      </section>

      <section id="es-buffer-source-types" typeof="bibo:Chapter" resource="#es-buffer-source-types" property="bibo:hasPart">
        <h4 id="h-es-buffer-source-types" resource="#h-es-buffer-source-types"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.2.30 </span>Buffer source types</span></h4>

        <p>
          Values of the IDL <a class="dfnref" href="#dfn-buffer-source-type">buffer source types</a> are represented by objects of the corresponding ECMAScript class.
        </p>
        <p id="es-to-buffer-source">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>V</var>) is not Object, or <var>V</var> does not have an [[ArrayBufferData]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>, or <a class="external" href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a>(<var>V</var>) is true, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
          </li>
          <li>Return the IDL <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> value that is a reference to the same object as <var>V</var>.</li>
        </ol>
        <p id="buffer-source-to-es">
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-DataView">DataView</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>V</var>) is not Object, or <var>V</var> does not have a [[DataView]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>Return the IDL <a class="idltype" href="#idl-DataView">DataView</a> value that is a reference to the same object as <var>V</var>.</li>
        </ol>
        <p>
          An ECMAScript value <var>V</var> is
          <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converted</a> to an IDL <a class="idltype" href="#idl-Int8Array">Int8Array</a>,
          <a class="idltype" href="#idl-Int16Array">Int16Array</a>,
          <a class="idltype" href="#idl-Int32Array">Int32Array</a>,
          <a class="idltype" href="#idl-Uint8Array">Uint8Array</a>,
          <a class="idltype" href="#idl-Uint16Array">Uint16Array</a>,
          <a class="idltype" href="#idl-Uint32Array">Uint32Array</a>,
          <a class="idltype" href="#idl-Uint8ClampedArray">Uint8ClampedArray</a>,
          <a class="idltype" href="#idl-Float32Array">Float32Array</a> or
          <a class="idltype" href="#idl-Float64Array">Float64Array</a> value by running the following algorithm:
        </p>
        <ol class="algorithm">
          <li>Let <var>T</var> be the IDL type <var>V</var> is being converted to.</li>
          <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>V</var>) is not Object, or <var>V</var> does not have a [[TypedArrayName]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a> with a value equal to the name of <var>T</var>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>Return the IDL value of type <var>T</var> that is a reference to the same object as <var>V</var>.</li>
        </ol>
        <p>
          The result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> an IDL value of any <a class="dfnref" href="#dfn-buffer-source-type">buffer source type</a> to an ECMAScript value is the <span class="estype">Object</span> value that represents a reference to the same object that the IDL value represents.
        </p>
        <p>
          When <a class="dfnref" href="#dfn-get-buffer-source-reference">getting a reference to</a> or <a class="dfnref" href="#dfn-get-buffer-source-copy">getting a copy of the bytes held by a buffer source</a> that is an ECMAScript <span class="estype">ArrayBuffer</span>, <span class="estype">DataView</span> or typed array object, these steps <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be followed:
        </p>
        <ol class="algorithm">
          <li>Let <var>O</var> be the ECMAScript object that is the buffer source.</li>
          <li>Initialize <var>arrayBuffer</var> to <var>O</var>.</li>
          <li>Initialize <var>offset</var> to 0.</li>
          <li>Initialize <var>length</var> to 0.</li>
          <li>If <var>O</var> has a [[ViewedArrayBuffer]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>, then:
            <ol>
              <li>Set <var>arrayBuffer</var> to the value of <var>O</var>’s [[ViewedArrayBuffer]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>.</li>
              <li>If <var>arrayBuffer</var> is <span class="esvalue">undefined</span>, then
                <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Set <var>offset</var> to the value of <var>O</var>’s [[ByteOffset]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>.</li>
              <li>Set <var>length</var> to the value of <var>O</var>’s [[ByteLength]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>.</li>
            </ol>
          </li>
          <li>Otherwise, set <var>length</var> to the value of <var>O</var>’s [[ArrayBufferByteLength]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>.</li>
          <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-isdetachedbuffer">IsDetachedBuffer</a>(<var>O</var>), then
            <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
          <li>Let <var>data</var> be the value of <var>O</var>’s [[ArrayBufferData]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>.</li>
          <li>Return a reference to or copy of (as required) the <var>length</var> bytes in <var>data</var> starting at byte offset <var>offset</var>.</li>
        </ol>
        <p>
          To <a class="dfnref" href="#dfn-detach">detach</a> an <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a>, these steps <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be followed:
        </p>
        <ol class="algorithm">
          <li>Let <var>O</var> be the ECMAScript object that is the <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a>.</li>
          <li><a class="external" href="https://tc39.github.io/ecma262/#sec-detacharraybuffer">DetachArrayBuffer</a>(<var>O</var>).</li>
        </ol>
      </section>


    </section>

    <section id="es-extended-attributes" typeof="bibo:Chapter" resource="#es-extended-attributes" property="bibo:hasPart">
      <h3 id="h-es-extended-attributes" resource="#h-es-extended-attributes"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3 </span>ECMAScript-specific extended attributes</span></h3>

      <p>
        This section defines a number of
        <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> whose presence affects only the ECMAScript binding.
      </p>

      <section id="Clamp" typeof="bibo:Chapter" resource="#Clamp" property="bibo:hasPart">
        <h4 id="h-clamp" resource="#h-clamp"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.1 </span>[Clamp]</span></h4>

        <p>
          If the <a class="xattr" href="#Clamp">[Clamp]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on an <a class="dfnref" href="#dfn-operation">operation</a> argument, writable <a class="dfnref" href="#dfn-attribute">attribute</a> or
          <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> whose type is one of the <a class="dfnref" href="#dfn-integer-type">integer types</a>, it indicates that when an ECMAScript <span class="estype">Number</span> is converted to the IDL type, out of range values will be clamped to the range of valid values, rather than using the operators that use a modulo operation (<a class="external" href="https://tc39.github.io/ecma262/#sec-toint32">ToInt32</a>, <a class="external" href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a>, etc.).
        </p>
        <p>
          The <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>
          <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
        </p>
        <p>
          The <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> appear on a <a class="dfnref" href="#dfn-read-only">read only</a> attribute, or an attribute, operation argument or dictionary member that is not of an integer type. It also <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used in conjunction with the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute.
        </p>
        <p>
          See the rules for converting ECMAScript values to the various IDL integer types in <a href="#es-type-mapping">section </a><a href="#es-type-mapping">4.2 </a> for the specific requirements that the use of
          <a class="xattr" href="#Clamp">[Clamp]</a> entails.
        </p>

        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            In the following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>, two <a class="dfnref" href="#dfn-operation">operations</a> are declared that take three <a class="idltype" href="#idl-octet">octet</a> arguments; one uses the <a class="xattr" href="#Clamp">[Clamp]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> on all three arguments, while the other does not:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface GraphicsContext {
  <span class="hljs-keyword">void</span> setColor(octet red, octet green, octet blue);
  <span class="hljs-keyword">void</span> setColorClamped([Clamp] octet red, [Clamp] octet green, [Clamp] octet blue);
};</code></pre></div>
          </div>
          <p>
            In an ECMAScript implementation of the IDL, a call to setColorClamped with
            <span class="estype">Number</span> values that are out of range for an
            <a class="idltype" href="#idl-octet">octet</a> are clamped to the range [0,&nbsp;255].
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-comment">// Get an instance of GraphicsContext.</span>
<span class="hljs-keyword">var</span> context = getGraphicsContext();

<span class="hljs-comment">// Calling the non-[Clamp] version uses ToUint8 to coerce the Numbers to octets.</span>
<span class="hljs-comment">// This is equivalent to calling setColor(255, 255, 1).</span>
context.setColor(<span class="hljs-number">-1</span>, <span class="hljs-number">255</span>, <span class="hljs-number">257</span>);

<span class="hljs-comment">// Call setColorClamped with some out of range values.</span>
<span class="hljs-comment">// This is equivalent to calling setColorClamped(0, 255, 255).</span>
context.setColorClamped(<span class="hljs-number">-1</span>, <span class="hljs-number">255</span>, <span class="hljs-number">257</span>);</code></pre></div>
          </div>
        </div>
      </section>

      <section id="Constructor" typeof="bibo:Chapter" resource="#Constructor" property="bibo:hasPart">
        <h4 id="h-constructor" resource="#h-constructor"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.2 </span>[Constructor]</span></h4>

        <p>
          If the <a class="xattr" href="#Constructor">[Constructor]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on an <a class="dfnref" href="#dfn-interface">interface</a>, it indicates that the <a class="dfnref" href="#dfn-interface-object">interface object</a> for this interface will have an <span class="prop">[[Construct]]</span> internal method, allowing objects implementing the interface to be constructed.
        </p>
        <p>
          If it appears on a <a class="dfnref" href="#dfn-dictionary">dictionary</a>, then it indicates that the ECMAScript global object will have a property whose name is the identifier of the dictionary and whose value is a constructor function that can return an ECMAScript object that represents a dictionary value of the given type.
        </p>
        <p>
          Multiple <a class="xattr" href="#Constructor">[Constructor]</a> extended attributes may appear on a given interface or dictionary.
        </p>
        <p>
          The <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> either
          <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a> or
          <a class="dfnref" href="#dfn-xattr-argument-list">take an argument list</a>. The bare form, <code>[Constructor]</code>, has the same meaning as using an empty argument list, <code>[Constructor()]</code>. For each
          <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute on the interface, there will be a way to construct an object that implements the interface by passing the specified arguments.
        </p>
        <p>
          The prose definition of a constructor <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> either return an IDL value of a type corresponding to the interface or dictionary the <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute appears on, or throw an exception.
        </p>
        <p>
          If the <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute is specified on an interface, then the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> also be specified on that interface.
        </p>
        <p>
          The <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.
        </p>
        <p>
          See <a href="#es-interface-call">section </a><a href="#es-interface-call">4.6.1.1 </a> for details on how a constructor for an interface is to be implemented, and
          <a href="#es-dictionary-constructors">section </a><a href="#es-dictionary-constructors">4.6.3 </a> for how a constructor for a dictionary is to be implemented.
        </p>

        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following IDL defines two interfaces. The second has the
            <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute, while the first does not.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface NodeList {
  Node item(unsigned long index);
  readonly attribute unsigned long length;
};

[Constructor,
 Constructor(double radius)]
interface Circle {
  attribute double r;
  attribute double cx;
  attribute double cy;
  readonly attribute double circumference;
};</code></pre></div>
          </div>
          <p>
            An ECMAScript implementation supporting these interfaces would have a <span class="prop">[[Construct]]</span> property on the
            <span class="idltype">Circle</span> interface object which would return a new object that implements the interface. It would take either zero or one argument. The
            <span class="idltype">NodeList</span> interface object would not have a <span class="prop">[[Construct]]</span> property.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> x = <span class="hljs-keyword">new</span> Circle();      <span class="comment"><span class="hljs-comment">// The uses the zero-argument constructor to create a</span></span>
                           <span class="comment"><span class="hljs-comment">// reference to a platform object that implements the</span></span>
                           <span class="comment"><span class="hljs-comment">// Circle interface.</span></span>

<span class="hljs-keyword">var</span> y = <span class="hljs-keyword">new</span> Circle(<span class="hljs-number">1.25</span>);  <span class="comment"><span class="hljs-comment">// This also creates a Circle object, this time using</span></span>
                           <span class="comment"><span class="hljs-comment">// the one-argument constructor.</span></span>

<span class="hljs-keyword">var</span> z = <span class="hljs-keyword">new</span> NodeList();    <span class="comment"><span class="hljs-comment">// This would throw a TypeError, since no</span></span>
                           <span class="comment"><span class="hljs-comment">// [Constructor] is declared.</span></span></code></pre></div>
          </div>
        </div>

        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following IDL defines a dictionary type with a constructor:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">[Constructor(unsigned long patties, unsigned long cheeseSlices)]
dictionary BurgerOrder {
  unsigned long pattyCount;
  unsigned long cheeseSliceCount;
};</code></pre></div>
          </div>
          <p>
            The constructor is defined with the following prose:
          </p>
          <blockquote>
            <p>When the <span class="idltype">BurgerOrder</span> constructor is invoked, it must return a dictionary value of type
              <span class="idltype">BurgerOrder</span> whose pattyCount and cheeseSliceCount members are set to the values of the patties and cheeseSlices arguments, respectively.</p>
          </blockquote>
          <p>
            An ECMAScript implementation supporting this dictionary type would have a constructor function on the global object that returns a plain object with properties corresponding to the dictionary’s members:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">typeof</span> BurgerOrder;                                <span class="comment"><span class="hljs-comment">// Evaluates to "function".</span></span>

<span class="hljs-keyword">var</span> order = <span class="hljs-keyword">new</span> BurgerOrder(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);                 <span class="comment"><span class="hljs-comment">// Creates a new object.</span></span>

order.hasOwnProperty(<span class="hljs-string">"pattyCount"</span>);                <span class="comment"><span class="hljs-comment">// Evaluates to true.</span></span>
order.pattyCount;                                  <span class="comment"><span class="hljs-comment">// Evaluates to 1.</span></span>

<span class="hljs-built_in">Object</span>.getPrototypeOf(order) == <span class="hljs-built_in">Object</span>.prototype;  <span class="comment"><span class="hljs-comment">// Evaluates to true.</span></span></code></pre></div>
          </div>
        </div>
      </section>

      <section id="EnforceRange" typeof="bibo:Chapter" resource="#EnforceRange" property="bibo:hasPart">
        <h4 id="h-enforcerange" resource="#h-enforcerange"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.3 </span>[EnforceRange]</span></h4>

        <p>
          If the <a class="xattr" href="#EnforceRange">[EnforceRange]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on an <a class="dfnref" href="#dfn-operation">operation</a> argument, writable <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a> or
          <a class="dfnref" href="#dfn-dictionary-member">dictionary member</a> whose type is one of the <a class="dfnref" href="#dfn-integer-type">integer types</a>, it indicates that when an ECMAScript <span class="estype">Number</span> is converted to the IDL type, out of range values will cause an exception to be thrown, rather than converted to being a valid value using the operators that use a modulo operation (<a class="external" href="https://tc39.github.io/ecma262/#sec-toint32">ToInt32</a>, <a class="external" href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a>, etc.). The <span class="estype">Number</span> will be rounded towards zero before being checked against its range.
        </p>
        <p>
          The <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>
          <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
        </p>
        <p>
          The <a class="xattr" href="#EnforceRange">[EnforceRange]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> appear on a <a class="dfnref" href="#dfn-read-only">read only</a> attribute, a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>, or an attribute, operation argument or dictionary member that is not of an integer type. It also <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used in conjunction with the <a class="xattr" href="#Clamp">[Clamp]</a> extended attribute.
        </p>
        <p>
          See the rules for converting ECMAScript values to the various IDL integer types in <a href="#es-type-mapping">section </a><a href="#es-type-mapping">4.2 </a> for the specific requirements that the use of
          <a class="xattr" href="#EnforceRange">[EnforceRange]</a> entails.
        </p>

        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            In the following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>, two <a class="dfnref" href="#dfn-operation">operations</a> are declared that take three <a class="idltype" href="#idl-octet">octet</a> arguments; one uses the <a class="xattr" href="#EnforceRange">[EnforceRange]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> on all three arguments, while the other does not:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface GraphicsContext {
  <span class="hljs-keyword">void</span> setColor(octet red, octet green, octet blue);
  <span class="hljs-keyword">void</span> setColorEnforcedRange([EnforceRange] octet red, [EnforceRange] octet green, [EnforceRange] octet blue);
};</code></pre></div>
          </div>
          <p>
            In an ECMAScript implementation of the IDL, a call to setColorEnforcedRange with
            <span class="estype">Number</span> values that are out of range for an
            <a class="idltype" href="#idl-octet">octet</a> will result in an exception being thrown.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-comment">// Get an instance of GraphicsContext.</span>
<span class="hljs-keyword">var</span> context = getGraphicsContext();

<span class="hljs-comment">// Calling the non-[EnforceRange] version uses ToUint8 to coerce the Numbers to octets.</span>
<span class="hljs-comment">// This is equivalent to calling setColor(255, 255, 1).</span>
context.setColor(<span class="hljs-number">-1</span>, <span class="hljs-number">255</span>, <span class="hljs-number">257</span>);

<span class="hljs-comment">// When setColorEnforcedRange is called, Numbers are rounded towards zero.</span>
<span class="hljs-comment">// This is equivalent to calling setColor(0, 255, 255).</span>
context.setColorEnforcedRange(<span class="hljs-number">-0.9</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255.2</span>);

<span class="hljs-comment">// The following will cause a TypeError to be thrown, since even after</span>
<span class="hljs-comment">// rounding the first and third argument values are out of range.</span>
context.setColorEnforcedRange(<span class="hljs-number">-1</span>, <span class="hljs-number">255</span>, <span class="hljs-number">256</span>);</code></pre></div>
          </div>
        </div>
      </section>

      <section id="Exposed" typeof="bibo:Chapter" resource="#Exposed" property="bibo:hasPart">
        <h4 id="h-exposed" resource="#h-exposed"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.4 </span>[Exposed]</span></h4>
        <p>
          If the <a class="xattr" href="#Exposed">[Exposed]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on an <a class="dfnref" href="#dfn-interface">interface</a>,
          <a class="dfnref" href="#dfn-partial-interface">partial interface</a>, an individual <a class="dfnref" href="#dfn-interface-member">interface member</a>, or
          <a class="dfnref" href="#dfn-dictionary">dictionary</a> with a <a href="#es-dictionary-constructors">constructor</a>, it indicates that the interface, interface member or <a href="#es-dictionary-constructors">dictionary constructor</a> is exposed on a particular set of global interfaces, rather than the default of being exposed only on the <a class="dfnref" href="#dfn-primary-global-interface">primary global interface</a>.
        </p>
        <p>
          The <a class="xattr" href="#Exposed">[Exposed]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> either
          <a class="dfnref" href="#dfn-xattr-identifier">take an identifier</a> or
          <a class="dfnref" href="#dfn-xattr-identifier-list">take an identifier list</a>. Each of the identifiers mentioned <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be a <a class="dfnref" href="#dfn-global-name">global name</a>.
        </p>
        <p>
          Every construct that the <a class="xattr" href="#Exposed">[Exposed]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> can be specified on has an <dfn id="dfn-exposure-set" data-dfn-type="dfn">exposure set</dfn>, which is a set of <a class="dfnref" href="#dfn-interface">interfaces</a> defining which global environments the construct can be used in. The <a class="dfnref" href="#dfn-exposure-set">exposure set</a> for a given construct is defined as follows:
        </p>
        <ul>
          <li>
            <p>If the <a class="xattr" href="#Exposed">[Exposed]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> is specified on the construct, then the <a class="dfnref" href="#dfn-exposure-set">exposure set</a> is the set of all interfaces that have a <a class="dfnref" href="#dfn-global-name">global name</a> that is listed in the extended attribute's argument.</p>
          </li>
          <li>
            <p>If the <a class="xattr" href="#Exposed">[Exposed]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> does not appear on a construct, then its
              <a class="dfnref" href="#dfn-exposure-set">exposure set</a> is defined implicitly, depending on the type of construct:</p>
            <dl class="switch">
              <dt>interface</dt>
              <dt>dictionary</dt>
              <dd>The <a class="dfnref" href="#dfn-exposure-set">exposure set</a> of the interface or dictionary only contains the
                <a class="dfnref" href="#dfn-primary-global-interface">primary global interface</a>.</dd>
              <dt>partial interface</dt>
              <dd>The <a class="dfnref" href="#dfn-exposure-set">exposure set</a> of the partial interface is the <a class="dfnref" href="#dfn-exposure-set">exposure set</a> of the original interface definition.</dd>
              <dt>interface member</dt>
              <dd>The <a class="dfnref" href="#dfn-exposure-set">exposure set</a> of the interface member is the <a class="dfnref" href="#dfn-exposure-set">exposure set</a> of the interface or partial interface the member is declared on.</dd>
            </dl>
          </li>
        </ul>
        <p>
          If <a class="xattr" href="#Exposed">[Exposed]</a> appears on an
          <a class="dfnref" href="#dfn-overloaded">overloaded</a> <a class="dfnref" href="#dfn-operation">operation</a>, then it <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> appear identically on all overloads.
        </p>
        <p>
          The <a class="xattr" href="#Exposed">[Exposed]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be specified on both an interface member and a partial interface definition the interface member is declared on.
        </p>
        <p>
          If <a class="xattr" href="#Exposed">[Exposed]</a> appears on both an interface and one of its interface members, then the interface member's
          <a class="dfnref" href="#dfn-exposure-set">exposure set</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be a subset of the interface's
          <a class="dfnref" href="#dfn-exposure-set">exposure set</a>.
        </p>
        <p>
          An interface's <a class="dfnref" href="#dfn-exposure-set">exposure set</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be a subset of the
          <a class="dfnref" href="#dfn-exposure-set">exposure set</a> of all of the interface's <a class="dfnref" href="#dfn-consequential-interfaces">consequential
              interfaces</a>.
        </p>
        <p>
          If an interface <var>X</var>
          <a class="dfnref" href="#dfn-inherit">inherits</a> from another interface
          <var>Y</var> then the
          <a class="dfnref" href="#dfn-exposure-set">exposure set</a> of
          <var>X</var> <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be a subset of the
          <a class="dfnref" href="#dfn-exposure-set">exposure set</a> of
          <var>Y</var>.
        </p>
        <p>
          The <a class="xattr" href="#Exposed">[Exposed]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be specified on a <a class="dfnref" href="#dfn-dictionary">dictionary</a> that does not also have a <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute.
        </p>
        <p>
          An <a class="dfnref" href="#dfn-interface">interface</a>,
          <a class="dfnref" href="#dfn-interface-member">interface member</a> or
          <a class="dfnref" href="#dfn-dictionary">dictionary</a> is <dfn id="dfn-exposed" data-dfn-type="dfn">exposed</dfn> in a given ECMAScript global environment if the ECMAScript global object implements an interface that is in the interface, interface member or dictionary's
          <a class="dfnref" href="#dfn-exposure-set">exposure set</a>.
        </p>
        <p>
          See
          <a href="#es-interfaces">section </a><a href="#es-interfaces">4.6 </a>,
          <a href="#es-dictionary-constructors">section </a><a href="#es-dictionary-constructors">4.6.3 </a>,
          <a href="#es-constants">section </a><a href="#es-constants">4.6.6 </a>,
          <a href="#es-attributes">section </a><a href="#es-attributes">4.6.7 </a>,
          <a href="#es-operations">section </a><a href="#es-operations">4.6.8 </a> and
          <a href="#es-iterators">section </a><a href="#es-iterators">4.6.9 </a> for the specific requirements that the use of
          <a class="xattr" href="#Exposed">[Exposed]</a> entails.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p><a class="xattr" href="#Exposed">[Exposed]</a> is intended to be used to control whether interfaces or individual interface members are available for use only in workers, only in the <span class="idltype">Window</span>, or in both.</p>
          <p>The following IDL fragment shows how that might be achieved:</p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">[PrimaryGlobal]
interface Window {
  ...
};

<span class="comment"><span class="hljs-comment">// By using the same identifier Worker for both SharedWorkerGlobalScope</span>
<span class="hljs-comment">// and DedicatedWorkerGlobalScope, both can be addressed in an [Exposed]</span>
<span class="hljs-comment">// extended attribute at once.</span></span>
[Global=Worker]
interface SharedWorkerGlobalScope : WorkerGlobalScope {
  ...
};

[Global=Worker]
interface DedicatedWorkerGlobalScope : WorkerGlobalScope {
  ...
};

<span class="comment"><span class="hljs-comment">// MathUtils is available for use in workers and on the main thread.</span></span>
[Exposed=(Window,Worker)]
interface MathUtils {
  <span class="hljs-keyword">static</span> double someComplicatedFunction(double x, double y);
};

<span class="comment"><span class="hljs-comment">// WorkerUtils is only available in workers.  Evaluating WorkerUtils</span>
<span class="hljs-comment">// in the global scope of a worker would give you its interface object, while</span>
<span class="hljs-comment">// doing so on the main thread will give you a ReferenceError.</span></span>
[Exposed=Worker]
interface WorkerUtils {
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> setPriority(double x);
};

<span class="comment"><span class="hljs-comment">// Node is only available on the main thread.  Evaluating Node</span>
<span class="hljs-comment">// in the global scope of a worker would give you a ReferenceError.</span></span>
interface Node {
  ...
};</code></pre></div>
          </div>
        </div>
      </section>



      <section id="Global" typeof="bibo:Chapter" resource="#Global" property="bibo:hasPart">
        <h4 id="PrimaryGlobal" resource="#PrimaryGlobal"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.5 </span>[Global] and [PrimaryGlobal]</span></h4>

        <p>
          If the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on an <a class="dfnref" href="#dfn-interface">interface</a>, it indicates that objects implementing this interface can be used as the global object in an ECMAScript environment, and that the structure of the prototype chain and how properties corresponding to <a class="dfnref" href="#dfn-interface-member">interface members</a> will be reflected on the prototype objects will be different from other interfaces. Specifically:
        </p>
        <ol>
          <li>Any <a href="#idl-named-properties">named properties</a> will be exposed on an object in the prototype chain – the
            <a class="dfnref" href="#dfn-named-properties-object">named properties object</a> – rather than on the object itself.</li>
          <li><a class="dfnref" href="#dfn-interface-member">Interface members</a> from the
            <a class="dfnref" href="#dfn-interface">interface</a> (or
            <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>) will correspond to properties on the object itself rather than on
            <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype objects</a>.</li>
        </ol>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note49"><span>Note</span></div>
          <div class="">
            <p>
              Placing named properties on an object in the prototype chain is done so that variable declarations and bareword assignments will shadow the named property with a property on the global object itself.
            </p>
            <p>
              Placing properties corresponding to interface members on the object itself will mean that common feature detection methods like the following will work:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
              <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> indexedDB = <span class="hljs-built_in">window</span>.indexedDB || <span class="hljs-built_in">window</span>.webkitIndexedDB ||
                <span class="hljs-built_in">window</span>.mozIndexedDB || <span class="hljs-built_in">window</span>.msIndexedDB;

<span class="hljs-keyword">var</span> requestAnimationFrame = <span class="hljs-built_in">window</span>.requestAnimationFrame ||
                            <span class="hljs-built_in">window</span>.mozRequestAnimationFrame || ...;</code></pre></div>
            </div>
            <p>
              Because of the way variable declarations are handled in ECMAScript, the code above would result in the <code>window.indexedDB</code> and <code>window.requestAnimationFrame</code> evaluating to <code>undefined</code>, as the shadowing variable property would already have been created before the assignment is evaluated.
            </p>
          </div>
        </div>
        <p>
          If the <a class="xattr" href="#Global">[Global]</a> or
          <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> is used on an <a class="dfnref" href="#dfn-interface">interface</a>, then:
        </p>
        <ul>
          <li>The interface <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> define a <a class="dfnref" href="#dfn-named-property-setter">named property setter</a>.</li>
          <li>The interface <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> also be declared with the <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a> extended attribute.</li>
          <li>The interface <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> <a class="dfnref" href="#dfn-inherit">inherit</a> from another interface with the
            <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a> extended attribute.</li>
          <li>Any other interface <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> <a class="dfnref" href="#dfn-inherit">inherit</a> from it.</li>
        </ul>
        <p>
          If <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> is specified on a <a class="dfnref" href="#dfn-partial-interface">partial interface</a> definition, then that partial interface definition <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the part of the interface definition that defines the <a class="dfnref" href="#dfn-named-property-getter">named property getter</a>.
        </p>
        <p>
          The <a class="xattr" href="#Global">[Global]</a> and <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on an <a class="dfnref" href="#dfn-interface">interface</a> that can have more than one object implementing it in the same ECMAScript global environment.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note50"><span>Note</span></div>
          <div class="">
            <p>This is because the <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>, which exposes the named properties, is in the prototype chain, and it would not make sense for more than one object’s named properties to be exposed on an object that all of those objects inherit from.</p>
          </div>
        </div>
        <p>
          If an interface is declared with the <a class="xattr" href="#Global">[Global]</a> or
          <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, then there <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be more than one
          <a class="dfnref" href="#dfn-interface-member">interface member</a> across the interface and its <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a> with the same <a class="dfnref" href="#dfn-identifier">identifier</a>. There also <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be more than one <a class="dfnref" href="#dfn-stringifier">stringifier</a>, or more than one <a class="dfnref" href="#dfn-serializer">serializer</a> across those interfaces.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note51"><span>Note</span></div>
          <div class="">
            <p>This is because all of the members of the interface and its consequential interfaces get flattened down on to the object that implements the interface.</p>
          </div>
        </div>
        <p>
          The <a class="xattr" href="#Global">[Global]</a> and
          <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attributes can also be used to give a name to one or more global interfaces, which can then be referenced by the <a class="xattr" href="#Exposed">[Exposed]</a> extended attribute.
        </p>
        <p>
          The <a class="xattr" href="#Global">[Global]</a> and
          <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attributes <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> either
          <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a> or <a class="dfnref" href="#dfn-xattr-identifier-list">take an identifier list</a>.
        </p>
        <p>
          If the <a class="xattr" href="#Global">[Global]</a> or
          <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> is declared with an identifier list argument, then those identifiers are the interface’s
          <dfn id="dfn-global-name" data-dfn-type="dfn">global names</dfn>; otherwise, the interface has a single global name, which is the interface's identifier.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note52"><span>Note</span></div>
          <div class="">
            <p>The identifier argument list exists so that more than one global interface can be addressed with a single name in an <a class="xattr" href="#Exposed">[Exposed]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>.</p>
          </div>
        </div>
        <p>
          The <a class="xattr" href="#Global">[Global]</a> and
          <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be declared on the same interface. The <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be declared on at most one interface. The interface <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> is declared on, if any, is known as the <dfn id="dfn-primary-global-interface" data-dfn-type="dfn">primary global interface</dfn>.
        </p>
        <p>
          See <a href="#named-properties-object">section </a><a href="#named-properties-object">4.6.5 </a>,
          <a href="#getownproperty">section </a><a href="#getownproperty">4.8.3 </a> and
          <a href="#defineownproperty">section </a><a href="#defineownproperty">4.8.7 </a> for the specific requirements that the use of
          <a class="xattr" href="#Global">[Global]</a> and <a class="xattr" href="#Global">[PrimaryGlobal]</a> entails for named properties, and <a href="#es-constants">section </a><a href="#es-constants">4.6.6 </a>,
          <a href="#es-attributes">section </a><a href="#es-attributes">4.6.7 </a> and
          <a href="#es-operations">section </a><a href="#es-operations">4.6.8 </a> for the requirements relating to the location of properties corresponding to <a class="dfnref" href="#dfn-interface-member">interface members</a>.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
            <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> is intended to be used by the <span class="idltype">Window</span> interface as defined in HTML5 ([<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>], section 5.2). (<a class="xattr" href="#Global">[Global]</a> is intended to be used by worker global interfaces.) The <span class="idltype">Window</span> interface exposes frames as properties on the <span class="idltype">Window</span> object. Since the <span class="idltype">Window</span> object also serves as the ECMAScript global object, variable declarations or assignments to the named properties will result in them being replaced by the new value. Variable declarations for attributes will not create a property that replaces the existing one.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">[PrimaryGlobal]
interface Window {
  getter any (DOMString name);
  attribute DOMString name;
  <span class="hljs-comment">// ...</span>
};</code></pre></div>
          </div>
          <p>
            The following HTML document illustrates how the named properties on the
            <span class="idltype">Window</span> object can be shadowed, and how the property for an attribute will not be replaced when declaring a variable of the same name:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">HTML</span></div>
            <div class="blockContent"><pre class="code hljs xml"><code class="html-code"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Variable declarations and assignments on Window<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">name</span>=<span class="hljs-string">abc</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
<span class="comment"><span class="hljs-comment">&lt;!-- Shadowing named properties --&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-built_in">window</span>.abc;    </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to the iframe's Window object.</span></span></span><span class="javascript">
  abc = <span class="hljs-number">1</span>;       </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Shadows the named property.</span></span></span><span class="javascript">
  <span class="hljs-built_in">window</span>.abc;    </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to 1.</span></span></span><span class="javascript">
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="comment"><span class="hljs-comment">&lt;!-- Preserving properties for IDL attributes --&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  Window.prototype.def = <span class="hljs-number">2</span>;         </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Places a property on the prototype.</span></span></span><span class="javascript">
  <span class="hljs-built_in">window</span>.hasOwnProperty(<span class="hljs-string">"length"</span>);  </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to true.</span></span></span><span class="javascript">
  length;                           </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to 1.</span></span></span><span class="javascript">
  def;                              </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to 2.</span></span></span><span class="javascript">
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">var</span> length;                       </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Variable declaration leaves existing property.</span></span></span><span class="javascript">
  length;                           </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to 1.</span></span></span><span class="javascript">
  <span class="hljs-keyword">var</span> def;                          </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Variable declaration creates shadowing property.</span></span></span><span class="javascript">
  def;                              </span><span class="comment"><span class="javascript"><span class="hljs-comment">// Evaluates to undefined.</span></span></span><span class="javascript">
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre></div>
          </div>
        </div>
      </section>


      <section id="LenientThis" typeof="bibo:Chapter" resource="#LenientThis" property="bibo:hasPart">
        <h4 id="h-lenientthis" resource="#h-lenientthis"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.6 </span>[LenientThis]</span></h4>
        <p>
          If the <a class="xattr" href="#LenientThis">[LenientThis]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on a <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a>, it indicates that invocations of the attribute’s getter or setter with a <span class="esvalue">this</span> value that is not an object that implements the <a class="dfnref" href="#dfn-interface">interface</a> on which the attribute appears will be ignored.
        </p>
        <p>
          The <a class="xattr" href="#LenientThis">[LenientThis]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>
          <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>. It <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on a
          <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
        </p>
        <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>
              Specifications <span class="rfc2119"><em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em></span> use <a href="#LenientThis" class="xattr">[LenientThis]</a> unless required for compatibility reasons. Specification authors who wish to use this feature are strongly advised to discuss this on the
              <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a> mailing list before proceeding.
            </p>
          </div>
        </div>
        <p>
          See the <a href="#es-attributes">Attributes</a> section for how
          <a class="xattr" href="#LenientThis">[LenientThis]</a> is to be implemented.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following IDL fragment defines an interface that uses the
            <a class="xattr" href="#LenientThis">[LenientThis]</a> extended attribute.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Example {
  [LenientThis] attribute DOMString x;
  attribute DOMString y;
};</code></pre></div>
          </div>
          <p>
            An ECMAScript implementation that supports this interface will allow the getter and setter of the accessor property that corresponds to x to be invoked with something other than an <span class="idltype">Example</span> object.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> example = getExample();  <span class="comment"><span class="hljs-comment">// Get an instance of Example.</span></span>
<span class="hljs-keyword">var</span> obj = { };

<span class="comment"><span class="hljs-comment">// Fine.</span></span>
example.x;

<span class="comment"><span class="hljs-comment">// Ignored, since the this value is not an Example object and [LenientThis] is used.</span></span>
<span class="hljs-built_in">Object</span>.getOwnPropertyDescriptor(Example.prototype, <span class="hljs-string">"x"</span>).get.call(obj);

<span class="comment"><span class="hljs-comment">// Also ignored, since Example.prototype is not an Example object and [LenientThis] is used.</span></span>
Example.prototype.x;

<span class="comment"><span class="hljs-comment">// Throws a TypeError, since Example.prototype is not an Example object.</span></span>
Example.prototype.y;</code></pre></div>
          </div>
        </div>
      </section>

      <section id="NamedConstructor" typeof="bibo:Chapter" resource="#NamedConstructor" property="bibo:hasPart">
        <h4 id="h-namedconstructor" resource="#h-namedconstructor"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.7 </span>[NamedConstructor]</span></h4>
        <p>
          If the <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on an <a class="dfnref" href="#dfn-interface">interface</a>, it indicates that the ECMAScript global object will have a property with the specified name whose value is a constructor function that can create objects that implement the interface. Multiple <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attributes may appear on a given interface.
        </p>
        <p>
          The <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> either
          <a class="dfnref" href="#dfn-xattr-identifier">take an identifier</a> or
          <a class="dfnref" href="#dfn-xattr-named-argument-list">take a named argument list</a>. The first form, <code>[NamedConstructor=<a class="sym" href="#prod-identifier">identifier</a>]</code>, has the same meaning as using an empty argument list, <code>[NamedConstructor=<a class="sym" href="#prod-identifier">identifier</a>()]</code>. For each
          <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attribute on the interface, there will be a way to construct an object that implements the interface by passing the specified arguments to the constructor function that is the value of the aforementioned property.
        </p>
        <p>
          The identifier used for the named constructor <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be the same as that used by an <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attribute on another interface, <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be the same as an identifier of an interface that has an <a class="dfnref" href="#dfn-interface-object">interface object</a>, and <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be one of the
          <a class="dfnref" href="#dfn-reserved-identifier">reserved identifiers</a>.
        </p>
        <p>
          The <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.
        </p>
        <p>
          See <a href="#named-constructors">section </a><a href="#named-constructors">4.6.2 </a> for details on how named constructors are to be implemented.
        </p>

        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following IDL defines an interface that uses the
            <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attribute.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">[NamedConstructor=Audio,
 NamedConstructor=Audio(DOMString src)]
interface HTMLAudioElement : HTMLMediaElement {
  <span class="comment"><span class="hljs-comment">// ...</span></span>
};</code></pre></div>
          </div>
          <p>
            An ECMAScript implementation that supports this interface will allow the construction of <span class="estype">HTMLAudioElement</span> objects using the <span class="estype">Audio</span> constructor.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">typeof</span> Audio;                   <span class="comment"><span class="hljs-comment">// Evaluates to 'function'.</span></span>

<span class="hljs-keyword">var</span> a1 = <span class="hljs-keyword">new</span> Audio();           <span class="comment"><span class="hljs-comment">// Creates a new object that implements</span></span>
                                <span class="comment"><span class="hljs-comment">// HTMLAudioElement, using the zero-argument</span></span>
                                <span class="comment"><span class="hljs-comment">// constructor.</span></span>

<span class="hljs-keyword">var</span> a2 = <span class="hljs-keyword">new</span> Audio(<span class="hljs-string">'a.flac'</span>);   <span class="comment"><span class="hljs-comment">// Creates an HTMLAudioElement using the</span></span>
                                <span class="comment"><span class="hljs-comment">// one-argument constructor.</span></span></code></pre></div>
          </div>
        </div>
      </section>

      <section id="NewObject" typeof="bibo:Chapter" resource="#NewObject" property="bibo:hasPart">
        <h4 id="h-newobject" resource="#h-newobject"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.8 </span>[NewObject]</span></h4>

        <p>
          If the <a class="xattr" href="#NewObject">[NewObject]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on a <a class="dfnref" href="#dfn-regular-operation">regular</a> or <a class="dfnref" href="#dfn-static-operation">static</a>
          <a class="dfnref" href="#dfn-operation">operation</a>, then it indicates that when calling the operation, a reference to a newly created object
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> always be returned.
        </p>
        <p>
          The <a class="xattr" href="#NewObject">[NewObject]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>
          <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
        </p>
        <p>
          The <a class="xattr" href="#NewObject">[NewObject]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on anything other than a <a class="dfnref" href="#dfn-regular-operation">regular</a> or <a class="dfnref" href="#dfn-static-operation">static</a>
          <a class="dfnref" href="#dfn-operation">operation</a> whose <a class="dfnref" href="#dfn-return-type">return type</a> is an <a href="#idl-interface">interface type</a> or a <a class="dfnref" href="#dfn-promise-type">promise type</a>.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            As an example, this extended attribute is suitable for use on the <a href="https://dom.spec.whatwg.org/#dom-document-createelement">createElement</a> operation on the <a href="https://dom.spec.whatwg.org/#document"><span class="idltype">Document</span></a> interface ([<cite><a class="bibref" href="#bib-DOM">DOM</a></cite>], section 6.5), since a new object should always be returned when it is called.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Document : Node {
  [NewObject] Element createElement(DOMString localName);
  ...
};</code></pre></div>
          </div>
        </div>
      </section>

      <section id="NoInterfaceObject" typeof="bibo:Chapter" resource="#NoInterfaceObject" property="bibo:hasPart">
        <h4 id="h-nointerfaceobject" resource="#h-nointerfaceobject"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.9 </span>[NoInterfaceObject]</span></h4>

        <p>
          If the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on an <a class="dfnref" href="#dfn-interface">interface</a>, it indicates that an
          <a class="dfnref" href="#dfn-interface-object">interface object</a> will not exist for the interface in the ECMAScript binding.
        </p>
        <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>
              The <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute
              <span class="rfc2119"><em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em></span> be used on interfaces that are not solely used as <a class="dfnref" href="#dfn-supplemental-interface">supplemental</a> interfaces, unless there are clear Web compatibility reasons for doing so. Specification authors who wish to use this feature are strongly advised to discuss this on the
              <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a> mailing list before proceeding.
            </p>
          </div>
        </div>
        <p>
          The <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
        </p>
        <p>
          If the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute is specified on an interface, then the <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> also be specified on that interface. A <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attribute is fine, however.
        </p>
        <p>
          The <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be specified on an interface that has any
          <a class="dfnref" href="#dfn-static-operation">static operations</a> defined on it.
        </p>
        <p>
          The <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be specified on a <a class="dfnref" href="#dfn-callback-interface">callback interface</a> unless it has a <a class="dfnref" href="#dfn-constant">constant</a> declared on it. This is because callback interfaces without constants never have
          <a class="dfnref" href="#dfn-interface-object">interface objects</a>.
        </p>
        <p>
          An interface that does not have the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute specified <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> inherit from an interface that has the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute specified.
        </p>
        <p>
          See <a href="#es-interfaces">section </a><a href="#es-interfaces">4.6 </a> for the specific requirements that the use of
          <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> entails.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL
                  fragment</a> defines two interfaces, one whose interface object is exposed on the ECMAScript global object, and one whose isn’t:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Storage {
  void addEntry(unsigned long key, any value);
};

[NoInterfaceObject]
interface Query {
  any lookupEntry(unsigned long key);
};</code></pre></div>
          </div>
          <p>
            An ECMAScript implementation of the above IDL would allow manipulation of <span class="idltype">Storage</span>’s prototype, but not <span class="idltype">Query</span>’s.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">typeof</span> Storage;                        <span class="comment"><span class="hljs-comment">// evaluates to "object"</span></span>

<span class="comment"><span class="hljs-comment">// Add some tracing alert() call to Storage.addEntry.</span></span>
<span class="hljs-keyword">var</span> fn = Storage.prototype.addEntry;
Storage.prototype.addEntry = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) </span>{
  alert(<span class="hljs-string">'Calling addEntry()'</span>);
  <span class="hljs-keyword">return</span> fn.call(<span class="hljs-keyword">this</span>, key, value);
};

<span class="hljs-keyword">typeof</span> Query;                          <span class="comment"><span class="hljs-comment">// evaluates to "undefined"</span></span>
<span class="hljs-keyword">var</span> fn = Query.prototype.lookupEntry;  <span class="comment"><span class="hljs-comment">// exception, Query isn’t defined</span></span>
</code></pre></div>
          </div>
        </div>
      </section>

      <section id="OverrideBuiltins" typeof="bibo:Chapter" resource="#OverrideBuiltins" property="bibo:hasPart">
        <h4 id="h-overridebuiltins" resource="#h-overridebuiltins"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.10 </span>[OverrideBuiltins]</span></h4>

        <p>
          If the <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on an <a class="dfnref" href="#dfn-interface">interface</a>, it indicates that for a <a class="dfnref" href="#dfn-platform-object">platform object</a> implementing the interface, properties corresponding to all of the object’s <a class="dfnref" href="#dfn-supported-property-names">supported property names</a> will appear to be on the object, regardless of what other properties exist on the object or its prototype chain. This means that named properties will always shadow any properties that would otherwise appear on the object. This is in contrast to the usual behavior, which is for named properties to be exposed only if there is no property with the same name on the object itself or somewhere on its prototype chain.
        </p>
        <p>
          The <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>
          <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a> and <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> appear on an interface that does not define a <a class="dfnref" href="#dfn-named-property-getter">named property getter</a> or that also is declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute. If the extended attribute is specified on a <a class="dfnref" href="#dfn-partial-interface">partial interface</a> definition, then that partial interface definition <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the part of the interface definition that defines the <a class="dfnref" href="#dfn-named-property-getter">named property getter</a>.
        </p>
        <p>
          See <a href="#indexed-and-named-properties">section </a><a href="#indexed-and-named-properties">4.8.1 </a> and <a href="#defineownproperty">section </a><a href="#defineownproperty">4.8.7 </a> for the specific requirements that the use of
          <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a> entails.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines two <a class="dfnref" href="#dfn-interface">interfaces</a>, one that has a <a class="dfnref" href="#dfn-named-property-getter">named property getter</a> and one that does not.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface StringMap {
  readonly attribute unsigned long length;
  getter DOMString lookup(DOMString key);
};

[OverrideBuiltins]
interface StringMap2 {
  readonly attribute unsigned long length;
  getter DOMString lookup(DOMString key);
};</code></pre></div>
          </div>
          <p>
            In an ECMAScript implementation of these two interfaces, getting certain properties on objects implementing the interfaces will result in different values:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="comment"><span class="hljs-comment">// Obtain an instance of StringMap.  Assume that it has "abc", "length" and</span></span>
<span class="comment"><span class="hljs-comment">// "toString" as supported property names.</span></span>
<span class="hljs-keyword">var</span> map1 = getStringMap();

<span class="comment"><span class="hljs-comment">// This invokes the named property getter.</span></span>
map1.abc;

<span class="comment"><span class="hljs-comment">// This fetches the "length" property on the object that corresponds to the</span></span>
<span class="comment"><span class="hljs-comment">// length attribute.</span></span>
map1.length;

<span class="comment"><span class="hljs-comment">// This fetches the "toString" property from the object's prototype chain.</span></span>
map1.toString;


<span class="comment"><span class="hljs-comment">// Obtain an instance of StringMap2.  Assume that it also has "abc", "length"</span></span>
<span class="comment"><span class="hljs-comment">// and "toString" as supported property names.</span></span>
<span class="hljs-keyword">var</span> map2 = getStringMap2();

<span class="comment"><span class="hljs-comment">// This invokes the named property getter.</span></span>
map2.abc;

<span class="comment"><span class="hljs-comment">// This also invokes the named property getter, despite the fact that the "length"</span></span>
<span class="comment"><span class="hljs-comment">// property on the object corresponds to the length attribute.</span></span>
map2.length;

<span class="comment"><span class="hljs-comment">// This too invokes the named property getter, despite the fact that "toString" is</span></span>
<span class="comment"><span class="hljs-comment">// a property in map2's prototype chain.</span></span>
map2.toString;</code></pre></div>
          </div>
        </div>
      </section>

      <!--
          <div id='PrototypeRoot' class='section'>
            <h4>[PrototypeRoot]</h4>

            <div class='ednote'>
              <p>Ian suggests that <span class='xattr'>[PrototypeRoot]</span> might not need to exist.
                <a href='http://www.w3.org/mid/Pine.LNX.4.62.0906200730520.16244@hixie.dreamhostps.com'>(Mail.)</a></p>
            </div>
            <p>
              If the <a class='xattr' href='#PrototypeRoot'>[PrototypeRoot]</a>
              <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>
              appears on an <a class='dfnref' href='#dfn-interface'>interface</a>
              <var>A</var>, it indicates that it serves as the root of a prototype
              ancestor hierarchy.  For any interface <var>B</var> that has
              <var>A</var> as an ancestor, each interface in the inheritance
              tree starting with an interface that <var>B</var> inherits from and
              ending with <var>A</var> will be a
              <a class='dfnref' href='#dfn-prototype-ancestor'>prototype ancestor</a>
              of <var>B</var>.  It also plays a role in determining the value
              of a host object’s internal <span class='prop'>[[\Prototype]]</span>
              property value when the object implements more than one interface.
              See <a href='#interface-prototype-object'>section <?sref interface-prototype-object?></a>
              and <a href='#host-objects'>section <?sref host-objects?></a> for details.
            </p>
            <p>
              The <a class='xattr' href='#PrototypeRoot'>[PrototypeRoot]</a>
              extended attribute <span class='rfc2119'>MUST</span> <a class='dfnref' href='#dfn-xattr-no-arguments'>take no arguments</a>,
              and <span class='rfc2119'>MUST NOT</span> appear on an
              <a class='dfnref' href='#dfn-interface'>interface</a> that
              <a class='dfnref' href='#dfn-inherit'>inherits</a> from another
              interface.  An interface inheritance hierarchy
              <span class='rfc2119'>MUST NOT</span> have multiple paths from
              one interface to another that has the
              <a class='xattr' href='#PrototypeRoot'>[PrototypeRoot]</a>
              extended attribute.
            </p>
            <div class='example'>
              <p>
                The following <a class='dfnref' href='#dfn-idl-fragment'>IDL fragment</a>
                defines a hierarchy of <a class='dfnref' href='#dfn-interface'>interfaces</a>
                whose rootmost interface is annotated with the
                <a class='xattr' href='#PrototypeRoot'>[PrototypeRoot]</a>
                <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>.
                Other interfaces are defined to be implemented on objects that
                implement this prototype root interface, but properties for
                these other interfaces will be made available in the prototype
                chain through a <a class='dfnref' href='#dfn-mixin-prototype-object'>mixin prototype object</a>.
              </p>
              <x:codeblock language='idl'>[PrototypeRoot]
interface Node {
  readonly attribute unsigned short nodeType;
};

interface Element : Node {
  void appendChild(Node n);
  <span class='comment'>// ...</span>
};

interface HTMLElement : Element {
  void focus();
  <span class='comment'>// ...</span>
};

interface EventTarget {
  void addEventListener(/* ... */);
  <span class='comment'>// ...</span>
};

Node implements EventTarget;</x:codeblock>
              <p>
                An ECMAScript implementation implementing these interfaces would
                have a prototype chain as follows, where <var>E</var> is an
                instance of <span class='idltype'>HTMLElement</span>:
              </p>
              <div class='diagram'>
                <object data='PrototypeRoot-example.svg' type='image/svg+xml' style='width: 37em; height: 45em' width='1' height='1'>
                  <img src='PrototypeRoot-example.png' width='500' height='608' alt='The prototype of E is the mixin prototype object for E.  This mixin prototype object has an "addEventListener" property.  The prototype of the mixin prototype object is the HTMLElement prototype object, whose prototype is the Element prototype object, whose prototype is the Node prototype object, whose prototype is the Object prototype object.'/>
                </object>
              </div>
            </div>
          </div>
          -->

      <section id="PutForwards" typeof="bibo:Chapter" resource="#PutForwards" property="bibo:hasPart">
        <h4 id="h-putforwards" resource="#h-putforwards"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.11 </span>[PutForwards]</span></h4>

        <p>
          If the <a class="xattr" href="#PutForwards">[PutForwards]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on a <a class="dfnref" href="#dfn-read-only">read only</a>
          <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a> declaration whose type is an <a href="#idl-interface">interface type</a>, it indicates that assigning to the attribute will have specific behavior. Namely, the assignment is “forwarded” to the attribute (specified by the extended attribute argument) on the object that is currently referenced by the attribute being assigned to.
        </p>
        <p>
          The <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> <a class="dfnref" href="#dfn-xattr-identifier">take an identifier</a>. Assuming that:
        </p>
        <ul>
          <li>
            <var>A</var> is the <a class="dfnref" href="#dfn-attribute">attribute</a> on which the <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute appears,
          </li>
          <li>
            <var>I</var> is the <a class="dfnref" href="#dfn-interface">interface</a> on which <var>A</var> is declared,
          </li>
          <li>
            <var>J</var> is the <a href="#idl-interface">interface type</a> that <var>A</var> is declared to be of, and
          </li>
          <li>
            <var>N</var> is the <a class="dfnref" href="#dfn-identifier">identifier</a> argument of the extended attribute,
          </li>
        </ul>
        <p>
          then there <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be another
          <a class="dfnref" href="#dfn-attribute">attribute</a> <var>B</var> declared on <var>J</var> whose <a class="dfnref" href="#dfn-identifier">identifier</a> is <var>N</var>. Assignment of a value to the attribute <var>A</var> on an object implementing <var>I</var> will result in that value being assigned to attribute <var>B</var> of the object that <var>A</var> references, instead.
        </p>
        <p>
          Note that <a class="xattr" href="#PutForwards">[PutForwards]</a>-annotated
          <a class="dfnref" href="#dfn-attribute">attributes</a> can be chained. That is, an attribute with the <a class="xattr" href="#PutForwards">[PutForwards]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> can refer to an attribute that itself has that extended attribute. There <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> exist a cycle in a chain of forwarded assignments. A cycle exists if, when following the chain of forwarded assignments, a particular attribute on an <a class="dfnref" href="#dfn-interface">interface</a> is encountered more than once.
        </p>
        <p>
          An attribute with the <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> also be declared with the <a class="xattr" href="#Replaceable">[Replaceable]</a> extended attribute.
        </p>
        <p>
          The <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on an <a class="dfnref" href="#dfn-attribute">attribute</a> that is not <a class="dfnref" href="#dfn-read-only">read only</a>.
        </p>
        <p>
          The <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on a
          <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
        </p>
        <p>
          The <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on an attribute declared on a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.
        </p>
        <p>
          See the <a href="#es-attributes">Attributes</a> section for how
          <a class="xattr" href="#PutForwards">[PutForwards]</a> is to be implemented.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines interfaces for names and people. The <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute is used on the <span class="idlattr">name</span> attribute of the <span class="idltype">Person</span> interface to indicate that assignments to that attribute result in assignments to the
            <span class="idlattr">full</span> attribute of the
            <span class="idltype">Person</span> object:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Name {
  attribute DOMString full;
  attribute DOMString family;
  attribute DOMString given;
};

interface Person {
  [PutForwards=full] readonly attribute Name name;
  attribute unsigned short age;
};</code></pre></div>
          </div>
          <p>
            In the ECMAScript binding, this would allow assignments to the “name” property:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> p = getPerson();           <span class="comment"><span class="hljs-comment">// Obtain an instance of Person.</span></span>

p.name = <span class="hljs-string">'John Citizen'</span>;       <span class="comment"><span class="hljs-comment">// This statement...</span></span>
p.name.full = <span class="hljs-string">'John Citizen'</span>;  <span class="comment"><span class="hljs-comment">// ...has the same behavior as this one.</span></span></code></pre></div>
          </div>
        </div>
      </section>

      <section id="Replaceable" typeof="bibo:Chapter" resource="#Replaceable" property="bibo:hasPart">
        <h4 id="h-replaceable" resource="#h-replaceable"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.12 </span>[Replaceable]</span></h4>

        <p>
          If the <a class="xattr" href="#Replaceable">[Replaceable]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on a <a class="dfnref" href="#dfn-read-only">read only</a>
          <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a>, it indicates that setting the corresponding property on the
          <a class="dfnref" href="#dfn-platform-object">platform object</a> will result in an own property with the same name being created on the object which has the value being assigned. This property will shadow the accessor property corresponding to the attribute, which exists on the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.
        </p>
        <p>
          The <a class="xattr" href="#Replaceable">[Replaceable]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>
          <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
        </p>
        <p>
          An attribute with the <a class="xattr" href="#Replaceable">[Replaceable]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> also be declared with the <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute.
        </p>
        <p>
          The <a class="xattr" href="#Replaceable">[Replaceable]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on an <a class="dfnref" href="#dfn-attribute">attribute</a> that is not <a class="dfnref" href="#dfn-read-only">read only</a>.
        </p>
        <p>
          The <a class="xattr" href="#Replaceable">[Replaceable]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on a
          <a class="dfnref" href="#dfn-static-attribute">static attribute</a>.
        </p>
        <p>
          The <a class="xattr" href="#Replaceable">[Replaceable]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on an attribute declared on a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>.
        </p>
        <p>
          See <a href="#es-attributes">section </a><a href="#es-attributes">4.6.7 </a> for the specific requirements that the use of
          <a class="xattr" href="#Replaceable">[Replaceable]</a> entails.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an <a class="dfnref" href="#dfn-interface">interface</a> with an <a class="dfnref" href="#dfn-operation">operation</a> that increments a counter, and an <a class="dfnref" href="#dfn-attribute">attribute</a> that exposes the counter’s value, which is initially 0:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Counter {
  [Replaceable] readonly attribute unsigned long value;
  <span class="hljs-keyword">void</span> increment();
};</code></pre></div>
          </div>
          <p>
            Assigning to the “value” property on a <a class="dfnref" href="#dfn-platform-object">platform object</a> implementing <span class="idltype">Counter</span> will shadow the property that corresponds to the
            <a class="dfnref" href="#dfn-attribute">attribute</a>:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="es-code">var counter = getCounter();                              <span class="comment">// Obtain an <span class="hljs-keyword">instance</span> <span class="hljs-keyword">of</span> Counter.</span>
counter.<span class="hljs-keyword">value</span>;                                           <span class="comment">// Evaluates <span class="hljs-keyword">to</span> <span class="hljs-number">0</span>.</span>

counter.hasOwnProperty(<span class="hljs-string">"value"</span>);                         <span class="comment">// Evaluates <span class="hljs-keyword">to</span> <span class="hljs-literal">false</span>.</span>
Object.getPrototypeOf(counter).hasOwnProperty(<span class="hljs-string">"value"</span>);  <span class="comment">// Evaluates <span class="hljs-keyword">to</span> <span class="hljs-literal">true</span>.</span>

counter.increment();
counter.increment();
counter.<span class="hljs-keyword">value</span>;                                           <span class="comment">// Evaluates <span class="hljs-keyword">to</span> <span class="hljs-number">2</span>.</span>

counter.<span class="hljs-keyword">value</span> = <span class="hljs-string">'a'</span>;                                     <span class="comment">// Shadows the property with one that is unrelated</span>
                                                         <span class="comment">// <span class="hljs-keyword">to</span> Counter::value.</span>

counter.hasOwnProperty(<span class="hljs-string">"value"</span>);                         <span class="comment">// Evaluates <span class="hljs-keyword">to</span> <span class="hljs-literal">true</span>.</span>

counter.increment();
counter.<span class="hljs-keyword">value</span>;                                           <span class="comment">// Evaluates <span class="hljs-keyword">to</span> <span class="hljs-string">'a'</span>.</span>

<span class="hljs-keyword">delete</span> counter.<span class="hljs-keyword">value</span>;                                    <span class="comment">// Reveals the original property.</span>
counter.<span class="hljs-keyword">value</span>;                                           <span class="comment">// Evaluates <span class="hljs-keyword">to</span> <span class="hljs-number">3</span>.</span></code></pre></div>
          </div>
        </div>
      </section>

      <section id="SameObject" typeof="bibo:Chapter" resource="#SameObject" property="bibo:hasPart">
        <h4 id="h-sameobject" resource="#h-sameobject"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.13 </span>[SameObject]</span></h4>

        <p>
          If the <a class="xattr" href="#SameObject">[SameObject]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on a <a class="dfnref" href="#dfn-read-only">read only</a>
          <a class="dfnref" href="#dfn-attribute">attribute</a>, then it indicates that when getting the value of the attribute on a given object, the same value <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> always be returned.
        </p>
        <p>
          The <a class="xattr" href="#SameObject">[SameObject]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>
          <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
        </p>
        <p>
          The <a class="xattr" href="#SameObject">[SameObject]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be used on anything other than a <a class="dfnref" href="#dfn-read-only">read only</a>
          <a class="dfnref" href="#dfn-attribute">attribute</a> whose type is an <a href="#idl-interface">interface type</a> or <a class="idltype" href="#idl-object">object</a>.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            As an example, this extended attribute is suitable for use on the <a href="https://dom.spec.whatwg.org/#dom-document-implementation">implementation</a> attribute on the <a href="https://dom.spec.whatwg.org/#document"><span class="idltype">Document</span></a> interface ([<cite><a class="bibref" href="#bib-DOM">DOM</a></cite>], section 6.5), since the same object is always returned for a given
            <span class="idltype">Document</span> object.
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Document : Node {
  [SameObject] readonly attribute DOMImplementation implementation;
  ...
};</code></pre></div>
          </div>
        </div>
      </section>

      <section id="TreatNonObjectAsNull" typeof="bibo:Chapter" resource="#TreatNonObjectAsNull" property="bibo:hasPart">
        <h4 id="h-treatnonobjectasnull" resource="#h-treatnonobjectasnull"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.14 </span>[TreatNonObjectAsNull]</span></h4>

        <p>
          If the <a class="xattr" href="#TreatNonObjectAsNull">[TreatNonObjectAsNull]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on a <a class="dfnref" href="#dfn-callback-function">callback function</a>, then it indicates that any value assigned to an <a class="dfnref" href="#dfn-attribute">attribute</a> whose type is a <a class="dfnref" href="#dfn-nullable-type">nullable</a>
          <a class="dfnref" href="#dfn-callback-function">callback function</a> that is not an object will be converted to the <span class="idlvalue">null</span> value.
        </p>
        <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>
              Specifications <span class="rfc2119"><em class="rfc2119" title="SHOULD NOT">SHOULD NOT</em></span> use <a href="#TreatNonObjectAsNull" class="xattr">[TreatNonObjectAsNull]</a> unless required to specify the behavior of legacy APIs or for consistency with these APIs. Specification authors who wish to use this feature are strongly advised to discuss this on the
              <a href="mailto:public-script-coord@w3.org">public-script-coord@w3.org</a> mailing list before proceeding. At the time of writing, the only known valid use of <a href="#TreatNonObjectAsNull" class="xattr">[TreatNonObjectAsNull]</a> is for the <a class="dfnref" href="#dfn-callback-function">callback functions</a> used as the type of <a href="http://www.w3.org/TR/2011/WD-html5-20110525/webappapis.html#event-handler-attributes">event handler IDL attributes</a> ([
              <cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>], section 6.1.6.1) such as <code>onclick</code> and <code>onerror</code>.
            </p>
          </div>
        </div>
        <p>
          See <a href="#es-nullable-type">section </a><a href="#es-nullable-type">4.2.24 </a> for the specific requirements that the use of
          <a class="xattr" href="#TreatNonObjectAsNull">[TreatNonObjectAsNull]</a> entails.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface that has one attribute whose type is a <a class="xattr" href="#TreatNonObjectAsNull">[TreatNonObjectAsNull]</a>-annotated
            <a class="dfnref" href="#dfn-callback-function">callback function</a> and another whose type is a
            <a class="dfnref" href="#dfn-callback-function">callback function</a> without the <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">callback OccurrenceHandler = <span class="hljs-keyword">void</span> (DOMString details);

[TreatNonObjectAsNull]
callback ErrorHandler = <span class="hljs-keyword">void</span> (DOMString details);

interface Manager {
  attribute OccurrenceHandler? handler1;
  attribute ErrorHandler? handler2;
};</code></pre></div>
          </div>
          <p>
            In an ECMAScript implementation, assigning a value that is not an object (such as a <span class="estype">Number</span> value) to handler1 will have different behavior from that when assigning to handler2:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> manager = getManager();  <span class="comment"><span class="hljs-comment">// Get an instance of Manager.</span></span>

manager.handler1 = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ };
manager.handler1;            <span class="comment"><span class="hljs-comment">// Evaluates to the function.</span></span>

<span class="hljs-keyword">try</span> {
  manager.handler1 = <span class="hljs-number">123</span>;    <span class="comment"><span class="hljs-comment">// Throws a TypeError.</span></span>
} <span class="hljs-keyword">catch</span> (e) {
}

manager.handler2 = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ };
manager.handler2;            <span class="comment"><span class="hljs-comment">// Evaluates to the function.</span></span>

manager.handler2 = <span class="hljs-number">123</span>;
manager.handler2;            <span class="comment"><span class="hljs-comment">// Evaluates to null.</span></span></code></pre></div>
          </div>
        </div>
      </section>

      <section id="TreatNullAs" typeof="bibo:Chapter" resource="#TreatNullAs" property="bibo:hasPart">
        <h4 id="h-treatnullas" resource="#h-treatnullas"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.15 </span>[TreatNullAs]</span></h4>

        <p>
          If the <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on an <a class="dfnref" href="#dfn-attribute">attribute</a> or <a class="dfnref" href="#dfn-operation">operation</a> argument whose type is
          <a class="idltype" href="#idl-DOMString">DOMString</a>, it indicates that a <span class="esvalue">null</span> value assigned to the attribute or passed as the operation argument will be handled differently from its default handling. Instead of being stringified to “null”, which is the default, it will be converted to the empty string “”.
        </p>
        <p>
          If <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a> is specified on an operation itself, and that operation is on a <a class="dfnref" href="#dfn-callback-interface">callback interface</a>, then it indicates that a <a href="#es-user-objects">user object implementing the interface</a> will have the return value of the function that implements the operation handled in the same way as for operation arguments and attributes, as above.
        </p>
        <p>
          The <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> <a class="dfnref" href="#dfn-xattr-identifier">take the identifier</a>
          <code>EmptyString</code>.
        </p>
        <p>
          The <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a> extended attribute
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be specified on an operation argument, attribute or operation return value whose type is not <a class="idltype" href="#idl-DOMString">DOMString</a>.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note53"><span>Note</span></div>
          <div class="">
            <p>This means that even an attribute of type <span class="idltype">DOMString?</span> must not use <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a>, since <span class="idlvalue">null</span> is a valid value of that type.</p>
          </div>
        </div>
        <p>
          The <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a> extended attribute also <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> be specified on an operation on a non-callback interface.
        </p>
        <p>
          See <a href="#es-DOMString">section </a><a href="#es-DOMString">4.2.16 </a> for the specific requirements that the use of
          <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a> entails.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface that has one attribute with the <a class="xattr" href="#TreatNullAs">[TreatNullAs]</a> extended attribute, and one operation with an argument that has the extended attribute:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface Dog {
  attribute DOMString name;
  [TreatNullAs=EmptyString] attribute DOMString owner;

  boolean isMemberOfBreed([TreatNullAs=EmptyString] DOMString breedName);
};</code></pre></div>
          </div>
          <p>
            An ECMAScript implementation implementing the <span class="idltype">Dog</span> interface would convert a <span class="esvalue">null</span> value assigned to the “owner” property or passed as the argument to the <code>isMemberOfBreed</code> function to the empty string rather than <code>"null"</code>:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> d = getDog();         <span class="comment"><span class="hljs-comment">// Assume d is a platform object implementing the Dog</span></span>
                          <span class="comment"><span class="hljs-comment">// interface.</span></span>

d.name = <span class="hljs-literal">null</span>;            <span class="comment"><span class="hljs-comment">// This assigns the string "null" to the .name</span></span>
                          <span class="comment"><span class="hljs-comment">// property.</span></span>

d.owner = <span class="hljs-literal">null</span>;           <span class="comment"><span class="hljs-comment">// This assigns the string "" to the .owner property.</span></span>

d.isMemberOfBreed(<span class="hljs-literal">null</span>);  <span class="comment"><span class="hljs-comment">// This passes the string "" to the isMemberOfBreed</span></span>
                          <span class="comment"><span class="hljs-comment">// function.</span></span></code></pre></div>
          </div>
        </div>
      </section>

      <section id="Unforgeable" typeof="bibo:Chapter" resource="#Unforgeable" property="bibo:hasPart">
        <h4 id="h-unforgeable" resource="#h-unforgeable"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.3.16 </span>[Unforgeable]</span></h4>

        <p>
          If the <a class="xattr" href="#Unforgeable">[Unforgeable]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on a non-<a class="dfnref" href="#dfn-static-attribute">static</a>
          <a class="dfnref" href="#dfn-attribute">attribute</a> or non-<a class="dfnref" href="#dfn-static-operation">static</a>
          <a class="dfnref" href="#dfn-operation">operations</a>, it indicates that the attribute or operation will be reflected as an ECMAScript property in a way that means its behavior cannot be modified and that performing a property lookup on the object will always result in the attribute’s property value being returned. In particular, the property will be non-configurable and will exist as an own property on the object itself rather than on its prototype.
        </p>
        <p>
          If the <a class="xattr" href="#Unforgeable">[Unforgeable]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears on an <a class="dfnref" href="#dfn-interface">interface</a>, it indicates that all of the non-<a class="dfnref" href="#dfn-static-attribute">static</a>
          <a class="dfnref" href="#dfn-attribute">attributes</a> and non-<a class="dfnref" href="#dfn-static-operation">static</a>
          <a class="dfnref" href="#dfn-operation">operations</a> declared on that interface and its <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a> will be similarly reflected as own ECMAScript properties on objects that implement the interface, rather than on the prototype.
        </p>
        <p>
          An attribute or operation is said to be <dfn id="dfn-unforgeable-on-an-interface" data-dfn-type="dfn">unforgeable</dfn> on a given interface <var>A</var> if any of the following are true:
        </p>
        <ul>
          <li>The attribute or operation is declared on <var>A</var> or one of <var>A</var>’s <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>, and is annotated with the <a class="xattr" href="#Unforgeable">[Unforgeable]</a>
            <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>.</li>
          <li>The attribute or operation is declared on <var>A</var> or one of <var>A</var>’s <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>, and that interface is annotated with the <a class="xattr" href="#Unforgeable">[Unforgeable]</a>
            <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>.</li>
          <li>There exists an interface <var>B</var>, which is either <var>A</var> or one of
            <var>A</var>’s <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>,
            <var>B</var> is annotated with the <a class="xattr" href="#Unforgeable">[Unforgeable]</a>
            <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, and the attribute or operation is declared on one of <var>B</var>’s consequential interfaces.</li>
        </ul>
        <p>
          The <a class="xattr" href="#Unforgeable">[Unforgeable]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span>
          <a class="dfnref" href="#dfn-xattr-no-arguments">take no arguments</a>.
        </p>
        <p>
          The <a class="xattr" href="#Unforgeable">[Unforgeable]</a> extended attribute <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> appear on anything other than an <a class="dfnref" href="#dfn-attribute">attribute</a>, non-
          <a class="dfnref" href="#dfn-static-operation">static</a> <a class="dfnref" href="#dfn-operation">operation</a> or an <a class="dfnref" href="#dfn-interface">interface</a>. If it does appear on an <a class="dfnref" href="#dfn-operation">operation</a>, then it <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> appear on all operations with the same <a class="dfnref" href="#dfn-identifier">identifier</a> on that interface.
        </p>
        <p>
          If an attribute or operation <var>X</var> is <a class="dfnref" href="#dfn-unforgeable-on-an-interface">unforgeable</a> on an interface <var>A</var>, and <var>A</var> is one of the
          <a class="dfnref" href="#dfn-inherited-interfaces">inherited interfaces</a> of another interface <var>B</var>, then <var>B</var> and all of its
          <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST NOT">MUST NOT</em></span> have a non-static attribute or
          <a class="dfnref" href="#dfn-regular-operation">regular operation</a> with the same
          <a class="dfnref" href="#dfn-identifier">identifier</a> as <var>X</var>.
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note54"><span>Note</span></div>
          <div class="">
            <p>For example, the following is disallowed:</p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface A1 {
  [Unforgeable] readonly attribute DOMString x;
};
interface B1 : A1 {
  <span class="hljs-keyword">void</span> x();  <span class="comment"><span class="hljs-comment">// Invalid; would be shadowed by A1's x.</span></span>
};

interface B2 : A1 { };
B2 implements Mixin;
interface Mixin {
  <span class="hljs-keyword">void</span> x();  <span class="comment"><span class="hljs-comment">// Invalid; B2's copy of x would be shadowed by A1's x.</span></span>
};

[Unforgeable]
interface A2 {
  readonly attribute DOMString x;
};
interface B3 : A2 {
  <span class="hljs-keyword">void</span> x();  <span class="comment"><span class="hljs-comment">// Invalid; would be shadowed by A2's x.</span></span>
};

interface B4 : A2 { };
B4 implements Mixin;
interface Mixin {
  <span class="hljs-keyword">void</span> x();  <span class="comment"><span class="hljs-comment">// Invalid; B4's copy of x would be shadowed by A2's x.</span></span>
};

interface A3 { };
A3 implements A2;
interface B5 : A3 {
  <span class="hljs-keyword">void</span> x();  <span class="comment"><span class="hljs-comment">// Invalid; would be shadowed by A3's mixed-in copy of A2's x.</span></span>
};</code></pre></div>
            </div>
          </div>
        </div>
        <p>
          See <a href="#es-attributes">section </a><a href="#es-attributes">4.6.7 </a>,
          <a href="#es-operations">section </a><a href="#es-operations">4.6.8 </a>,
          <a href="#es-platform-objects">section </a><a href="#es-platform-objects">4.8 </a>,
          <a href="#indexed-and-named-properties">section </a><a href="#indexed-and-named-properties">4.8.1 </a> and
          <a href="#defineownproperty">section </a><a href="#defineownproperty">4.8.7 </a> for the specific requirements that the use of
          <a class="xattr" href="#Unforgeable">[Unforgeable]</a> entails.
        </p>
        <div class="example">
          <div class="exampleHeader">Example</div>
          <p>
            The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines an interface that has two <a class="dfnref" href="#dfn-attribute">attributes</a>, one of which is designated as <a class="xattr" href="#Unforgeable">[Unforgeable]</a>:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface System {
  [Unforgeable] readonly attribute DOMString username;
  readonly attribute long long loginTime;
};</code></pre></div>
          </div>
          <p>
            In an ECMAScript implementation of the interface, the username attribute will be exposed as a non-configurable property on the object itself:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> system = getSystem();                      <span class="comment"><span class="hljs-comment">// Get an instance of System.</span></span>

system.hasOwnProperty(<span class="hljs-string">"username"</span>);             <span class="comment"><span class="hljs-comment">// Evaluates to true.</span></span>
system.hasOwnProperty(<span class="hljs-string">"loginTime"</span>);            <span class="comment"><span class="hljs-comment">// Evaluates to false.</span></span>
System.prototype.hasOwnProperty(<span class="hljs-string">"username"</span>);   <span class="comment"><span class="hljs-comment">// Evaluates to false.</span></span>
System.prototype.hasOwnProperty(<span class="hljs-string">"loginTime"</span>);  <span class="comment"><span class="hljs-comment">// Evaluates to true.</span></span>

<span class="hljs-keyword">try</span> {
  <span class="comment"><span class="hljs-comment">// This call would fail, since the property is non-configurable.</span></span>
  <span class="hljs-built_in">Object</span>.defineProperty(system, <span class="hljs-string">"username"</span>, { value: <span class="hljs-string">"administrator"</span> });
} <span class="hljs-keyword">catch</span> (e) { }

<span class="comment"><span class="hljs-comment">// This defineProperty call would succeed, because System.prototype.loginTime</span></span>
<span class="comment"><span class="hljs-comment">// is configurable.</span></span>
<span class="hljs-keyword">var</span> forgedLoginTime = <span class="hljs-number">5</span>;
<span class="hljs-built_in">Object</span>.defineProperty(System.prototype, <span class="hljs-string">"loginTime"</span>, { value: forgedLoginTime });

system.loginTime;  <span class="comment"><span class="hljs-comment">// So this now evaluates to forgedLoginTime.</span></span></code></pre></div>
          </div>
        </div>
      </section>


    </section>

    <section id="es-security" typeof="bibo:Chapter" resource="#es-security" property="bibo:hasPart">
      <h3 id="h-es-security" resource="#h-es-security"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.4 </span>Security</span></h3>

      <p>
        Certain algorithms in the sections below are defined to
        <dfn id="dfn-perform-a-security-check" data-dfn-type="dfn">perform a security check</dfn> on a given object. This check is used to determine whether a given
        <a class="dfnref" href="#dfn-operation">operation</a> invocation or
        <a class="dfnref" href="#dfn-attribute">attribute</a> access should be allowed. The security check takes the following four inputs:
      </p>
      <ol>
        <li>the <a class="dfnref" href="#dfn-platform-object">platform object</a> on which the operation invocation or attribute access is being done,</li>
        <li>the ECMAScript global environment associated with the
          <span class="estype">Function</span> object that implements the operation or attribute,</li>
        <li>the <a class="dfnref" href="#dfn-identifier">identifier</a> of the operation or attribute, and</li>
        <li>the type of the <span class="estype">Function</span> object – “method” (when it corresponds to an IDL operation), or “getter” or “setter” (when it corresponds to the getter or setter function of an IDL attribute).</li>
      </ol>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note55"><span>Note</span></div>
        <div class="">
          <p>The expectation is that the HTML specification defines how a security check is performed, and that it will either throw an appropriate exception or return normally. [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]</p>
        </div>
      </div>
    </section>

    <section id="es-overloads" typeof="bibo:Chapter" resource="#es-overloads" property="bibo:hasPart">
      <h3 id="h-es-overloads" resource="#h-es-overloads"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.5 </span>Overload resolution algorithm</span></h3>

      <p>
        In order to define how overloaded function invocations are resolved, the
        <dfn id="dfn-overload-resolution-algorithm" data-dfn-type="dfn">overload resolution algorithm</dfn> is defined. Its input is an <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a>,
        <var>S</var>, and a list of ECMAScript values, <var>arg</var><sub>0..<var>n</var>−1</sub>. Its output is a pair consisting of the <a class="dfnref" href="#dfn-operation">operation</a> or
        <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> of one of <var>S</var>’s entries and a list of IDL values or the special value “missing”. The algorithm behaves as follows:
      </p>
      <ol class="algorithm">
        <li>Let <var>maxarg</var> be the length of the longest type list of the entries in <var>S</var>.</li>
        <li>Initialize <var>argcount</var> to be min(<var>maxarg</var>,&nbsp;<var>n</var>).</li>

        <li>Remove from <var>S</var> all entries whose type list is not of length <var>argcount</var>.</li>

        <li>If <var>S</var> is empty, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>

        <li>Initialize <var>d</var> to −1.</li>

        <li>
          Initialize <var>method</var> to
          <span class="esvalue">undefined</span>.
        </li>

        <li>If there is more than one entry in <var>S</var>, then set
          <var>d</var> to be the <a class="dfnref" href="#dfn-distinguishing-argument-index">distinguishing argument index</a> for the entries of <var>S</var>.</li>

        <li>Initialize <var>values</var> to be an empty list, where each entry will be either an IDL value or the special value “missing”.</li>

        <li>Initialize <var>i</var> to 0.</li>

        <li>While <var>i</var> &lt; <var>d</var>:
          <ol>
            <li>Let <var>V</var> be <var>arg</var><sub><var>i</var></sub>.</li>
            <li>Let <var>type</var> be the type at index <var>i</var> in the type list of any entry in <var>S</var>.
              <div class="note">
                <div class="note-title marker" aria-level="4" role="heading" id="h-note56"><span>Note</span></div>
                <div class="">
                  <p>All entries in <var>S</var> at this point have the same type and <a class="dfnref" href="#dfn-optionality-value">optionality value</a> at index <var>i</var>.</p>
                </div>
              </div>
            </li>
            <li>Let <var>optionality</var> be the value at index <var>i</var> in the list of <a class="dfnref" href="#dfn-optionality-value">optionality values</a> of any entry in <var>S</var>.</li>
            <li>If <var>optionality</var> is “optional” and <var>V</var> is <span class="esvalue">undefined</span>, then:
              <ol>
                <li>If the argument at index <var>i</var> is declared with a <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a>, then append to <var>values</var> that default value.</li>
                <li>Otherwise, append to <var>values</var> the special value “missing”.</li>
              </ol>
            </li>
            <li>Otherwise, append to <var>values</var> the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
              <var>V</var> to IDL type <var>type</var>.</li>
            <li>Set <var>i</var> to <var>i</var> + 1.</li>
          </ol>
        </li>

        <li>If <var>i</var> = <var>d</var>, then:
          <ol>
            <li>Let <var>V</var> be <var>arg</var><sub><var>i</var></sub>.
              <div class="note">
                <div class="note-title marker" aria-level="4" role="heading" id="h-note57"><span>Note</span></div>
                <div class="">
                  <p>This is the argument that will be used to resolve which overload is selected.</p>
                </div>
              </div>
            </li>

            <li>If <var>V</var> is <span class="esvalue">undefined</span>, and there is an entry in <var>S</var> whose list of <a class="dfnref" href="#dfn-optionality-value">optionality values</a> has “optional” at index <var>i</var>, then remove from <var>S</var> all other entries.</li>

            <li>Otherwise: if <var>V</var> is <span class="esvalue">null</span> or <span class="esvalue">undefined</span>, and there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable type</a></li>
                <li>a <a href="#idl-dictionary">dictionary type</a></li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> that
                  <a class="dfnref" href="#dfn-includes-a-nullable-type">includes a nullable type</a> or that has a <a href="#idl-dictionary">dictionary type</a> in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened members</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if <var>V</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, and there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li>an <a href="#idl-interface">interface type</a> that <var>V</var> implements</li>
                <li><a class="idltype" href="#idl-object">object</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of any of the above types</li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or a <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if <var>V</var> is a <a class="dfnref" href="#dfn-DOMException">DOMException</a> platform object and there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li><a class="idltype" href="#idl-DOMException">DOMException</a></li>
                <li><a class="idltype" href="#idl-Error">Error</a></li>
                <li><a class="idltype" href="#idl-object">object</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of either of the above types</li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if <var>V</var> is an <span class="estype">Error</span> object (that is, it has an [[ErrorData]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a>) and there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li><a class="idltype" href="#idl-Error">Error</a></li>
                <li><a class="idltype" href="#idl-object">object</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of either of the above types</li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if <var>V</var> is an object with an [[ArrayBufferData]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a> and there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li><a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a></li>
                <li><a class="idltype" href="#idl-object">object</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of either of the above types</li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if <var>V</var> is an object with a [[DataView]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a> and there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li><a class="idltype" href="#idl-DataView">DataView</a></li>
                <li><a class="idltype" href="#idl-object">object</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of either of the above types</li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if <var>V</var> is an object with a [[TypedArrayName]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a> and there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li>a <a class="dfnref" href="#dfn-typed-array-type">typed array type</a> whose name is equal to the value of <var>V</var>’s [[TypedArrayName]] <a class="external" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots">internal slot</a></li>
                <li><a class="idltype" href="#idl-object">object</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of either of the above types</li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a>(<var>V</var>) is true, and there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li>a <a class="dfnref" href="#dfn-callback-function">callback function</a> type</li>
                <li><a class="idltype" href="#idl-object">object</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of any of the above types</li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if <var>V</var> is a <span class="estype">Boolean</span> value, and there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li><a class="idltype" href="#idl-boolean">boolean</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> <a class="idltype" href="#idl-boolean">boolean</a></li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if <var>V</var> is a <span class="estype">Number</span> value, and there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li>a <a class="dfnref" href="#dfn-numeric-type">numeric type</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> <a class="dfnref" href="#dfn-numeric-type">numeric type</a></li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li>a <a class="dfnref" href="#dfn-string-type">string type</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> version of any of the above types</li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li>a <a class="dfnref" href="#dfn-numeric-type">numeric type</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> <a class="dfnref" href="#dfn-numeric-type">numeric type</a></li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if there is an entry in <var>S</var> that has one of the following types at position <var>i</var> of its type list,
              <ul>
                <li><a class="idltype" href="#idl-boolean">boolean</a></li>
                <li>a <a class="dfnref" href="#dfn-nullable-type">nullable</a> <a class="idltype" href="#idl-boolean">boolean</a></li>
                <li>a <a class="dfnref" href="#dfn-union-type">union type</a> or <a class="dfnref" href="#dfn-nullable-type">nullable</a> union type that has one of the above types in its <a class="dfnref" href="#dfn-flattened-union-member-types">flattened member types</a></li>
              </ul>
              then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise: if there is an entry in <var>S</var> that has <a class="idltype" href="#idl-any">any</a> at position <var>i</var> of its type list, then remove from <var>S</var> all other entries.
            </li>

            <li>
              Otherwise:
              <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
            </li>
          </ol>
        </li>

        <li>Let <var>callable</var> be the <a class="dfnref" href="#dfn-operation">operation</a> or <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> of the single entry in <var>S</var>.</li>

        <li>
          If <var>i</var> = <var>d</var> and <var>method</var> is not <span class="esvalue">undefined</span>, then
          <ol>
            <li>
              Let <var>V</var> be <var>arg</var><sub><var>i</var></sub>.
            </li>
            <li>
              Let <var>T</var> be the type at index <var>i</var> in the type list of the remaining entry in <var>S</var>.
            </li>
            <li>
              If <var>T</var> is a <a href="#idl-sequence">sequence type</a>, then append to <var>values</var> the result of
              <a class="dfnref" href="#create-sequence-from-iterable">creating a sequence
                  of type <var>T</var> from
                  <var>V</var> and <var>method</var></a>.
            </li>

            <li>
              Set <var>i</var> to <var>i</var> + 1.
            </li>
          </ol>
        </li>

        <li>
          While <var>i</var> &lt; <var>argcount</var>:
          <ol>
            <li>Let <var>V</var> be <var>arg</var><sub><var>i</var></sub>.</li>
            <li>Let <var>type</var> be the type at index <var>i</var> in the type list of the remaining entry in <var>S</var>.</li>
            <li>Let <var>optionality</var> be the value at index <var>i</var> in the list of <a class="dfnref" href="#dfn-optionality-value">optionality values</a> of the remaining entry in <var>S</var>.</li>
            <li>If <var>optionality</var> is “optional” and <var>V</var> is <span class="esvalue">undefined</span>, then:
              <ol>
                <li>If the argument at index <var>i</var> is declared with a <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a>, then append to <var>values</var> that default value.</li>
                <li>Otherwise, append to <var>values</var> the special value “missing”.</li>
              </ol>
            </li>
            <li>Otherwise, append to <var>values</var> the result of
              <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>V</var> to IDL type <var>type</var>.</li>
            <li>Set <var>i</var> to <var>i</var> + 1.</li>
          </ol>
        </li>

        <li>While <var>i</var> is less than the number of arguments <var>callable</var> is declared to take:
          <ol>
            <li>If <var>callable</var>’s argument at index <var>i</var> is declared with a <a class="dfnref" href="#dfn-optional-argument-default-value">default value</a>, then append to <var>values</var> that default value.</li>
            <li>Otherwise, if <var>callable</var>’s argument at index <var>i</var> is not variadic, then append to <var>values</var> the special value “missing”.</li>
            <li>Set <var>i</var> to <var>i</var> + 1.</li>
          </ol>
        </li>

        <li>Return the pair &lt;<var>callable</var>, <var>values</var>&gt;.</li>
      </ol>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note58"><span>Note</span></div>
        <div class="">
          <p>
            The overload resolution algorithm performs both the identification of which overloaded operation, constructor, etc. is being called, and the conversion of the ECMAScript argument values to their corresponding IDL values. Informally, it operates as follows.
          </p>
          <p>First, the selection of valid overloads is done by considering the number of ECMAScript arguments that were passed in to the function:</p>
          <ul>
            <li>If there are more arguments passed in than the longest overload argument list, then they are ignored.</li>
            <li>After ignoring these trailing arguments, only overloads that can take this exact number of arguments are considered. If there are none, then a <span class="estype">TypeError</span> is thrown.</li>
          </ul>
          <p>Once we have a set of possible overloads with the right number of arguments, the ECMAScript values are converted from left to right. The nature of the restrictions on overloading means that if we have multiple possible overloads at this point, then there will be one position in the argument list that will be used to distinguish which overload we will finally select; this is the <a class="dfnref" href="#dfn-distinguishing-argument-index">distinguishing
                argument index</a>.</p>
          <p>We first convert the arguments to the left of the distinguishing argument. (There is a requirement that an argument to the left of the distinguishing argument index has the same type as in the other overloads, at the same index.) Then we inspect the type of the ECMAScript value that is passed in at the distinguishing argument index to determine which IDL type it may correspond to. This allows us to select the final overload that will be invoked. If the value passed in is <span class="esvalue">undefined</span> and there is an overload with an optional argument at this position, then we will choose that overload. If there is no valid overload for the type of value passed in here, then we throw a <span class="estype">TypeError</span>. The inspection of the value at the distinguishing argument index does not have any side effects; the only side effects that come from running the overload resolution algorithm are those that come from converting the ECMAScript values to IDL values.</p>
          <p>At this point, we have determined which overload to use. We now convert the remaining arguments, from the distinguishing argument onwards, again ignoring any additional arguments that were ignored due to being passed after the last possible argument.</p>
          <p>When converting an optional argument’s ECMAScript value to its equivalent IDL value,
            <span class="esvalue">undefined</span> will be converted into the <a class="dfnref" href="#dfn-optional-argument-default-value">optional argument’s default value</a>, if it has one, or a special value “missing” otherwise.</p>
          <p>Optional arguments corresponding to a final, variadic argument do not treat
            <span class="esvalue">undefined</span> as a special “missing” value, however. The <span class="esvalue">undefined</span> value is converted to the type of variadic argument as would be done for a non-optional argument.</p>
        </div>
      </div>
    </section>

    <section id="es-interfaces" typeof="bibo:Chapter" resource="#es-interfaces" property="bibo:hasPart">
      <h3 id="h-es-interfaces" resource="#h-es-interfaces"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6 </span>Interfaces</span></h3>

      <p>
        For every <a class="dfnref" href="#dfn-interface">interface</a> that is <a class="dfnref" href="#dfn-exposed">exposed</a> in a given ECMAScript global environment and:
      </p>
      <ul>
        <li>is a <a class="dfnref" href="#dfn-callback-interface">callback interface</a> that has <a class="dfnref" href="#dfn-constant">constants</a> declared on it, or</li>
        <li>is a non-callback <a class="dfnref" href="#dfn-interface">interface</a> that is not declared with the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>,</li>
      </ul>
      <p>
        a corresponding property <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist on the ECMAScript environment's global object. The name of the property is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the interface, and its value is an object called the <dfn id="dfn-interface-object" data-dfn-type="dfn">interface object</dfn>.
      </p>
      <p>
        The property has the attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>. The characteristics of an interface object are described in <a href="#interface-object">section </a><a href="#interface-object">4.6.1 </a> .
      </p>

      <p>
        In addition, for every <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attribute on an <a class="dfnref" href="#dfn-exposed">exposed</a> interface, a corresponding property <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist on the ECMAScript global object. The name of the property is the
        <a class="sym" href="#prod-identifier">identifier</a> that occurs directly after the “
        <span class="sym">=</span>”, and its value is an object called a
        <dfn id="dfn-named-constructor" data-dfn-type="dfn">named constructor</dfn>, which allows construction of objects that implement the interface. The property has the attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>. The characteristics of a named constructor are described in
        <a href="#named-constructors">section </a><a href="#named-constructors">4.6.2 </a> .
      </p>

      <section id="interface-object" typeof="bibo:Chapter" resource="#interface-object" property="bibo:hasPart">
        <h4 id="h-interface-object" resource="#h-interface-object"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.1 </span>Interface object</span></h4>

        <p>
          The interface object for a given non-callback <a class="dfnref" href="#dfn-interface">interface</a> is a <a class="dfnref" href="#dfn-function-object">function object</a>. It has properties that correspond to the <a class="dfnref" href="#dfn-constant">constants</a> and
          <a class="dfnref" href="#dfn-static-operation">static operations</a> defined on that interface, as described in sections
          <a href="#es-constants" class="sec-ref"><span class="secno">4.6.6</span> <span class="sec-title">Constants</span></a><a href="#es-constants">4.6.6 </a> and
          <a href="#es-operations" class="sec-ref"><span class="secno">4.6.8</span> <span class="sec-title">Operations</span></a><a href="#es-operations">4.6.8 </a> .
        </p>
        <p>
          The <span class="prop">[[Prototype]]</span> internal property of an interface object for a non-callback interface is determined as follows:
        </p>
        <ol>
          <li>
            If the interface inherits from some other interface, the value of <span class="prop">[[Prototype]]</span> is the interface object for that other interface.
          </li>
          <li>
            If the interface doesn't inherit from any other interface, the value of <span class="prop">[[Prototype]]</span> is
            <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%FunctionPrototype%</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4).
          </li>
        </ol>
        <p>
          An interface object for a non-callback interface <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a property named “prototype” with attributes
          <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">false</span>&nbsp;}</span>
          whose value is an object called the <dfn id="dfn-interface-prototype-object" data-dfn-type="dfn">interface prototype object</dfn>. This object has properties that correspond to the <a class="dfnref" href="#dfn-regular-attribute">regular attributes</a> and
          <a class="dfnref" href="#dfn-regular-operation">regular operations</a> defined on the interface, and is described in more detail in
          <a href="#interface-prototype-object">section </a><a href="#interface-prototype-object">4.6.4 </a> .
        </p>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note59"><span>Note</span></div>
          <div class="">
            <p>Since an interface object for a non-callback interface is a <a class="dfnref" href="#dfn-function-object">function object</a> the <code>typeof</code> operator will return
              <span class="esvalue">"function"</span> when applied to such an interface object.</p>
          </div>
        </div>
        <p>
          The internal <span class="esprop">[[Prototype]]</span> property of an interface object for a callback interface <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the Object.prototype object.
        </p>
        <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>The <em>NodeFilter</em> implementations contradicts the paragraph above. This is discussed in <a href="https://github.com/heycam/webidl/issues/78">Issue 78</a>, <a href="https://github.com/heycam/webidl/issues/96">Issue 96</a> and for the <em>NodeFilter</em> specfic case: <a href="https://github.com/heycam/webidl/issues/83">Issue 83</a></p>
          </div>
        </div>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note60"><span>Note</span></div>
          <div class="">
            <p>Remember that interface objects for callback interfaces only exist if they have
              <a class="dfnref" href="#dfn-constant">constants</a> declared on them; when they do exist, they are not <a class="dfnref" href="#dfn-function-object">function objects</a>.</p>
          </div>
        </div>

        <section id="es-interface-call" typeof="bibo:Chapter" resource="#es-interface-call" property="bibo:hasPart">
          <h5 id="h-es-interface-call" resource="#h-es-interface-call"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.1.1 </span>Interface object [[Call]] method</span></h5>

          <div class="warning">
            <div class="warning-title marker"><span>Warning</span></div>
            <div class="">
              <p>The current text currently allows calling XMLHttpRequest() or DOMException() to create an object, but the consensus is toward mandating using <em>new</em>. See <a href="https://github.com/heycam/webidl/issues/62">Issue 62</a>.</p>
            </div>
          </div>
          <p>
            If the <a class="dfnref" href="#dfn-interface">interface</a> is declared with a
            <a class="xattr" href="#Constructor">[Constructor]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, then the <a class="dfnref" href="#dfn-interface-object">interface object</a> can be called as a function to create an object that implements that interface. Interfaces that do not have a constructor will throw an exception when called as a function.
          </p>
          <!--
              <p>
                then the interface object <span class='rfc2119'>MUST</span> have a
                <span class='prop'>[[\Call]]</span> internal property, which allows
                construction of objects that implement the given interface.
                -->
          <!--  The behavior
                of this <span class='prop'>[[\Construct]]</span> method is not
                necessarily the same as that described for <span class='estype'>Function</span> objects in
                section 13.2.2 of the
                <cite>ECMAScript Language Specification, 5th Edition</cite>
                [[!ECMA-262]], but it
                <span class='rfc2119'>MUST</span> return an object that implements
                the given interface if it returns normally (that is, if it does not
                throw an exception).
              </p>-->
          <p>
            The internal <span class="prop">[[Call]]</span> method of the interface object behaves as follows, assuming
            <var>arg</var><sub>0..<var>n</var>−1</sub> is the list of argument values passed to the constructor, and <var>I</var> is the <a class="dfnref" href="#dfn-interface">interface</a>:
          </p>
          <ol class="algorithm">
            <li>
              If <var>I</var> was not declared with a <a class="xattr" href="#Constructor">[Constructor]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, then
              <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
            </li>
            <li>
              Let <var>id</var> be the identifier of interface <var>I</var>.
            </li>
            <li>
              Initialize <var>S</var> to the
              <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> for constructors with <a class="dfnref" href="#dfn-identifier">identifier</a>
              <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
              <var>I</var> and with argument count <var>n</var>.
            </li>
            <li>
              Let &lt;<var>constructor</var>, <var>values</var>&gt; be the result of passing <var>S</var> and
              <var>arg</var><sub>0..<var>n</var>−1</sub> to the
              <a class="dfnref" href="#dfn-overload-resolution-algorithm">overload resolution algorithm</a>.
            </li>
            <li>
              Let <var>R</var> be the result of performing the actions listed in the description of
              <var>constructor</var> with <var>values</var> as the argument values.
            </li>
            <li>
              Return the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              <var>R</var> to an ECMAScript <a href="#idl-interface">interface type</a> value
              <var>I</var>.
            </li>
          </ol>
          <p>
            If the internal <span class="prop">[[Call]]</span> method of the <a class="dfnref" href="#dfn-interface-object">interface object</a> returns normally, then it <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> return an object that implements interface <var>I</var>. This object also <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be associated with the ECMAScript global environment associated with the interface object.
          </p>
          <p>
            Interface objects for non-callback interfaces <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a property named “length” with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
            whose value is a <span class="estype">Number</span>. If the <a class="xattr" href="#Constructor">[Constructor]</a>
            <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> does not appear on the interface definition, then the value is 0. Otherwise, the value is determined as follows:
          </p>
          <ol class="algorithm">
            <li>
              Let <var>id</var> be the identifier of interface <var>I</var>.
            </li>
            <li>
              Initialize <var>S</var> to the
              <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> for constructors with
              <a class="dfnref" href="#dfn-identifier">identifier</a>
              <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
              <var>I</var> and with argument count 0.
            </li>
            <li>
              Return the length of the shortest argument list of the entries in <var>S</var>.
            </li>
          </ol>
          <p>
            All interface objects <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a property named “name” with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
            whose value is the identifier of the corresponding interface.
          </p>
        </section>

        <section id="es-interface-hasinstance" typeof="bibo:Chapter" resource="#es-interface-hasinstance" property="bibo:hasPart">
          <h5 id="h-es-interface-hasinstance" resource="#h-es-interface-hasinstance"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.1.2 </span>Interface object [[HasInstance]] method</span></h5>
          <div class="warning">
            <div class="warning-title marker"><span>Warning</span></div>
            <div class="">
              <p>The <em>[[HasInstance]]</em> implementations are currently not interoperable and the definition needs update to ES6. This is discussed in <a href="https://github.com/heycam/webidl/issues/129">Issue 129</a></p>
            </div>
          </div>
          <p>
            The internal <span class="prop">[[HasInstance]]</span> method of every
            <a class="dfnref" href="#dfn-interface-object">interface object</a>
            <var>A</var> <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> behave as follows, assuming <var>V</var> is the object argument passed to <span class="prop">[[HasInstance]]</span>:
          </p>
          <ol class="algorithm">
            <li>If <var>V</var> is not an object, return <span class="esvalue">false</span>.</li>
            <li>Let <var>O</var> be the result of calling the <span class="prop">[[Get]]</span> method of <var>A</var> with property name “prototype”.</li>
            <li>If <var>O</var> is not an object, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a> exception.</li>
            <li>If <var>V</var> is a platform object that implements the interface for which <var>O</var> is the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>, return <span class="esvalue">true</span>.</li>
            <li>Repeat:
              <ol>
                <li>Set <var>V</var> to the value of the <span class="prop">[[Prototype]]</span> internal property of <var>V</var>.</li>
                <li>If <var>V</var> is <span class="esvalue">null</span>, return <span class="esvalue">false</span>.</li>
                <li>If <var>O</var> and <var>V</var> refer to the same object, return <span class="esvalue">true</span>.</li>
              </ol>
            </li>
          </ol>
        </section>
      </section>

      <section id="named-constructors" typeof="bibo:Chapter" resource="#named-constructors" property="bibo:hasPart">
        <h4 id="h-named-constructors" resource="#h-named-constructors"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.2 </span>Named constructors</span></h4>

        <p>
          A <a class="dfnref" href="#dfn-named-constructor">named constructor</a> that exists due to one or more
          <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> with a given <a class="dfnref" href="#dfn-identifier">identifier</a> is a <a class="dfnref" href="#dfn-function-object">function object</a>. It <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a <span class="prop">[[Call]]</span> internal property, which allows construction of objects that implement the interface on which the
          <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attributes appear. It behaves as follows, assuming
          <var>arg</var><sub>0..<var>n</var>−1</sub> is the list of argument values passed to the constructor, <var>id</var> is the identifier of the constructor specified in the extended attribute <a class="dfnref" href="#dfn-xattr-named-argument-list">named argument list</a>, and <var>I</var> is the <a class="dfnref" href="#dfn-interface">interface</a> on which the <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a> extended attribute appears:
        </p>
        <ol class="algorithm">
          <li>
            Initialize <var>S</var> to the
            <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> for constructors with <a class="dfnref" href="#dfn-identifier">identifier</a>
            <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
            <var>I</var> and with argument count <var>n</var>.
          </li>
          <li>
            Let &lt;<var>constructor</var>, <var>values</var>&gt; be the result of passing <var>S</var> and
            <var>arg</var><sub>0..<var>n</var>−1</sub> to the
            <a class="dfnref" href="#dfn-overload-resolution-algorithm">overload resolution algorithm</a>.
          </li>
          <li>
            Let <var>R</var> be the result of performing the actions listed in the description of
            <var>constructor</var> with <var>values</var> as the argument values.
          </li>
          <li>
            Return the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
            <var>R</var> to an ECMAScript
            <a href="#idl-interface">interface type</a> value
            <var>I</var>.
          </li>
        </ol>
        <p>
          If the internal <span class="prop">[[Call]]</span> method of the <a class="dfnref" href="#dfn-named-constructor">named constructor</a> returns normally, then it <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> return an object that implements interface <var>I</var>. This object also <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be associated with the ECMAScript global environment associated with the <a class="dfnref" href="#dfn-named-constructor">named constructor</a>.
        </p>
        <p>
          A named constructor <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a property named “length” with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
          whose value is a <span class="estype">Number</span> determined as follows:
        </p>
        <ol class="algorithm">
          <li>
            Initialize <var>S</var> to the
            <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> for constructors with
            <a class="dfnref" href="#dfn-identifier">identifier</a>
            <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
            <var>I</var> and with argument count 0.
          </li>
          <li>
            Return the length of the shortest argument list of the entries in <var>S</var>.
          </li>
        </ol>
        <p>
          A named constructor <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a property named “name” with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
          whose value is the identifier used for the named constructor.
        </p>
        <p>
          A named constructor <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> also have a property named “prototype” with attributes
          <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">false</span>&nbsp;}</span>
          whose value is the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> for the <a class="dfnref" href="#dfn-interface">interface</a> on which the
          <a class="xattr" href="#NamedConstructor">[NamedConstructor]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> appears.
        </p>
      </section>

      <section id="es-dictionary-constructors" typeof="bibo:Chapter" resource="#es-dictionary-constructors" property="bibo:hasPart">
        <h4 id="h-es-dictionary-constructors" resource="#h-es-dictionary-constructors"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.3 </span>Dictionary constructors</span></h4>

        <p>
          For every <a class="dfnref" href="#dfn-dictionary">dictionary</a> type that has one or more <a class="xattr" href="#Constructor">[Constructor]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> and which is <a class="dfnref" href="#dfn-exposed">exposed</a> in a given ECMAScript global environment, a corresponding property <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist on the ECMAScript environment's global object. The name of the property is the
          <a class="dfnref" href="#dfn-identifier">identifier</a> of the dictionary, and its value is a <a class="dfnref" href="#dfn-function-object">function object</a> called the <dfn id="dfn-dictionary-constructor" data-dfn-type="dfn">dictionary constructor</dfn>.
        </p>
        <p>
          The property has the attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>.
        </p>
        <p>
          The internal <span class="prop">[[Call]]</span> method of the interface object behaves as follows, assuming
          <var>arg</var><sub>0..<var>n</var>−1</sub> is the list of argument values passed to the constructor, and <var>D</var> is the <a class="dfnref" href="#dfn-dictionary">dictionary</a> type:
        </p>
        <ol class="algorithm">
          <li>
            Let <var>id</var> be the identifier of dictionary type <var>D</var>.
          </li>
          <li>
            Initialize <var>S</var> to the
            <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> for constructors with <a class="dfnref" href="#dfn-identifier">identifier</a>
            <var>id</var> on <a class="dfnref" href="#dfn-dictionary">dictionary</a> type
            <var>D</var> and with argument count <var>n</var>.
          </li>
          <li>
            Let &lt;<var>constructor</var>, <var>values</var>&gt; be the result of passing <var>S</var> and
            <var>arg</var><sub>0..<var>n</var>−1</sub> to the
            <a class="dfnref" href="#dfn-overload-resolution-algorithm">overload resolution algorithm</a>.
          </li>
          <li>
            Let <var>R</var> be the result of performing the actions listed in the description of
            <var>constructor</var> with <var>values</var> as the argument values.
          </li>
          <li>
            Return the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
            <var>R</var>, which is a dictionary value of type <var>D</var>, to an ECMAScript value.
          </li>
        </ol>
        <p>
          If the internal <span class="prop">[[Call]]</span> method of the <a class="dfnref" href="#dfn-named-constructor">named constructor</a> returns normally, then it <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> return an object that is associated with the ECMAScript global environment associated with the <a class="dfnref" href="#dfn-dictionary-constructor">dictionary constructor</a>.
        </p>
        <p>
          A dictionary constructor object <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a property named “length” with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
          whose value is a <span class="estype">Number</span> determined as follows:
        </p>
        <ol class="algorithm">
          <li>
            Let <var>id</var> be the identifier of the dictionary type.
          </li>
          <li>
            Initialize <var>S</var> to the
            <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> for constructors with
            <a class="dfnref" href="#dfn-identifier">identifier</a>
            <var>id</var> on dictionary <var>D</var> and with argument count 0.
          </li>
          <li>
            Return the length of the shortest argument list of the entries in <var>S</var>.
          </li>
        </ol>
        <p>
          A dictionary constructor object <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a property named “name” with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
          whose value is the identifier of the dictionary.
        </p>
      </section>

      <section id="interface-prototype-object" typeof="bibo:Chapter" resource="#interface-prototype-object" property="bibo:hasPart">
        <h4 id="h-interface-prototype-object" resource="#h-interface-prototype-object"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.4 </span>Interface prototype object</span></h4>

        <p>
          There <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist an
          <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype
                object</a> for every non-callback <a class="dfnref" href="#dfn-interface">interface</a> defined, regardless of whether the interface was declared with the
          <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>. The interface prototype object for a particular interface has properties that correspond to the <a class="dfnref" href="#dfn-regular-attribute">regular attributes</a> and <a class="dfnref" href="#dfn-regular-operation">regular operations</a> defined on that interface. These properties are described in more detail in sections <a href="#es-attributes" class="sec-ref"><span class="secno">4.6.7</span> <span class="sec-title">Attributes</span></a><a href="#es-attributes">4.6.7 </a> and
          <a href="#es-operations" class="sec-ref"><span class="secno">4.6.8</span> <span class="sec-title">Operations</span></a><a href="#es-operations">4.6.8 </a> .
        </p>
        <p>
          As with the <a class="dfnref" href="#dfn-interface-object">interface object</a>, the interface prototype object also has properties that correspond to the
          <a class="dfnref" href="#dfn-constant">constants</a> defined on that interface, described in <a href="#es-operations">section
                </a><a href="#es-operations">4.6.8 </a> .
        </p>
        <p>
          If the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a> extended attribute was not specified on the interface, then the interface prototype object <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> also have a property named “constructor” with attributes
          <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span> whose value is a reference to the interface object for the interface.
        </p>

        <p>
          The <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> for a given interface <var>A</var> <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have an internal
          <span class="prop">[[Prototype]]</span> property whose value is returned from the following steps:
        </p>
        <ol class="algorithm">
          <li>If <var>A</var> is declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
            <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, and <var>A</var>
            <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>, then return the <a class="dfnref" href="#dfn-named-properties-object">named properties object</a> for <var>A</var>, as defined in <a href="#named-properties-object">section </a><a href="#named-properties-object">4.6.5 </a> .
          </li>
          <li>Otherwise, if <var>A</var> is declared to inherit from another interface, then return the
            <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> for the inherited interface.</li>

          <li>Otherwise, return <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%ObjectPrototype%</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4). ([
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>], section 15.2.4).</li>
        </ol>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note61"><span>Note</span></div>
          <div class="">
            <p>
              The <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> of an <a class="dfnref" href="#dfn-interface">interface</a> that is defined with the <a class="xattr" href="#NoInterfaceObject">[NoInterfaceObject]</a>
              <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> will be accessible if the interface is used as a
              <a class="dfnref" href="#dfn-supplemental-interface">non-supplemental interface</a>. For example, with the following IDL:
            </p>
            <div class="block">
              <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
              <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">[NoInterfaceObject]
interface Foo {
};

partial interface Window {
  attribute Foo foo;
};</code></pre></div>
            </div>
            <p>
              it is not possible to access the interface prototype object through the <a class="dfnref" href="#dfn-interface-object">interface object</a> (since it does not exist as <code>window.Foo</code>). However, an instance of <span class="idltype">Foo</span> can expose the interface prototype object by gettings its internal <span class="prop">[[Prototype]]</span> property value – <code>Object.getPrototypeOf(window.foo)</code> in this example.
            </p>
            <p>
              If the interface is used solely as a
              <a class="dfnref" href="#dfn-supplemental-interface">supplemental interface</a>, then there will be no way to access its interface prototype object, since no object will have the interface prototype object as its internal
              <span class="prop">[[Prototype]]</span> property value. In such cases, it is an acceptable optimization for this object not to exist.
            </p>
          </div>
        </div>


        <p>
          The <a class="dfnref" href="#dfn-class-string">class string</a> of an
          <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> is the concatenation of the <a class="dfnref" href="#dfn-interface">interface</a>’s
          <a class="dfnref" href="#dfn-identifier">identifier</a> and the string “Prototype”.
        </p>
      </section>

      <section id="named-properties-object" typeof="bibo:Chapter" resource="#named-properties-object" property="bibo:hasPart">
        <h4 id="h-named-properties-object" resource="#h-named-properties-object"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.5 </span>Named properties object</span></h4>

        <p>
          For every <a class="dfnref" href="#dfn-interface">interface</a> declared with the
          <a class="xattr" href="#Global">[Global]</a> or
          <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> that <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>, there <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist an object known as the
          <dfn id="dfn-named-properties-object" data-dfn-type="dfn">named properties object</dfn> for that interface.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-named-properties-object">named properties object</a> for a given interface <var>A</var> <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have an internal
          <span class="prop">[[Prototype]]</span> property whose value is returned from the following steps:
        </p>
        <ol class="algorithm">
          <li>If <var>A</var> is declared to inherit from another interface, then return the
            <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> for the inherited interface.</li>

          <li>Otherwise, return <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%ObjectPrototype%</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4).</li>
        </ol>
        <p>
          The <a class="dfnref" href="#dfn-class-string">class string</a> of a
          <a class="dfnref" href="#dfn-named-properties-object">named properties object</a> is the concatenation of the <a class="dfnref" href="#dfn-interface">interface</a>’s
          <a class="dfnref" href="#dfn-identifier">identifier</a> and the string “Properties”.
        </p>

        <section id="named-properties-object-getownproperty" typeof="bibo:Chapter" resource="#named-properties-object-getownproperty" property="bibo:hasPart">
          <h5 id="h-named-properties-object-getownproperty" resource="#h-named-properties-object-getownproperty"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.5.1 </span>Named properties object [[GetOwnProperty]] method</span></h5>

          <p>
            The internal <span class="prop">[[GetOwnProperty]]</span> method of every
            <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>
            <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> behave as follows when called with object <var>O</var> and property name <var>P</var>:
          </p>

          <ol class="algorithm">
            <li>Let <var>A</var> be the <a class="dfnref" href="#dfn-interface">interface</a> for the
              <a class="dfnref" href="#dfn-named-properties-object">named properties object</a> <var>O</var>.</li>
            <li>Let <var>object</var> be the sole object from <var>O</var>’s ECMAScript global environment that implements <var>A</var>.
              <div class="note">
                <div class="note-title marker" aria-level="6" role="heading" id="h-note62"><span>Note</span></div>
                <div class="">
                  <p>For example, if the <a class="dfnref" href="#dfn-interface">interface</a> is the <span class="idltype">Window</span> interface as defined in HTML5 ([<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>], section 5.2), then the sole object will be this global environment’s window object.</p>
                </div>
              </div>
            </li>
            <li>If the result of running the <a class="dfnref" href="#dfn-named-property-visibility">named property visibility algorithm</a> with property name <var>P</var> and object <var>object</var> is true, then:
              <ol>
                <li>Let <var>operation</var> be the operation used to declare the named property getter.</li>

                <li>Let <var>value</var> be an uninitialized variable.</li>
                <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then set <var>value</var> to the result of performing the steps listed in the interface description to
                  <a class="dfnref" href="#dfn-determine-the-value-of-a-named-property">determine the value of a named property</a> with <var>P</var> as the name.</li>
                <li>Otherwise, <var>operation</var> was defined with an identifier. Set <var>value</var> to the result of performing the steps listed in the description of <var>operation</var> with <var>P</var> as the only argument value.</li>

                <li>Let <var>desc</var> be a newly created <a class="external" href="https://tc39.github.io/ecma262/#sec-property-descriptor-specification-type">Property Descriptor</a> ( [
                  <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.2.4) with no fields.</li>
                <li>Set <var>desc</var>.<span class="prop">[[Value]]</span> to the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                  <var>value</var> to an ECMAScript value.</li>
                <li>If the named property is defined to be <a class="dfnref" href="#dfn-unenumerable">unenumerable</a>, then set <var>desc</var>.<span class="prop">[[Enumerable]]</span> to <span class="esvalue">false</span>, otherwise set it to <span class="esvalue">true</span>.</li>
                <li>Set <var>desc</var>.<span class="prop">[[Writable]]</span> to <span class="esvalue">true</span> and
                  <var>desc</var>.<span class="prop">[[Configurable]]</span> to <span class="esvalue">true</span>.</li>
                <li>Return <var>desc</var>.</li>
              </ol>
            </li>

            <li>Return the result of calling the <a class="external" href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots-getownproperty-p">default <span class="prop">[[GetOwnProperty]]</span> internal method</a> ( [
              <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 9.1.5) on <var>O</var> passing <var>P</var> as the argument.</li>
          </ol>
        </section>

        <section id="named-properties-object-defineownproperty" typeof="bibo:Chapter" resource="#named-properties-object-defineownproperty" property="bibo:hasPart">
          <h5 id="h-named-properties-object-defineownproperty" resource="#h-named-properties-object-defineownproperty"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.5.2 </span>Named properties object [[DefineOwnProperty]] method</span></h5>

          <p>
            When the internal <span class="prop">[[DefineOwnProperty]]</span> method of a
            <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>
            <var>O</var> is called with property key <var>P</var> and
            <a class="external" href="https://tc39.github.io/ecma262/#sec-property-descriptor-specification-type">Property Descriptor</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.2.4) <var>Desc</var>, the following steps
            <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be taken:
          </p>

          <ol class="algorithm">
            <li>Return <span class="esvalue">false</span>.</li>
          </ol>
        </section>

        <section id="named-properties-object-delete" typeof="bibo:Chapter" resource="#named-properties-object-delete" property="bibo:hasPart">
          <h5 id="h-named-properties-object-delete" resource="#h-named-properties-object-delete"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.5.3 </span>Named properties object [[Delete]] method</span></h5>

          <p>
            The internal <span class="prop">[[Delete]]</span> method of every
            <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>
            <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> behave as follows when called with object <var>O</var> and property name <var>P</var>.
          </p>

          <ol class="algorithm">
            <li>Return <span class="esvalue">false</span>.</li>
          </ol>
        </section>
      </section>

      <!--
          <div id='mixin-prototype' class='section'>
            <h4>Mixin prototype objects</h4>

            <p>
              If an object implements any interfaces other than those as declared in the IDL,
              then these interfaces are called <dfn id='dfn-mixin-interface'>mixin interfaces</dfn>
              for the object.  The <dfn id='dfn-mixin-prototype-object'>mixin prototype object</dfn>
              for a given object <var>O</var> is an object as follows:
            </p>
            <ul>
              <li>
                The object has properties that are the union of all properties that initially exist on <var>O</var>’s
                <a class='dfnref' href='#dfn-mixin-interface'>mixin interfaces</a>’
                <a class='dfnref' href='#dfn-interface-prototype-object'>interface prototype objects</a>.
                If there are multiple properties with the same name,
                then it is undefined which of those properties ends up on
                the mixin prototype object.
              </li>
              <li>
                The object’s internal <span class='prop'>[[\Prototype]]</span> property
                value is a reference to the <a class='dfnref' href='#dfn-interface-prototype-object'>interface prototype object</a>
                for the most derived non-mixin interface that <var>O</var> implements,
                or, if the object implements no non-mixin interfaces, a reference to the
                <span class='estype'>Object</span> prototype object
                ([[!ECMA-262]], section 15.2.4).</li>
            </ul>
            <p>
              If two objects have the same set of <a class='dfnref' href='#dfn-mixin-interface'>mixin interfaces</a>,
              then their <a class='dfnref' href='#dfn-mixin-prototype-object'>mixin prototype objects</a>
              <span class='rfc2119'>MUST</span> be the same object.
            </p>

            XXX unfinished example
            <div class='example'>
              <p>
                The following example illustrates a case when a <a class='dfnref' href='#dfn-mixin-protoype-object'>mixin prototype object</a>
                will exist.  Consider the following IDL:
              </p>
              <x:codeblock language='idl'>interface Animal {
  DOMString latinName;
};

interface Human {
  DOMString name;
};

interface LivingHuman {
  unsigned short age;
};

interface
            </div>
          </div>
          -->

      <section id="es-constants" typeof="bibo:Chapter" resource="#es-constants" property="bibo:hasPart">
        <h4 id="h-es-constants" resource="#h-es-constants"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.6 </span>Constants</span></h4>

        <p>
          For each <a class="dfnref" href="#dfn-exposed">exposed</a>
          <a class="dfnref" href="#dfn-constant">constant</a> defined on an <a class="dfnref" href="#dfn-interface">interface</a> <var>A</var>, there
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be a corresponding property. The property has the following characteristics:
        </p>
        <ul>
          <li>The name of the property is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-constant">constant</a>.</li>
          <li>
            The location of the property is determined as follows:
            <ul>
              <li>If the interface was declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute, then the property exists on the single object that implements the interface.</li>
              <li>Otherwise, if the interface is a <a class="dfnref" href="#dfn-consequential-interfaces">consequential interface</a> of a <a class="xattr" href="#Global">[Global]</a>- or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> annotated interface, then the property exists on the single object that implements the <a class="xattr" href="#Global">[Global]</a>- or
                <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface as well as on the consequential interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
              <li>Otherwise, the property exists solely on the interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
            </ul>
          </li>
          <li>The value of the property is that which is obtained by <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> the <a class="dfnref" href="#dfn-constant">constant</a>’s IDL value to an ECMAScript value.</li>
          <li>The property has attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">false</span>&nbsp;}</span>.</li>
        </ul>
        <p>
          In addition, a property with the same characteristics <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist on the <a class="dfnref" href="#dfn-interface-object">interface object</a>, if that object exists.
        </p>
      </section>

      <section id="es-attributes" typeof="bibo:Chapter" resource="#es-attributes" property="bibo:hasPart">
        <h4 id="h-es-attributes" resource="#h-es-attributes"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.7 </span>Attributes</span></h4>

        <p>
          For each <a class="dfnref" href="#dfn-exposed">exposed</a>
          <a class="dfnref" href="#dfn-attribute">attribute</a> of the
          <a class="dfnref" href="#dfn-interface">interface</a>, whether it was declared on the interface itself or one of its
          <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>, there <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist a corresponding property. The characteristics of this property are as follows:
        </p>
        <ul>
          <li>
            The name of the property is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-attribute">attribute</a>.
          </li>
          <li>
            The location of the property is determined as follows:
            <ul>
              <li>If the attribute is a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>, then there is a single corresponding property and it exists on the interface’s <a class="dfnref" href="#dfn-interface-object">interface object</a>.</li>
              <li>Otherwise, if the attribute is <a class="dfnref" href="#dfn-unforgeable-on-an-interface">unforgeable</a> on the interface or if the interface was declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute, then the property exists on every object that implements the interface.</li>
              <li>Otherwise, if the interface is a <a class="dfnref" href="#dfn-consequential-interfaces">consequential interface</a> of a <a class="xattr" href="#Global">[Global]</a>- or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface, then the property exists on the single object that implements the <a class="xattr" href="#Global">[Global]</a>- or
                <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface as well as on the consequential interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
              <li>Otherwise, the property exists solely on the interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
            </ul>
          </li>
          <li>
            The property has attributes <span class="descriptor">{&nbsp;[[Get]]: <var>G</var>, [[Set]]: <var>S</var>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <var>configurable</var>&nbsp;}</span>, where:
            <ul>
              <li><var>configurable</var> is <span class="esvalue">false</span> if the attribute was declared with the <a class="xattr" href="#Unforgeable">[Unforgeable]</a> extended attribute and <span class="esvalue">true</span> otherwise;</li>
              <li><var>G</var> is the <a class="dfnref" href="#dfn-attribute-getter">attribute getter</a>, defined below; and</li>
              <li><var>S</var> is the <a class="dfnref" href="#dfn-attribute-setter">attribute setter</a>, also defined below.</li>
            </ul>
          </li>
          <li>
            The <dfn id="dfn-attribute-getter" data-dfn-type="dfn">attribute getter</dfn> is a <span class="estype">Function</span> object whose behavior when invoked is as follows:
            <ol class="algorithm">
              <li>Let <var>idlValue</var> be an IDL value determined as follows.</li>
              <li>If the <a class="dfnref" href="#dfn-attribute">attribute</a> is a <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a>, then:
                <ol>
                  <li>Let <var>I</var> be the <a class="dfnref" href="#dfn-interface">interface</a> whose <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> this property corresponding to the attribute appears on.
                    <div class="note">
                      <div class="note-title marker" aria-level="5" role="heading" id="h-note63"><span>Note</span></div>
                      <div class="">
                        <p>This means that even if an implements statement was used to make an attribute available on the interface, <var>I</var> is the interface on the left hand side of the implements statement, and not the one that the attribute was originally declared on.</p>
                      </div>
                    </div>
                  </li>
                  <li>Let <var>O</var> be the <strong>this</strong> value.</li>
                  <li>If <var>O</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, then <a class="dfnref" href="#dfn-perform-a-security-check">perform a security check</a>, passing:
                    <ul>
                      <li>the platform object <var>O</var>,</li>
                      <li>the ECMAScript global environment associated with this <span class="estype">Function</span> that implements the <a class="dfnref" href="#dfn-attribute-getter">attribute getter</a>,</li>
                      <li>the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-attribute">attribute</a>, and</li>
                      <li>the type “getter”.</li>
                    </ul>
                  </li>
                  <li>If <var>O</var> is not a <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements <var>I</var>, then:
                    <ol>
                      <li>If the <a class="dfnref" href="#dfn-attribute">attribute</a> was specified with the
                        <a class="xattr" href="#LenientThis">[LenientThis]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, then return <span class="esvalue">undefined</span>.</li>
                      <li>Otherwise, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                    </ol>
                  </li>
                  <li>
                    Set <var>idlValue</var> to be the result of performing the actions listed in the description of the attribute that occur when getting (or those listed in the description of the inherited attribute, if this attribute is declared to
                    <a class="dfnref" href="#dfn-inherit-getter">inherit its getter</a>), with <var>O</var> as the object.
                  </li>
                </ol>
              </li>
              <li>Otherwise, the attribute is a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>. Set <var>idlValue</var> to be the result of performing the actions listed in the description of the attribute that occur when getting.</li>
              <li>
                Let <var>V</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                <var>idlValue</var> to an ECMAScript value.
              </li>
              <li>
                Return <var>V</var>.
              </li>
            </ol>
            <p>The value of the <span class="estype">Function</span> object’s “length” property is the <span class="estype">Number</span> value <span class="esvalue">0</span>.</p>
            <p>The value of the <span class="estype">Function</span> object’s “name” property is a <span class="estype">String</span> whose value is the concatenation of “get ” and the identifier of the attribute.</p>
          </li>
          <li>
            The <dfn id="dfn-attribute-setter" data-dfn-type="dfn">attribute setter</dfn> is <span class="esvalue">undefined</span> if the attribute is declared <code>readonly</code> and has neither a
            <a class="xattr" href="#PutForwards">[PutForwards]</a> nor a <a class="xattr" href="#Replaceable">[Replaceable]</a>
            <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> declared on it. Otherwise, it is a <span class="estype">Function</span> object whose behavior when invoked is as follows:
            <ol class="algorithm">
              <li>If no arguments were passed to the <span class="estype">Function</span>, then
                <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
              <li>Let <var>V</var> be the value of the first argument passed to the <span class="estype">Function</span>.</li>
              <li>If the <a class="dfnref" href="#dfn-attribute">attribute</a> is a <a class="dfnref" href="#dfn-regular-attribute">regular attribute</a>, then:
                <ol>
                  <li>Let <var>I</var> be the <a class="dfnref" href="#dfn-interface">interface</a> whose <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> this property corresponding to the attribute appears on.</li>
                  <li>Let <var>O</var> be the <strong>this</strong> value.</li>
                  <li>If <var>O</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, then <a class="dfnref" href="#dfn-perform-a-security-check">perform a security check</a>, passing:
                    <ul>
                      <li>the platform object <var>O</var>,</li>
                      <li>the ECMAScript global environment associated with this <span class="estype">Function</span> that implements the <a class="dfnref" href="#dfn-attribute-setter">attribute setter</a>,</li>
                      <li>the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-attribute">attribute</a>, and</li>
                      <li>the type “setter”.</li>
                    </ul>
                  </li>
                  <li>Let <var>validThis</var> be <span class="esvalue">true</span> if <var>O</var> is a
                    <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements <var>I</var>, or
                    <span class="esvalue">false</span> otherwise.</li>
                  <li>If <var>validThis</var> is <span class="esvalue">false</span> and the
                    <a class="dfnref" href="#dfn-attribute">attribute</a> was not specified with the
                    <a class="xattr" href="#LenientThis">[LenientThis]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                  <li>If the attribute is declared with a <a class="xattr" href="#Replaceable">[Replaceable]</a> extended attribute, then:
                    <ol>
                      <li>Let <var>P</var> be the identifier of the attribute.</li>
                      <li>Call the <span class="prop">[[DefineOwnProperty]]</span> method of <var>O</var> passing property name <var>P</var>, Property Descriptor
                        <span class="descriptor">{&nbsp;[[Value]]: <var>V</var>, [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>, and <b>false</b>.</li>
                      <li>Return <span class="esvalue">undefined</span>.</li>
                    </ol>
                  </li>
                  <li>If <var>validThis</var> is <span class="esvalue">false</span>, then return <span class="esvalue">undefined</span>.</li>
                  <li>If the attribute is declared with a <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute, then:
                    <ol>
                      <li>Let <var>Q</var> be the result of calling the <span class="prop">[[Get]]</span> method on <var>O</var> using the identifier of the attribute as the property name.</li>
                      <li>If <var>Q</var> is not an object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                      <li>Let <var>A</var> be the attribute identified by the <a class="xattr" href="#PutForwards">[PutForwards]</a> extended attribute.</li>
                      <li>Call the <span class="prop">[[Put]]</span> method on <var>Q</var> using the identifier of <var>A</var> as the property name and <var>V</var> as the value.</li>
                      <li>Return <span class="esvalue">undefined</span>.</li>
                    </ol>
                  </li>
                </ol>
              </li>
              <li>Let <var>idlValue</var> be an IDL value determined as follows:
                <ul>
                  <li>If the type of the attribute is an <a class="dfnref" href="#dfn-enumeration">enumeration</a>, then:
                    <ol>
                      <li>Let <var>S</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a>(<var>V</var>).</li>
                      <li>If <var>S</var> is not one of the <a class="dfnref" href="#dfn-enumeration-value">enumeration’s values</a>, then return <span class="esvalue">undefined</span>.</li>
                      <li>The value of <var>idlValue</var> is the enumeration value equal to <var>S</var>.</li>
                    </ol>
                  </li>
                  <li>Otherwise, the type of the attribute is not an <a class="dfnref" href="#dfn-enumeration">enumeration</a>. The value of <var>idlValue</var> is the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
                    <var>V</var> to an IDL value.</li>
                </ul>
              </li>
              <li>If the attribute is a regular attribute, then perform the actions listed in the description of the attribute that occur when setting, with <var>O</var> as the object and <var>idlValue</var> as the value.</li>
              <li>Otherwise, the attribute is a <a class="dfnref" href="#dfn-static-attribute">static attribute</a>. Perform the actions listed in the description of the attribute that occur when setting with <var>idlValue</var> as the value.</li>
              <li>Return <span class="esvalue">undefined</span>.</li>
            </ol>
            <p>The value of the <span class="estype">Function</span> object’s “length” property is the <span class="estype">Number</span> value <span class="esvalue">1</span>.</p>
            <p>The value of the <span class="estype">Function</span> object’s “name” property is a <span class="estype">String</span> whose value is the concatenation of “set ” and the identifier of the attribute.</p>
          </li>
        </ul>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note64"><span>Note</span></div>
          <div class="">
            <p>
              Although there is only a single property for an IDL attribute, since accessor property getters and setters are passed a <span class="estype">this</span> value for the object on which property corresponding to the IDL attribute is accessed, they are able to expose instance-specific data.
            </p>
          </div>
        </div>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note65"><span>Note</span></div>
          <div class="">
            <p>
              Note that attempting to assign to a property corresponding to a
              <a class="dfnref" href="#dfn-read-only">read only</a> <a class="dfnref" href="#dfn-attribute">attribute</a> results in different behavior depending on whether the script doing so is in strict mode. When in strict mode, such an assignment will result in a <span class="estype">TypeError</span> being thrown. When not in strict mode, the assignment attempt will be ignored.
            </p>
          </div>
        </div>
      </section>

      <section id="es-operations" typeof="bibo:Chapter" resource="#es-operations" property="bibo:hasPart">
        <h4 id="h-es-operations" resource="#h-es-operations"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.8 </span>Operations</span></h4>

        <p>
          For each unique <a class="dfnref" href="#dfn-identifier">identifier</a> of an <a class="dfnref" href="#dfn-exposed">exposed</a> <a class="dfnref" href="#dfn-operation">operation</a> defined on the <a class="dfnref" href="#dfn-interface">interface</a>, there
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist a corresponding property, unless the <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> for that <a class="dfnref" href="#dfn-identifier">identifier</a> and <a class="dfnref" href="#dfn-operation">operation</a> and with an argument count of 0 has no entries. The characteristics of this property are as follows:
        </p>
        <ul>
          <li>The name of the property is the <a class="dfnref" href="#dfn-identifier">identifier</a>.</li>
          <li>
            The location of the property is determined as follows:
            <ul>
              <li>If the operation is <a class="dfnref" href="#dfn-static-operation">static</a>, then the property exists on the <a class="dfnref" href="#dfn-interface-object">interface object</a>.</li>
              <li>Otherwise, if the operation is <a class="dfnref" href="#dfn-unforgeable-on-an-interface">unforgeable</a> on the interface or if the interface was declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute, then the property exists on every object that implements the interface.</li>
              <li>Otherwise, if the interface is a <a class="dfnref" href="#dfn-consequential-interfaces">consequential interface</a> of a <a class="xattr" href="#Global">[Global]</a>- or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface, then the property exists on the single object that implements the <a class="xattr" href="#Global">[Global]</a>- or
                <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface as well as on the consequential interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
              <li>Otherwise, the property exists solely on the interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
            </ul>
          </li>
          <li>
            The property has attributes
            <span class="descriptor">{&nbsp;[[Writable]]: <var>B</var>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <var>B</var>&nbsp;}</span>, where <var>B</var> is <span class="esvalue">false</span> if the operation is
            <a class="dfnref" href="#dfn-unforgeable-on-an-interface">unforgeable</a> on the interface, and <span class="esvalue">true</span> otherwise.
          </li>
          <li>
            The value of the property is a <span class="estype">Function</span> object whose behavior is as follows, assuming <var>id</var> is the
            <a class="dfnref" href="#dfn-identifier">identifier</a>,
            <var>arg</var><sub>0..<var>n</var>−1</sub> is the list of argument values passed to the function:
            <ol class="algorithm">
              <li>
                Try running the following steps:
                <ol>
                  <li>
                    Let <var>I</var> be the <a class="dfnref" href="#dfn-interface">interface</a> whose <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> (or <a class="dfnref" href="#dfn-interface-object">interface object</a>, for a static operation) this property corresponding to the operation appears on.
                    <div class="note">
                      <div class="note-title marker" aria-level="5" role="heading" id="h-note66"><span>Note</span></div>
                      <div class="">
                        <p>This means that even if an implements statement was used to make an operation available on the interface, <var>I</var> is the interface on the left hand side of the implements statement, and not the one that the operation was originally declared on.</p>
                      </div>
                    </div>
                  </li>
                  <li>
                    Let <var>O</var> be a value determined as follows:
                    <ul>
                      <li>
                        If the operation is a static operation, then <var>O</var> is <span class="esvalue">null</span>.
                      </li>

                      <li>
                        Otherwise, if the <span class="esvalue">this</span> value is not <span class="esvalue">null</span>, then <var>O</var> is the <span class="esvalue">this</span> value.
                      </li>
                      <li>
                        Otherwise, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
                      </li>
                    </ul>
                  </li>
                  <li>If <var>O</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, then <a class="dfnref" href="#dfn-perform-a-security-check">perform a security check</a>, passing:
                    <ul>
                      <li>the platform object <var>O</var>,</li>
                      <li>the ECMAScript global environment associated with this <span class="estype">Function</span> that implements the <a class="dfnref" href="#dfn-operation">operation</a>,</li>
                      <li>the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-operation">operation</a>, and</li>
                      <li>the type “method”.</li>
                    </ul>
                  </li>
                  <li>
                    If <var>O</var> is not <span class="esvalue">null</span> and is also not a <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements interface <var>I</var>, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.
                  </li>
                  <li>
                    Initialize <var>S</var> to the
                    <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> for <a class="dfnref" href="#dfn-regular-operation">regular operations</a> (if the operation is a regular operation) or for
                    <a class="dfnref" href="#dfn-static-operation">static operations</a> (if the operation is a static operation) with
                    <a class="dfnref" href="#dfn-identifier">identifier</a>
                    <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
                    <var>I</var> and with argument count <var>n</var>.
                  </li>
                  <li>
                    Let &lt;<var>operation</var>, <var>values</var>&gt; be the result of passing <var>S</var> and
                    <var>arg</var><sub>0..<var>n</var>−1</sub> to the
                    <a class="dfnref" href="#dfn-overload-resolution-algorithm">overload resolution algorithm</a>.
                  </li>
                  <li>
                    Let <var>R</var> be the result of performing (on <var>O</var>, if the operation is not a static operation) the actions listed in the description of
                    <var>operation</var> with <var>values</var> as the argument values.
                  </li>
                  <li>
                    Return the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                    <var>R</var> to an ECMAScript value of the type <var>op</var> is declared to return.
                  </li>
                </ol>
                And then, if an exception was thrown:
                <ol>
                  <li>If the operation has a <a class="dfnref" href="#dfn-return-type">return type</a> that is a <a href="#idl-promise">promise type</a>, then:
                    <ol>
                      <li>Let <var>reject</var> be the initial value of <a class="nocite external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%Promise%</a>.reject.</li>
                      <li>Return the result of calling <var>reject</var> with <a class="nocite external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%Promise%</a> as the
                        <span class="esvalue">this</span> object and the exception as the single argument value.</li>
                    </ol>
                  </li>
                  <li>Otherwise, end these steps and allow the exception to propagate.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>
            The value of the <span class="estype">Function</span> object’s “length” property is a <span class="estype">Number</span> determined as follows:
            <ol class="algorithm">
              <li>
                Let <var>S</var> be the
                <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> for <a class="dfnref" href="#dfn-regular-operation">regular operations</a> (if the operation is a regular operation) or for
                <a class="dfnref" href="#dfn-static-operation">static operations</a> (if the operation is a static operation) with
                <a class="dfnref" href="#dfn-identifier">identifier</a>
                <var>id</var> on <a class="dfnref" href="#dfn-interface">interface</a>
                <var>I</var> and with argument count 0.
              </li>
              <li>
                Return the length of the shortest argument list of the entries in <var>S</var>.
              </li>
            </ol>
          </li>
          <li>The value of the <span class="estype">Function</span> object’s “name” property is a <span class="estype">String</span> whose value is the identifier of the operation.</li>
        </ul>

        <section id="es-stringifier" typeof="bibo:Chapter" resource="#es-stringifier" property="bibo:hasPart">
          <h5 id="h-es-stringifier" resource="#h-es-stringifier"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.8.1 </span>Stringifiers</span></h5>

          <p>
            If the <a class="dfnref" href="#dfn-interface">interface</a> has an <a class="dfnref" href="#dfn-exposed">exposed</a>
            <a class="dfnref" href="#dfn-stringifier">stringifier</a>, then there <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist a property with the following characteristics:
          </p>
          <ul>
            <li>The name of the property is “toString”.</li>
            <li>If the <a class="dfnref" href="#dfn-stringifier">stringifier</a> is
              <a class="dfnref" href="#dfn-unforgeable-on-an-interface">unforgeable</a> on the interface or if the interface was declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute, then the property exists on every object that implements the interface. Otherwise, the property exists on the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
            <li>The property has attributes <span class="descriptor">{&nbsp;[[Writable]]: <var>B</var>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <var>B</var>&nbsp;}</span>, where <var>B</var> is <span class="esvalue">false</span> if the stringifier is
              <a class="dfnref" href="#dfn-unforgeable-on-an-interface">unforgeable</a> on the interface, and <span class="esvalue">true</span> otherwise.</li>
            <li>
              <p>The value of the property is a <span class="estype">Function</span> object, which behaves as follows:</p>
              <ol class="algorithm">
                <li>Let <var>O</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-toobject">ToObject</a> on the <span class="esvalue">this</span> value.</li>
                <li>If <var>O</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, then <a class="dfnref" href="#dfn-perform-a-security-check">perform a security check</a>, passing:
                  <ul>
                    <li>the platform object <var>O</var>,</li>
                    <li>the ECMAScript global environment associated with this <span class="estype">Function</span> that implements the <a class="dfnref" href="#dfn-stringifier">stringifier</a>,</li>
                    <li>the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-stringifier">stringifier</a>, and</li>
                    <li>the type “method”.</li>
                  </ul>
                </li>
                <li>If <var>O</var> is not an object that implements the <a class="dfnref" href="#dfn-interface">interface</a> on which the stringifier was declared, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
                <li>Let <var>V</var> be an uninitialized variable.</li>
                <li>Depending on where <code>stringifier</code> was specified:
                  <dl class="switch">
                    <dt>on an <a class="dfnref" href="#dfn-attribute">attribute</a></dt>
                    <dd>Set <var>V</var> to the result of performing the actions listed in the description of the attribute that occur when getting (or those listed in the description of the inherited attribute, if this attribute is declared to
                      <a class="dfnref" href="#dfn-inherit-getter">inherit its getter</a>), with <var>O</var> as the object.</dd>
                    <dt>on an <a class="dfnref" href="#dfn-operation">operation</a> with an identifier</dt>
                    <dd>Set <var>V</var> to the result of performing the actions listed in the description of the operation, using <var>O</var> as the <span class="esvalue">this</span> value and passing no arguments.</dd>
                    <dt>on an <a class="dfnref" href="#dfn-operation">operation</a> with no identifier</dt>
                    <dd>Set <var>V</var> to the result of performing the <a class="dfnref" href="#dfn-stringification-behavior">stringification behavior</a> of the interface.</dd>
                  </dl>
                </li>
                <li>Return the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>V</var> to a <span class="estype">String</span> value.</li>
              </ol>
            </li>
            <li>The value of the <span class="estype">Function</span> object’s “length” property is the <span class="estype">Number</span> value <span class="esvalue">0</span>.</li>
            <li>The value of the <span class="estype">Function</span> object’s “name” property is the <span class="estype">String</span> value “toString”.</li>
          </ul>
        </section>

        <section id="es-serializer" typeof="bibo:Chapter" resource="#es-serializer" property="bibo:hasPart">
          <h5 id="h-es-serializer" resource="#h-es-serializer"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.8.2 </span>Serializers</span></h5>

       <div class="warning">
          <div class="warning-title marker"><span>Warning</span></div>
          <div class="">
            <p>The <em>NodeFilterSerializers</em> will be simplified soon, please see discussions in <a href="https://github.com/heycam/webidl/issues/188">Issue 188</a></p>
          </div>
        </div>

          <p>
            If the <a class="dfnref" href="#dfn-interface">interface</a> has an <a class="dfnref" href="#dfn-exposed">exposed</a>
            <a class="dfnref" href="#dfn-serializer">serializer</a>, then a property <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist whose name is “toJSON”, with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
            and whose value is a
            <span class="estype">Function</span> object.
          </p>
          <p>
            The location of the property is determined as follows:
          </p>
          <ul>
            <li>If the interface was declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute, then the property exists on the single object that implements the interface.</li>
            <li>Otherwise, if the interface is a <a class="dfnref" href="#dfn-consequential-interfaces">consequential interface</a> of a <a class="xattr" href="#Global">[Global]</a>- or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface, then the property exists on the single object that implements the <a class="xattr" href="#Global">[Global]</a>- or
              <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface as well as on the consequential interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
            <li>Otherwise, the property exists solely on the interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
          </ul>
          <p>
            The property’s <span class="estype">Function</span> object, when invoked,
            <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> behave as follows:
          </p>
          <ol class="algorithm">
            <li>Let <var>O</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-toobject">ToObject</a> on the <span class="esvalue">this</span> value.</li>
            <li>If <var>O</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, then <a class="dfnref" href="#dfn-perform-a-security-check">perform a security check</a>, passing:
              <ul>
                <li>the platform object <var>O</var>,</li>
                <li>the ECMAScript global environment associated with this <span class="estype">Function</span> that implements the <a class="dfnref" href="#dfn-serializer">serializer</a>,</li>
                <li>the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-serializer">serializer</a>, and</li>
                <li>the type “method”.</li>
              </ul>
            </li>
            <li>If <var>O</var> is not an object that implements the <a class="dfnref" href="#dfn-interface">interface</a> on which the serializer was declared, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
            <li>Depending on how <code>serializer</code> was specified:
              <dl class="switch">
                <dt>on an <a class="dfnref" href="#dfn-operation">operation</a> with an identifier</dt>
                <dd>
                  <ol class="algorithm">
                    <li>Return the result of performing the actions listed in the description of the operation, using <var>O</var> as the <span class="esvalue">this</span> value and passing no arguments.</li>
                  </ol>
                </dd>
                <dt>as a keyword, either with or without a <a class="dfnref" href="#dfn-serialization-pattern">serialization pattern</a></dt>
                <dd>
                  <ol class="algorithm">
                    <li>Let <var>S</var> be the <a class="dfnref" href="#dfn-serialized-value">serialized value</a> that is the result of invoking the <a class="dfnref" href="#dfn-serialization-behavior">serialization behavior</a> of the
                      <a class="dfnref" href="#dfn-interface">interface</a> for object <var>O</var>.</li>
                    <li>Return the result of <a class="dfnref" href="#dfn-convert-serialized-value-to-ecmascript-value">converting</a>
                      <var>S</var> to an ECMAScript value.</li>
                  </ol>
                </dd>
              </dl>
            </li>
          </ol>
          <p>The value of the <span class="estype">Function</span> object’s “length” property is the <span class="estype">Number</span> value <span class="esvalue">0</span>.</p>
          <p>The value of the <span class="estype">Function</span> object’s “name” property is the <span class="estype">String</span> value “toJSON”.</p>
          <p>
            The following steps define how to <dfn id="dfn-convert-serialized-value-to-ecmascript-value" data-dfn-type="dfn">convert a serialized value to an ECMAScript value</dfn>:
          </p>
          <ol class="algorithm">
            <li>Let <var>S</var> be the <a class="dfnref" href="#dfn-serialized-value">serialized value</a>.</li>
            <li>Depending on the type of <var>S</var>:
              <dl class="switch">
                <dt>a map</dt>
                <dd>
                  <ol class="algorithm">
                    <li>Let <var>O</var> be a new object created as if by the expression <code>({})</code>.</li>
                    <li>For each entry in <var>S</var>, in the order they were added to the map:
                      <ol>
                        <li>Let <var>V</var> be the result of <a class="dfnref" href="#dfn-convert-serialized-value-to-ecmascript-value">converting</a> the value of the entry to an ECMAScript value.</li>
                        <li>Let <var>P</var> be the entry’s key.</li>
                        <li>Call the <span class="prop">[[DefineOwnProperty]]</span> internal method of <var>O</var> passing property name <var>P</var>, Property Descriptor <span class="descriptor">{&nbsp;[[Value]]: <var>V</var>,
                            [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>, and <span class="esvalue">false</span> as arguments.</li>
                      </ol>
                    </li>
                    <li>Return <var>O</var>.</li>
                  </ol>
                </dd>
                <dt>a list</dt>
                <dd>
                  <ol class="algorithm">
                    <li>Let <var>A</var> be a new <span class="estype">Array</span> object created as if by the expression <code>[]</code>.</li>
                    <li>Let <var>index</var> be 0.</li>
                    <li>While <var>index</var> is less than the number of elements in <var>S</var>:
                      <ol>
                        <li>Let <var>V</var> be the result of <a class="dfnref" href="#dfn-convert-serialized-value-to-ecmascript-value">converting</a> the value of the element in <var>S</var> at index <var>index</var> to an ECMAScript value.</li>
                        <li>Let <var>P</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a>(<var>index</var>).</li>
                        <li>Call the <span class="prop">[[DefineOwnProperty]]</span> internal method of <var>O</var> passing property name <var>P</var>, Property Descriptor <span class="descriptor">{&nbsp;[[Value]]: <var>V</var>,
                            [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>, and <span class="esvalue">false</span> as arguments.</li>
                      </ol>
                    </li>
                    <li>Return <var>A</var>.</li>
                  </ol>
                </dd>
                <dt>any other serialized value</dt>
                <dd>
                  <ol class="algorithm">
                    <li>Let <var>V</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                      <var>S</var> to an ECMAScript value.</li>
                    <li>Return <var>V</var>.</li>
                  </ol>
                </dd>
              </dl>
            </li>
          </ol>
        </section>
      </section>

      <section id="es-iterators" typeof="bibo:Chapter" resource="#es-iterators" property="bibo:hasPart">
        <h4 id="h-es-iterators" resource="#h-es-iterators"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.9 </span>Common iterator behavior</span></h4>

        <section id="es-iterator" typeof="bibo:Chapter" resource="#es-iterator" property="bibo:hasPart">
          <h5 id="h-es-iterator" resource="#h-es-iterator"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.9.1 </span>@@iterator</span></h5>

          <p>
            If the <a class="dfnref" href="#dfn-interface">interface</a> has any of the following:
          </p>
          <ul>
            <li>an <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a></li>
            <li>an <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a> and an <a class="dfnref" href="#dfn-integer-type">integer-typed</a>
              <a class="dfnref" href="#dfn-attribute">attribute</a> named “length”
            </li>


          </ul>
          <p>
            then a property <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist whose name is the <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-symbols">@@iterator</a> symbol, with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
            and whose value is a <a class="dfnref" href="#dfn-function-object">function object</a>.
          </p>
          <p>
            The location of the property is determined as follows:
          </p>
          <ul>
            <li>If the interface was declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute, then the property exists on the single object that implements the interface.</li>
            <li>Otherwise, if the interface is a <a class="dfnref" href="#dfn-consequential-interfaces">consequential interface</a> of a <a class="xattr" href="#Global">[Global]</a>- or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface, then the property exists on the single object that implements the <a class="xattr" href="#Global">[Global]</a>- or
              <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface as well as on the consequential interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
            <li>Otherwise, the property exists solely on the interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
          </ul>
          <p>
            If the interface defines an <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a>, then the <span class="estype">Function</span> object is <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%ArrayProto_values%</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4).
          </p>
          <p>
            If the interface has a <a class="dfnref" href="#dfn-pair-iterator">pair iterator</a>, then the <span class="estype">Function</span>, when invoked,
            <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> behave as follows:
          </p>
          <ol class="algorithm">
            <li>Let <var>object</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-toobject">ToObject</a> on the <span class="esvalue">this</span> value.</li>
            <li>If <var>object</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, then <a class="dfnref" href="#dfn-perform-a-security-check">perform a security check</a>, passing:
              <ul>
                <li>the platform object <var>object</var>,</li>
                <li>the ECMAScript global environment associated with this <span class="estype">Function</span>,</li>
                <li>the identifier “@@iterator”, and</li>
                <li>the type “method”.</li>
              </ul>
            </li>
            <li>Let <var>interface</var> be the <a class="dfnref" href="#dfn-interface">interface</a> the <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a> is on.</li>
            <li>If <var>object</var> is not a <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements <var>interface</var>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
            <li>Let <var>iterator</var> be a newly created <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a> for <var>interface</var> with <var>object</var> as its target and iterator kind “value”.</li>
            <li>Return <var>iterator</var>.</li>
          </ol>


          <p>
            The value of the <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-symbols">@@iterator</a> <span class="estype">Function</span> object’s “length” property is the <span class="estype">Number</span> value <span class="esvalue">0</span>.
          </p>
          <p>The value of the <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-symbols">@@iterator</a> <span class="estype">Function</span> object’s “name” property is the <span class="estype">String</span> value “[Symbol.iterator]”.</p>
        </section>

        <section id="es-forEach" typeof="bibo:Chapter" resource="#es-forEach" property="bibo:hasPart">
          <h5 id="h-es-foreach" resource="#h-es-foreach"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.9.2 </span>forEach</span></h5>

          <p>
            If the <a class="dfnref" href="#dfn-interface">interface</a> has any of the following:
          </p>
          <ul>
            <li>an <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a></li>


          </ul>
          <p>
            then a property named “forEach” <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
            and whose value is a <a class="dfnref" href="#dfn-function-object">function object</a>.
          </p>
          <p>
            The location of the property is determined as follows:
          </p>
          <ul>
            <li>If the interface was declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute, then the property exists on the single object that implements the interface.</li>
            <li>Otherwise, if the interface is a <a class="dfnref" href="#dfn-consequential-interfaces">consequential interface</a> of a <a class="xattr" href="#Global">[Global]</a>- or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface, then the property exists on the single object that implements the <a class="xattr" href="#Global">[Global]</a>- or
              <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface as well as on the consequential interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
            <li>Otherwise, the property exists solely on the interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
          </ul>
          <p>
            If the interface defines an <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a>, then the <span class="estype">Function</span> object is the initial value of the “forEach” data property of <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%ArrayPrototype%</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4).
          </p>
          <p>
            If the interface has a <a class="dfnref" href="#dfn-pair-iterator">pair iterator</a>, then the <span class="estype">Function</span> <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have the same behavior as one that would exist assuming the interface had this <a class="dfnref" href="#dfn-operation">operation</a> instead of the
            <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a>:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code"><span class="hljs-keyword">void</span> forEach(<span class="hljs-built_in">Function</span> callback, optional any thisArg);</code></pre></div>
          </div>
          <p>
            with the following prose definition:
          </p>
          <ol class="algorithm">
            <li>Let <var>O</var> be the <strong>this</strong> value.</li>
            <li>Let <var>pairs</var> be the list of <a class="dfnref" href="#dfn-value-pairs-to-iterate-over">value pairs to iterate over</a>.</li>
            <li>Let <var>i</var> be 0.</li>
            <li>While <var>i</var> is less than the length of <var>pairs</var>:
              <ol>
                <li>Let <var>pair</var> be the entry in <var>pairs</var> at index <var>i</var>.</li>
                <li>Let <var>key</var> be <var>pair</var>’s key.</li>
                <li>Let <var>value</var> be <var>pair</var>’s value.</li>
                <li><a href="#es-invoking-callback-functions">Invoke</a> <var>callback</var> with <var>thisArg</var> (or <span class="esvalue">undefined</span>, if the argument was not supplied) as the <a class="dfnref" href="#dfn-callback-this-value">callback this value</a> and
                  <var>value</var>, <var>key</var> and <var>O</var> as its arguments.</li>
                <li>Update <var>pairs</var> to the current list of <a class="dfnref" href="#dfn-value-pairs-to-iterate-over">value pairs to iterate over</a>.</li>
                <li>Set <var>i</var> to <var>i</var> + 1.</li>
              </ol>
            </li>
          </ol>


          <p>
            The value of the <span class="estype">Function</span> object’s “length” property is the <span class="estype">Number</span> value <span class="esvalue">1</span>.
          </p>
          <p>The value of the <span class="estype">Function</span> object’s “name” property is the <span class="estype">String</span> value “forEach”.</p>
        </section>
      </section>

      <section id="es-iterable" typeof="bibo:Chapter" resource="#es-iterable" property="bibo:hasPart">
        <h4 id="h-es-iterable" resource="#h-es-iterable"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.10 </span>Iterable declarations</span></h4>

        <section id="es-iterable-entries" typeof="bibo:Chapter" resource="#es-iterable-entries" property="bibo:hasPart">
          <h5 id="h-es-iterable-entries" resource="#h-es-iterable-entries"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.10.1 </span>entries</span></h5>

          <p>
            If the <a class="dfnref" href="#dfn-interface">interface</a> has an
            <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a>, then a property named “entries” <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
            and whose value is a <a class="dfnref" href="#dfn-function-object">function object</a>.
          </p>
          <p>
            The location of the property is determined as follows:
          </p>
          <ul>
            <li>If the interface was declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute, then the property exists on the single object that implements the interface.</li>
            <li>Otherwise, if the interface is a <a class="dfnref" href="#dfn-consequential-interfaces">consequential interface</a> of a <a class="xattr" href="#Global">[Global]</a>- or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface, then the property exists on the single object that implements the <a class="xattr" href="#Global">[Global]</a>- or
              <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface as well as on the consequential interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
            <li>Otherwise, the property exists solely on the interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
          </ul>
          <p>
            If the interface has a <a class="dfnref" href="#dfn-value-iterator">value iterator</a>, then the <span class="estype">Function</span> object is the initial value of the “entries” data property of <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%ArrayPrototype%</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4).
          </p>
          <p>
            If the interface has a <a class="dfnref" href="#dfn-pair-iterator">pair iterator</a>, then the <span class="estype">Function</span>, when invoked, <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> behave as follows:
          </p>
          <ol class="algorithm">
            <li>Let <var>object</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-toobject">ToObject</a> on the <span class="esvalue">this</span> value.</li>
            <li>If <var>object</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, then <a class="dfnref" href="#dfn-perform-a-security-check">perform a security check</a>, passing:
              <ul>
                <li>the platform object <var>object</var>,</li>
                <li>the ECMAScript global environment associated with this <span class="estype">Function</span>,</li>
                <li>the identifier “entries”, and</li>
                <li>the type “method”.</li>
              </ul>
            </li>
            <li>Let <var>interface</var> be the <a class="dfnref" href="#dfn-interface">interface</a> on which the <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a> is declared on.</li>
            <li>If <var>object</var> is not a <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements <var>interface</var>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
            <li>Let <var>iterator</var> be a newly created <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a> for <var>interface</var> with <var>object</var> as its target and iterator kind “key+value”.</li>
            <li>Return <var>iterator</var>.</li>
          </ol>
          <p>The value of the <span class="estype">Function</span> object’s “length” property is the <span class="estype">Number</span> value <span class="esvalue">0</span>.</p>
          <p>The value of the <span class="estype">Function</span> object’s “name” property is the <span class="estype">String</span> value “entries”.</p>
        </section>

        <section id="es-iterable-keys" typeof="bibo:Chapter" resource="#es-iterable-keys" property="bibo:hasPart">
          <h5 id="h-es-iterable-keys" resource="#h-es-iterable-keys"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.10.2 </span>keys</span></h5>

          <p>
            If the <a class="dfnref" href="#dfn-interface">interface</a> has an
            <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a>, then a property named “keys” <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
            and whose value is a <a class="dfnref" href="#dfn-function-object">function object</a>.
          </p>
          <p>
            The location of the property is determined as follows:
          </p>
          <ul>
            <li>If the interface was declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute, then the property exists on the single object that implements the interface.</li>
            <li>Otherwise, if the interface is a <a class="dfnref" href="#dfn-consequential-interfaces">consequential interface</a> of a <a class="xattr" href="#Global">[Global]</a>- or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface, then the property exists on the single object that implements the <a class="xattr" href="#Global">[Global]</a>- or
              <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface as well as on the consequential interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
            <li>Otherwise, the property exists solely on the interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
          </ul>
          <p>
            If the interface has a <a class="dfnref" href="#dfn-value-iterator">value iterator</a>, then the <span class="estype">Function</span> object is the initial value of the “keys” data property of <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%ArrayPrototype%</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4).
          </p>
          <p>
            If the interface has a <a class="dfnref" href="#dfn-pair-iterator">pair iterator</a>, then the <span class="estype">Function</span>, when invoked, <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> behave as follows:
          </p>
          <ol class="algorithm">
            <li>Let <var>object</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-toobject">ToObject</a> on the <span class="esvalue">this</span> value.</li>
            <li>If <var>object</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, then <a class="dfnref" href="#dfn-perform-a-security-check">perform a security check</a>, passing:
              <ul>
                <li>the platform object <var>object</var>,</li>
                <li>the ECMAScript global environment associated with this <span class="estype">Function</span>,</li>
                <li>the identifier “keys”, and</li>
                <li>the type “method”.</li>
              </ul>
            </li>
            <li>Let <var>interface</var> be the <a class="dfnref" href="#dfn-interface">interface</a> on which the <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a> is declared on.</li>
            <li>If <var>object</var> is not a <a class="dfnref" href="#dfn-platform-object">platform object</a> that implements <var>interface</var>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
            <li>Let <var>iterator</var> be a newly created <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a> for <var>interface</var> with <var>object</var> as its target and iterator kind “key”.</li>
            <li>Return <var>iterator</var>.</li>
          </ol>
          <p>The value of the <span class="estype">Function</span> object’s “length” property is the <span class="estype">Number</span> value <span class="esvalue">0</span>.</p>
          <p>The value of the <span class="estype">Function</span> object’s “name” property is the <span class="estype">String</span> value “keys”.</p>
        </section>

        <section id="es-iterable-values" typeof="bibo:Chapter" resource="#es-iterable-values" property="bibo:hasPart">
          <h5 id="h-es-iterable-values" resource="#h-es-iterable-values"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.10.3 </span>values</span></h5>

          <p>
            If the <a class="dfnref" href="#dfn-interface">interface</a> has an
            <a class="dfnref" href="#dfn-iterable-declaration">iterable declaration</a>, then a property named “values” <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
            and whose value is the <a class="dfnref" href="#dfn-function-object">function object</a> that is the value of the <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-symbols">@@iterator</a> property.
          </p>
          <p>
            The location of the property is determined as follows:
          </p>
          <ul>
            <li>If the interface was declared with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> extended attribute, then the property exists on the single object that implements the interface.</li>
            <li>Otherwise, if the interface is a <a class="dfnref" href="#dfn-consequential-interfaces">consequential interface</a> of a <a class="xattr" href="#Global">[Global]</a>- or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface, then the property exists on the single object that implements the <a class="xattr" href="#Global">[Global]</a>- or
              <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>-annotated interface as well as on the consequential interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
            <li>Otherwise, the property exists solely on the interface’s <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a>.</li>
          </ul>
        </section>

        <section id="es-default-iterator-object" typeof="bibo:Chapter" resource="#es-default-iterator-object" property="bibo:hasPart">
          <h5 id="h-es-default-iterator-object" resource="#h-es-default-iterator-object"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.10.4 </span>Default iterator objects</span></h5>

          <p>
            A <dfn id="dfn-default-iterator-object" data-dfn-type="dfn">default iterator object</dfn> for a given
            <a class="dfnref" href="#dfn-interface">interface</a>, target and iteration kind is an object whose internal [[Prototype]] property is the
            <a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype object</a> for the <a class="dfnref" href="#dfn-interface">interface</a>.
          </p>
          <p>
            A <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a> has three internal values:
          </p>
          <ol>
            <li>its <em>target</em>, which is an object whose values are to be iterated,</li>
            <li>its <em>kind</em>, which is the iteration kind,</li>
            <li>its <em>index</em>, which is the current index into the values value to be iterated.</li>
          </ol>
          <div class="note">
            <div class="note-title marker" aria-level="6" role="heading" id="h-note68"><span>Note</span></div>
            <div class="">
              <p>
                Default iterator objects are only used for <a class="dfnref" href="#dfn-pair-iterator">pair iterators</a>;
                <a class="dfnref" href="#dfn-value-iterator">value iterators</a>, as they are currently restricted to iterating over an object’s
                <a class="dfnref" href="#dfn-support-indexed-properties">supported indexed properties</a>, use standard ECMAScript Array iterator objects.
              </p>
            </div>
          </div>
          <p>
            When a <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a> is first created, its index is set to 0.
          </p>
          <p>
            The <a class="dfnref" href="#dfn-class-string">class string</a> of a
            <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a> for a given <a class="dfnref" href="#dfn-interface">interface</a> is the result of concatenting the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-interface">interface</a> and the string “ Iterator”.
          </p>
        </section>

        <section id="es-iterator-prototype-object" typeof="bibo:Chapter" resource="#es-iterator-prototype-object" property="bibo:hasPart">
          <h5 id="h-es-iterator-prototype-object" resource="#h-es-iterator-prototype-object"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.10.5 </span>Iterator prototype object</span></h5>

          <p>
            The <dfn id="dfn-iterator-prototype-object" data-dfn-type="dfn">iterator prototype object</dfn> for a given <a class="dfnref" href="#dfn-interface">interface</a> is an object that exists for every interface that has a
            <a class="dfnref" href="#dfn-pair-iterator">pair iterator</a>. It serves as the prototype for <a class="dfnref" href="#dfn-default-iterator-object">default iterator objects</a> for the interface.
          </p>
          <p>
            The internal [[Prototype]] property of an <a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype object</a>
            <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%IteratorPrototype%</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4).
          </p>
          <p>
            An <a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype object</a>
            <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a property named “next” with attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
            and whose value is a <a class="dfnref" href="#dfn-function-object">function object</a> that behaves as follows:
          </p>
          <ol class="algorithm">
            <li>Let <var>interface</var> be the <a class="dfnref" href="#dfn-interface">interface</a> for which the
              <a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype object</a> exists.</li>
            <li>Let <var>object</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-toobject">ToObject</a> on the <span class="esvalue">this</span> value.</li>
            <li>If <var>object</var> is a <a class="dfnref" href="#dfn-platform-object">platform object</a>, then <a class="dfnref" href="#dfn-perform-a-security-check">perform a security check</a>, passing:
              <ul>
                <li>the platform object <var>object</var>,</li>
                <li>the ECMAScript global environment associated with this <span class="estype">Function</span>,</li>
                <li>the identifier “next”, and</li>
                <li>the type “method”.</li>
              </ul>
            </li>
            <li>If <var>object</var> is not a <a class="dfnref" href="#dfn-default-iterator-object">default iterator object</a> for <var>interface</var>, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>.</li>
            <li>Let <var>target</var> be <var>object</var>’s target.</li>
            <li>Let <var>index</var> be <var>object</var>’s index.</li>
            <li>Let <var>kind</var> be <var>object</var>’s kind.</li>
            <li>Let <var>values</var> be the list of <a class="dfnref" href="#dfn-value-pairs-to-iterate-over">value pairs to iterate over</a>.</li>
            <li>Let <var>len</var> be the length of <var>values</var>.</li>
            <li>If <var>object</var>’s index is greater than or equal to <var>len</var>, then return <a class="external" href="https://tc39.github.io/ecma262/#sec-createiterresultobject">CreateIterResultObject</a>(<span class="esvalue">undefined</span>, <span class="esvalue">true</span>).</li>
            <li>Let <var>pair</var> be the entry in <var>values</var> at index <var>index</var>.</li>
            <li>Let <var>result</var> be a value determined by the value of <var>kind</var>:
              <dl class="switch">
                <dt>key</dt>
                <dd>
                  <ol class="algorithm">
                    <li>Let <var>idlKey</var> be <var>pair</var>’s key.</li>
                    <li>Let <var>key</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>idlKey</var> to an ECMAScript value.</li>
                    <li><var>result</var> is <var>key</var>.</li>
                  </ol>
                </dd>
                <dt>value</dt>
                <dd>
                  <ol class="algorithm">
                    <li>Let <var>idlValue</var> be <var>pair</var>’s value.</li>
                    <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>idlValue</var> to an ECMAScript value.</li>
                    <li><var>result</var> is <var>value</var>.</li>
                  </ol>
                </dd>
                <dt>key+value</dt>
                <dd>
                  <ol class="algorithm">
                    <li>Let <var>idlKey</var> be <var>pair</var>’s key.</li>
                    <li>Let <var>idlValue</var> be <var>pair</var>’s value.</li>
                    <li>Let <var>key</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>idlKey</var> to an ECMAScript value.</li>
                    <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>idlValue</var> to an ECMAScript value.</li>
                    <li>Let <var>array</var> be the result of performing <a class="external" href="https://tc39.github.io/ecma262/#sec-arraycreate">ArrayCreate</a>(2).</li>
                    <li>Call <a class="external" href="https://tc39.github.io/ecma262/#sec-createdataproperty">CreateDataProperty</a>(<var>array</var>, "0", <var>key</var>).</li>
                    <li>Call <a class="external" href="https://tc39.github.io/ecma262/#sec-createdataproperty">CreateDataProperty</a>(<var>array</var>, "1", <var>value</var>).</li>
                    <li><var>result</var> is <var>array</var>.</li>
                  </ol>
                </dd>
              </dl>
            </li>
            <li>Return <a class="external" href="https://tc39.github.io/ecma262/#sec-createiterresultobject">CreateIterResultObject</a>(<var>result</var>, <span class="esvalue">false</span>).</li>
          </ol>
          <p>
            The <a class="dfnref" href="#dfn-class-string">class string</a> of an
            <a class="dfnref" href="#dfn-iterator-prototype-object">iterator prototype object</a> for a given <a class="dfnref" href="#dfn-interface">interface</a> is the result of concatenting the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-interface">interface</a> and the string “Iterator”.
          </p>
        </section>
      </section>





      <section id="initializing-objects-from-iterables" typeof="bibo:Chapter" resource="#initializing-objects-from-iterables" property="bibo:hasPart">
        <h4 id="h-initializing-objects-from-iterables" resource="#h-initializing-objects-from-iterables"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.6.11 </span>Initializing objects from iterables</span></h4>

        <p>
          Some objects, which are attempting to emulate map- and set-like interfaces, will want to accept iterables as constructor parameters and initialize themselves in this way. Here we provide some algorithms that can be invoked in order to do so in the same way as in the ECMAScript spec, so that those objects behave the same as the built-in <span class="estype">Map</span> and <span class="estype">Set</span> objects.
        </p>

        <p>
          To <dfn id="add-map-elements-from-iterable" data-dfn-type="dfn">add map elements from an iterable</dfn> <var>iterable</var> to an object <var>destination</var> with adder method name <var>adder</var>, perform the following steps:
        </p>
        <ol class="algorithm">
          <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>destination</var>) is not Object, then, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span> exception</a>.</li>
          <li>If <var>iterable</var> is not present, let <var>iterable</var> be <span class="esvalue">undefined</span>.</li>
          <li>If <var>iterable</var> is either <span class="esvalue">undefined</span> or <span class="esvalue">null</span>, then let <var>iter</var> be <span class="esvalue">undefined</span>.</li>
          <li>Else,
            <ol>
              <li>Let <var>adder</var> be the result of <a class="external" href="https://tc39.github.io/ecma262/#sec-get-o-p">Get</a>(<var>destination</var>, <var>adder</var>).</li>
              <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>adder</var>).</li>
              <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a>(<var>adder</var>) is <span class="esvalue">false</span>, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span> exception</a>.</li>
              <li>Let <var>iter</var> be the result of <a class="external" href="https://tc39.github.io/ecma262/#sec-getiterator">GetIterator</a>(<var>iterable</var>).</li>
              <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>iter</var>).</li>
            </ol>
          </li>
          <li>If <var>iter</var> is <span class="esvalue">undefined</span>, then return.</li>
          <li>Repeat
            <ol>
              <li>Let <var>next</var> be the result of <a class="external" href="https://tc39.github.io/ecma262/#sec-iteratorstep">IteratorStep</a>(<var>iter</var>).</li>
              <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>next</var>).</li>
              <li>If <var>next</var> is <span class="esvalue">false</span>, then return <a class="external" href="https://tc39.github.io/ecma262/#sec-normalcompletion">NormalCompletion</a>(<var>destination</var>).</li>
              <li>Let <var>nextItem</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-iteratorvalue">IteratorValue</a>(<var>next</var>).</li>
              <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>nextItem</var>).</li>
              <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>nextItem</var>) is not Object, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span> exception</a>.</li>
              <li>Let <var>k</var> be the result of <a class="external" href="https://tc39.github.io/ecma262/#sec-get-o-p">Get</a>(<var>nextItem</var>, <code>'0'</code>).</li>
              <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>k</var>).</li>
              <li>Let <var>v</var> be the result of <a class="external" href="https://tc39.github.io/ecma262/#sec-get-o-p">Get</a>(<var>nextItem</var>, <code>'1'</code>).</li>
              <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>v</var>).</li>
              <li>Let <var>status</var> be the result of calling the [[Call]] internal method of <var>adder</var> with <var>destination</var> as
                <var>thisArgument</var> and (<var>k</var>, <var>v</var>) as <var>argumentsList</var>.</li>
              <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>status</var>).</li>
            </ol>
          </li>
        </ol>
      </section>
    </section>

    <section id="es-implements-statements" typeof="bibo:Chapter" resource="#es-implements-statements" property="bibo:hasPart">
      <h3 id="h-es-implements-statements" resource="#h-es-implements-statements"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.7 </span>Implements statements</span></h3>

      <p>
        The <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> of an interface <var>A</var> <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a copy of each property that corresponds to one of the
        <a class="dfnref" href="#dfn-constant">constants</a>,
        <a class="dfnref" href="#dfn-attribute">attributes</a>,
        <a class="dfnref" href="#dfn-operation">operations</a> and
        <a class="dfnref" href="#dfn-iterable-declaration">iterable declarations</a> that exist on all of the interface prototype objects of <var>A</var>’s
        <a class="dfnref" href="#dfn-consequential-interfaces">consequential interfaces</a>. For operations, where the property is a data property with a <span class="estype">Function</span> object value, each copy of the property <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have distinct <span class="estype">Function</span> objects. For attributes, each copy of the accessor property <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have distinct <span class="estype">Function</span> objects for their getters, and similarly with their setters.
      </p>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note69"><span>Note</span></div>
        <div class="">
          <p>
            When invoking an <a class="dfnref" href="#dfn-operation">operation</a> by calling a <span class="estype">Function</span> object that is the value of one of the copies that exists due to an implements statement, the <span class="esvalue">this</span> value is checked to ensure that it is an object that implements the
            <a class="dfnref" href="#dfn-interface">interface</a> corresponding to the
            <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> that the property is on.
          </p>
          <p>
            For example, consider the following IDL:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs xquery"><code class="idl-code">interface A {
  void f();
};

interface B { };
B implements A;

interface C { };
C implements A;</code></pre></div>
          </div>
          <p>
            Attempting to call <code>B.prototype.f</code> on an object that implements
            <span class="idltype">A</span> (but not <span class="idltype">B</span>) or one that implements <span class="idltype">C</span> will result in a
            <span class="idltype">TypeError</span> being thrown. However, calling <code>A.prototype.f</code> on an object that implements
            <span class="idltype">B</span> or one that implements <span class="idltype">C</span> would succeed. This is handled by the algorithm in <a href="#es-operations">section </a><a href="#es-operations">4.6.8 </a> that defines how IDL operation invocation works in ECMAScript.
          </p>
          <p>
            Similar behavior is required for the getter and setter <span class="estype">Function</span> objects that correspond to an IDL <a class="dfnref" href="#dfn-attribute">attributes</a>, and this is handled in <a href="#es-attributes">section </a><a href="#es-attributes">4.6.7 </a>.
          </p>
        </div>
      </div>
    </section>

    <section id="es-platform-objects" typeof="bibo:Chapter" resource="#es-platform-objects" property="bibo:hasPart">
      <h3 id="h-es-platform-objects" resource="#h-es-platform-objects"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.8 </span>Platform objects implementing interfaces</span></h3>

      <p>
        Every <a class="dfnref" href="#dfn-platform-object">platform object</a> is associated with a global environment, just as the <a class="dfnref" href="#dfn-initial-object">initial objects</a> are. It is the responsibility of specifications using Web IDL to state which global environment (or, by proxy, which global object) each platform object is associated with.
      </p>
      <p>
        The <dfn id="dfn-primary-interface" data-dfn-type="dfn">primary interface</dfn> of a platform object that implements one or more interfaces is the most-derived <a class="dfnref" href="#dfn-supplemental-interface">non-supplemental interface</a> that it implements. The value of the internal <span class="prop">[[Prototype]]</span> property of the platform object is the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> of the <a class="dfnref" href="#dfn-primary-interface">primary interface</a> from the <a class="dfnref" href="#dfn-platform-object">platform object</a>’s associated global environment.
      </p>
      <p>
        The global environment that a given <a class="dfnref" href="#dfn-platform-object">platform object</a> is associated with can <dfn id="dfn-change-global-environment" data-dfn-type="dfn">change</dfn> after it has been created. When the global environment associated with a platform object is changed, its internal
        <span class="prop">[[Prototype]]</span> property <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be immediately updated to be the <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> of the <a class="dfnref" href="#dfn-primary-interface">primary interface</a> from the <a class="dfnref" href="#dfn-platform-object">platform object</a>’s newly associated global environment.
      </p>
      <!--
          <p>
            The value of the host object’s internal <span class='prop'>[[\Prototype]]</span>
            property is determined as follows:
          </p>
          <ul>
            <li>
              If the host object implements no <a class='dfnref' href='#dfn-interface'>interfaces</a>,
              then its internal <span class='prop'>[[\Prototype]]</span> property
              value is a reference to the <span class='estype'>Object</span>
              prototype object from the object’s associated global environment.
            </li>
            <li>
              If the host object implements a single
              <a class='dfnref' href='#dfn-interface'>interface</a>, then its
              internal <span class='prop'>[[\Prototype]]</span> property is a
              reference to the
              <a class='dfnref' href='#dfn-interface-prototype-object'>interface prototype object</a>
              from the object’s associated global environment for that interface.
            </li>
            <li>
              Otherwise, if the host object has a <a class='dfnref' href='#dfn-primary-prototype-interface'>primary prototype interface</a>
              and implements no interfaces other than its primary
              prototype interface and all of its ancestors, then the value of
              the internal <span class='prop'>[[\Prototype]]</span> property is
              a reference to the
              <a class='dfnref' href='#dfn-interface-prototype-object'>interface prototype object</a>
              from the host object’s associated global environment
              for the host object’s primary prototype interface.
            </li>
            <li>
              Otherwise, the host object implements at least two
              <a class='dfnref' href='#dfn-interface'>interfaces</a>, and has no
              <a class='dfnref' href='#dfn-primary-prototype-interface'>primary prototype interface</a>
              or implements some interfaces other than its primary prototype
              interface and all of its ancestors.  The value of the
              internal <span class='prop'>[[\Prototype]]</span> property is
              a reference to the <a class='dfnref' href='#dfn-host-object-mixin-prototype-object'>host object mixin prototype object</a>
              for the host object (defined below).
            </li>
          </ul>
          -->
      <!--
              of that interface.
            determined as follows:
          </p>
          <ul>
            <li>
              If the host object implements a single
              <a class='dfnref' href='#dfn-interface'>interface</a>, then the
              value of the internal <span class='prop'>[[\Class]]</span>
              property <span class='rfc2119'>MUST</span> be the
              <a class='dfnref' href='#dfn-identifier'>identifier</a>
              of that interface.
            </li>
            <li>
              Otherwise, if the host object has a
              <a class='dfnref' href='#dfn-primary-prototype-interface'>primary prototype interface</a>,
              then the value of the internal <span class='prop'>[[\Class]]</span>
              property <span class='rfc2119'>MUST</span> be the
              identifier of that interface.
            </li>
            <li>
              Otherwise, no particular value is required to be used for the
              value of the internal <span class='prop'>[[\Class]]</span>
              property.
            </li>
          </ul>
          <div class='ednote'>
            <p>Should there be more restrictions on the <span class='prop'>[[\Class]]</span>?
              <a href='http://www.w3.org/mid/Pine.LNX.4.62.0903072358030.2690@hixie.dreamhostps.com'>(Mail.)</a></p>
          </div>

          <div id='host-object-mixin-prototype' class='section'>
            <h4>Host object mixin prototype object</h4>

            <p>
              The <dfn id='dfn-host-object-mixin-prototype-object'>host object mixin prototype object</dfn>
              for a given host object is an object as follows:
            </p>
            <ul>
              <li>The object has properties that are the union of all
                properties that exist on the <a class='dfnref' href='#dfn-interface'>interfaces</a>
                that the host object implements and which are not the host object’s
                <a class='dfnref' href='#dfn-primary-prototype-interface'>primary prototype interface</a>
                or one of its ancestors.</li>
              <li>The object’s internal <span class='prop'>[[\Prototype]]</span> property value
                is a reference to the <a class='dfnref' href='#dfn-interface-prototype-object'>interface prototype object</a>
                for the host object’s <a class='dfnref' href='#dfn-primary-prototype-interface'>primary prototype interface</a>,
                or, if the host object has no primary prototype interface, a reference to the
                <span class='estype'>Object</span> prototype object.  The
                prototype object chosen for the <span class='prop'>[[\Prototype]]</span> property
                value is the one from the host object’s associated global environment.</li>
            </ul>
            <p>
              If two host objects implement the same set of
              <a class='dfnref' href='#dfn-interface'>interfaces</a>,
              have references to <a class='dfnref' href='#dfn-host-object-mixin-prototype-object'>host object mixin prototype objects</a>
              as their internal <span class='prop'>[[\Prototype]]</span> property values,
              and are both associated with the same global environment,
              then these host object mixin prototype objects
              <span class='rfc2119'>MUST</span> be the same object.
            </p>
          </div>
          -->

      <p>
        Every platform object that implements an <a class="xattr" href="#Unforgeable">[Unforgeable]</a>-annotated interface and which does not have a <a class="dfnref" href="#dfn-stringifier">stringifier</a> that is <a class="dfnref" href="#dfn-unforgeable-on-an-interface">unforgeable</a> on any of the interfaces it implements <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a property with the following characteristics:
      </p>
      <ul>
        <li>The name of the property is “toString”.</li>
        <li>The property has attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">false</span>&nbsp;}</span>.</li>
        <li>The value of the property is <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%ObjProto_toString%</a> ( [
          <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4), the initial value of Object.prototype.toString.</li>
      </ul>

      <p>
        Every platform object that implements an <a class="xattr" href="#Unforgeable">[Unforgeable]</a>-annotated interface and which does not have a <a class="dfnref" href="#dfn-serializer">serializer</a> that is <a class="dfnref" href="#dfn-unforgeable-on-an-interface">unforgeable</a> on any of the interfaces it implements <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a property with the following characteristics:
      </p>
      <ul>
        <li>The name of the property is “toJSON”.</li>
        <li>The property has attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">false</span>&nbsp;}</span>.</li>
        <li>The value of the property is <span class="esvalue">undefined</span>.</li>
      </ul>

      <p>
        Every platform object that implements an <a class="xattr" href="#Unforgeable">[Unforgeable]</a>-annotated interface <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have a property with the following characteristics:
      </p>
      <ul>
        <li>The name of the property is “valueOf”.</li>
        <li>The property has attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">false</span>&nbsp;}</span>.</li>
        <li>
          The value of the property is a <span class="estype">Function</span> object whose behavior is as follows:
          <ol class="algorithm">
            <li>Return the <span class="esvalue">this</span> value.</li>
          </ol>
          This <span class="estype">Function</span> object is the
          <dfn id="dfn-default-unforgeable-valueOf-function" data-dfn-type="dfn">default unforgeable valueOf function</dfn>.
        </li>
        <li>The value of the <span class="estype">Function</span> object’s “length” property is the <span class="estype">Number</span> value <span class="esvalue">0</span>.</li>
        <li>The value of the <span class="estype">Function</span> object’s “name” property is the
          <span class="estype">String</span> value “valueOf”.</li>
      </ul>

      <p>
        The <a class="dfnref" href="#dfn-class-string">class string</a> of a platform object that implements one or more interfaces
        <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the <a class="dfnref" href="#dfn-identifier">identifier</a> of the <a class="dfnref" href="#dfn-primary-interface">primary interface</a> of the platform object.
      </p>

      <section id="indexed-and-named-properties" typeof="bibo:Chapter" resource="#indexed-and-named-properties" property="bibo:hasPart">
        <h4 id="h-indexed-and-named-properties" resource="#h-indexed-and-named-properties"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.8.1 </span>Indexed and named properties</span></h4>

        <p>
          If a <a class="dfnref" href="#dfn-platform-object">platform object</a> implements an <a class="dfnref" href="#dfn-interface">interface</a> that
          <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed</a> or
          <a class="dfnref" href="#dfn-support-named-properties">named properties</a>, the object will appear to have additional properties that correspond to the object’s indexed and named properties. These properties are not “real” own properties on the object, but are made to look like they are by being exposed by the <span class="prop">[[GetOwnProperty]]</span> internal method.
        </p>
        <p>
          However, when the <a class="xattr" href="#Global">[Global]</a> or
          <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> has been used, named properties are not exposed on the object but on another object in the prototype chain, the <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>.
        </p>
        <p>
          It is permissible for an object to implement multiple interfaces that support indexed properties. However, if so, and there are conflicting definitions as to the object’s
          <a class="dfnref" href="#dfn-supported-property-indices">supported property indices</a>, or if one of the interfaces is a <a class="dfnref" href="#dfn-supplemental-interface">supplemental interface</a> for the platform object, then it is undefined what additional properties the object will appear to have, or what its exact behavior will be with regard to its indexed properties. The same applies for named properties.
        </p>
        <p>
          The <a class="dfnref" href="#dfn-indexed-property-getter">indexed property getter</a> that is defined on the derived-most interface that the platform object implements is the one that defines the behavior when indexing the object with an array index. Similarly for
          <a class="dfnref" href="#dfn-indexed-property-setter">indexed property setters</a>. This way, the definitions of these special operations from ancestor interfaces can be overridden.
        </p>

        <p>
          Platform objects implementing an interface that supports indexed or named properties cannot be fixed; if <code>Object.freeze</code>, <code>Object.seal</code> or <code>Object.preventExtensions</code> is called on one of these objects, the function
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a>. Similarly, an <a class="dfnref" href="#dfn-interface-prototype-object">interface prototype object</a> that exposes named properties due to the use of <a class="xattr" href="#Global">[Global]</a> or
          <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> also <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a> if one of the three functions above is called on it.
        </p>

        <p>
          The name of each property that appears to exist due to an object supporting indexed properties is an <dfn id="dfn-array-index-property-name" data-dfn-type="dfn">array index property name</dfn>, which is a property name <var>P</var> such that <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>P</var>) is String and for which the following algorithm returns <span class="esvalue">true</span>:
        </p>
        <ol class="algorithm">
          <li>Let <var>i</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a>(<var>P</var>).</li>
          <li>Let <var>s</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a>(<var>i</var>).</li>
          <li>If <var>s</var> ≠ <var>P</var> or <var>i</var>&nbsp;=&nbsp;2<sup>32</sup>&nbsp;−&nbsp;1, then return <span class="esvalue">false</span>.</li>
          <li>Return <span class="esvalue">true</span>.</li>
        </ol>

        <!--
            <p>
              Specifications can state that certain named properties are <dfn id='dfn-resolved-before-prototype-properties'>resolved
              before prototype properties</dfn>.  This means that such named properties will be resolved after real own
              properties on the object (as with all non-<a class='xattr' href='#OverrideBuiltins'>[OverrideBuiltins]</a> named
              properties), but before properties from the prototype chain.  Specifications <span class='rfc2119'>SHOULD NOT</span>
              declare any named properties to be <a href='#dfn-resolved-before-prototype-properties'>resolved before prototype properties</a>
              unless this is required to specify the behavior of legacy APIs.
            </p>
            <div class='note'>
              <p>At the time of writing, the only known justifiable use of named properties that are
              <a href='#dfn-resolved-before-prototype-properties'>resolved before prototype properties</a>
              is the <span class='esvalue'>Window</span> interface defined in HTML5 ([[HTML5]], section 5.2).</p>
            </div>
            -->
        <p>
          A property name is an <dfn id="dfn-unforgeable-property-name" data-dfn-type="dfn">unforgeable property name</dfn> on a given platform object if the object implements an <a class="dfnref" href="#dfn-interface">interface</a> that has an <a class="dfnref" href="#dfn-interface-member">interface member</a> with that identifier and that interface member is <a class="dfnref" href="#dfn-unforgeable-on-an-interface">unforgeable</a> on any of the interfaces that <var>O</var> implements. If the object implements an
          <a class="xattr" href="#Unforgeable">[Unforgeable]</a>-annotated
          <a class="dfnref" href="#dfn-interface">interface</a>, then “toString” and “valueOf” are also <a class="dfnref" href="#dfn-unforgeable-property-name">unforgeable property names</a> on that object.
        </p>
        <p>
          The <dfn id="dfn-named-property-visibility" data-dfn-type="dfn">named property visibility algorithm</dfn> is used to determine if a given named property is exposed on an object. Some named properties are not exposed on an object depending on whether the <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>
          <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> was used. The algorithm operates as follows, with property name <var>P</var> and object <var>O</var>:
        </p>

        <ol class="algorithm">
          <li>If <var>P</var> is an <a class="dfnref" href="#dfn-unforgeable-property-name">unforgeable property name</a> on <var>O</var>, then return false.</li>
          <li>If <var>O</var> implements an <a class="dfnref" href="#dfn-interface">interface</a> with an <a class="xattr" href="#Unforgeable">[Unforgeable]</a>-annotated <a class="dfnref" href="#dfn-attribute">attribute</a> whose <a class="dfnref" href="#dfn-identifier">identifier</a> is <var>P</var>, then return false.</li>
          <li>If <var>P</var> is not a <a class="dfnref" href="#dfn-supported-property-names">supported property name</a> of <var>O</var>, then return false.</li>
          <li>If <var>O</var> implements an interface that has the <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>
            <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, then return true.</li>
          <li>If <var>O</var> has an own property named <var>P</var>, then return false.</li>
          <li>Initialize <var>prototype</var> to be the value of the internal <span class="prop">[[Prototype]]</span> property of <var>O</var>.</li>
          <li>While <var>prototype</var> is not null:
            <ol>
              <li>If <var>prototype</var> is not a <a class="dfnref" href="#dfn-named-properties-object">named properties object</a>, and <var>prototype</var> has an own property named <var>P</var>, then return false.</li>
              <li>Set <var>prototype</var> to be the value of the internal <span class="prop">[[Prototype]]</span> property of <var>prototype</var>.</li>
            </ol>
          </li>
          <li>Return true.</li>
        </ol>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note70"><span>Note</span></div>
          <div class="">
            <p>This should ensure that for objects with named properties, property resolution is done in the following order:</p>
            <ol>
              <li>Indexed properties.</li>
              <li>Unforgeable attributes and operations.</li>
              <li>Then, if <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>:
                <ol>
                  <li>Named properties.</li>
                  <li>Own properties.</li>
                  <li>Properties from the prototype chain.</li>
                </ol>
              </li>
              <li>Otherwise, if not <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>:
                <ol>
                  <li>Own properties.</li>
                  <!--
                    <li>Any named properties to be <a class='dfnref' href='#dfn-resolved-before-prototype-properties'>resolved before prototype properties</a>.</li>
                    -->
                  <li>Properties from the prototype chain.</li>
                  <!--
                    <li>Any other named properties.</li>
                    -->
                  <li>Named properties.</li>
                </ol>
              </li>
            </ol>
          </div>
        </div>
        <p>
          Support for <a class="dfnref" href="#dfn-getter">getters</a> is handled by the <a href="#getownproperty">platform object [[GetOwnProperty]] method</a> defined in section , and for <a class="dfnref" href="#dfn-setter">setters</a> by the <a href="#defineownproperty">platform object [[DefineOwnProperty]] method</a> defined in section and the <a href="#platformobjectset">platform object [[Set]] method</a> defined in section .
        </p>
      </section>

      <section id="getownproperty-guts" typeof="bibo:Chapter" resource="#getownproperty-guts" property="bibo:hasPart">
        <h4 id="h-getownproperty-guts" resource="#h-getownproperty-guts"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.8.2 </span>The PlatformObjectGetOwnProperty abstract operation</span></h4>

        <p>
          The <span class="prop">PlatformObjectGetOwnProperty</span> abstract operation performs the following steps when called with an object <var>O</var>, a property name <var>P</var>, and a boolean
          <var>ignoreNamedProps</var> value:
        </p>

        <ol class="algorithm">
          <li>
            If <var>O</var> <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a> and <var>P</var> is an <a class="dfnref" href="#dfn-array-index-property-name">array index property name</a>, then:
            <ol>
              <li>Let <var>index</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a>(<var>P</var>).</li>
              <li>If <var>index</var> is a <a class="dfnref" href="#dfn-supported-property-indices">supported property index</a>, then:
                <ol>
                  <li>Let <var>operation</var> be the operation used to declare the indexed property getter.</li>

                  <li>Let <var>value</var> be an uninitialized variable.</li>
                  <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then set <var>value</var> to the result of performing the steps listed in the interface description to
                    <a class="dfnref" href="#dfn-determine-the-value-of-an-indexed-property">determine the value of an indexed property</a> with <var>index</var> as the index.</li>
                  <li>Otherwise, <var>operation</var> was defined with an identifier. Set <var>value</var> to the result of performing the steps listed in the description of <var>operation</var> with <var>index</var> as the only argument value.</li>

                  <li>Let <var>desc</var> be a newly created <a class="external" href="https://tc39.github.io/ecma262/#sec-property-descriptor-specification-type">Property Descriptor</a> ( [
                    <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.2.4) with no fields.</li>
                  <li>Set <var>desc</var>.<span class="prop">[[Value]]</span> to the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                    <var>value</var> to an ECMAScript value.</li>
                  <li>If <var>O</var> implements an interface with an <a class="dfnref" href="#dfn-indexed-property-setter">indexed property setter</a>, then set
                    <var>desc</var>.<span class="prop">[[Writable]]</span> to <span class="esvalue">true</span>, otherwise set it to
                    <span class="esvalue">false</span>.</li>
                  <li>Set <var>desc</var>.<span class="prop">[[Enumerable]]</span> and <var>desc</var>.<span class="prop">[[Configurable]]</span> to <span class="esvalue">true</span>.</li>
                  <li>Return <var>desc</var>.</li>
                </ol>
              </li>
              <li>Set <var>ignoreNamedProps</var> to true.</li>
            </ol>
          </li>

          <li>If <var>O</var> <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>, <var>O</var> does not implement an <a class="dfnref" href="#dfn-interface">interface</a> with the <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
            <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, the result of running the <a class="dfnref" href="#dfn-named-property-visibility">named property visibility algorithm</a> with property name <var>P</var> and object <var>O</var> is true, and <var>ignoreNamedProps</var> is false, then:
            <ol>
              <li>Let <var>operation</var> be the operation used to declare the named property getter.</li>

              <li>Let <var>value</var> be an uninitialized variable.</li>
              <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then set <var>value</var> to the result of performing the steps listed in the interface description to
                <a class="dfnref" href="#dfn-determine-the-value-of-a-named-property">determine the value of a named property</a> with <var>P</var> as the name.</li>
              <li>Otherwise, <var>operation</var> was defined with an identifier. Set <var>value</var> to the result of performing the steps listed in the description of <var>operation</var> with <var>P</var> as the only argument value.</li>

              <li>Let <var>desc</var> be a newly created <a class="external" href="https://tc39.github.io/ecma262/#sec-property-descriptor-specification-type">Property Descriptor</a> ( [
                <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.2.4) with no fields.</li>
              <li>Set <var>desc</var>.<span class="prop">[[Value]]</span> to the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
                <var>value</var> to an ECMAScript value.</li>
              <li>If <var>O</var> implements an interface with a <a class="dfnref" href="#dfn-named-property-setter">named property setter</a>
                <!-- and
                    <var>O</var> does not implement an interface with the <a class='xattr' href='#Global'>[Global]</a> or <a class='xattr' href='#PrimaryGlobal'>[PrimaryGlobal]</a>
                    <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>-->, then set
                <var>desc</var>.<span class="prop">[[Writable]]</span> to <span class="esvalue">true</span>, otherwise set it to
                <span class="esvalue">false</span>.</li>
              <li>If the named property is defined to be <a class="dfnref" href="#dfn-unenumerable">unenumerable</a>, then set <var>desc</var>.<span class="prop">[[Enumerable]]</span> to <span class="esvalue">false</span>, otherwise set it to <span class="esvalue">true</span>.</li>
              <li>Set <var>desc</var>.<span class="prop">[[Configurable]]</span> to <span class="esvalue">true</span>.</li>
              <li>Return <var>desc</var>.</li>
            </ol>
          </li>

          <li>Return the result of calling the <a class="external" href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots-getownproperty-p">default <span class="prop">[[GetOwnProperty]]</span> internal method</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 9.1.5) on <var>O</var> passing <var>P</var> as the argument.</li>
        </ol>
      </section>

      <section id="getownproperty" typeof="bibo:Chapter" resource="#getownproperty" property="bibo:hasPart">
        <h4 id="h-getownproperty" resource="#h-getownproperty"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.8.3 </span>Platform object [[GetOwnProperty]] method</span></h4>

        <p>
          The internal <span class="prop">[[GetOwnProperty]]</span> method of every
          <a class="dfnref" href="#dfn-platform-object">platform object</a> <var>O</var> that implements an <a class="dfnref" href="#dfn-interface">interface</a> which <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed</a> or
          <a class="dfnref" href="#dfn-support-named-properties">named properties</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> behave as follows when called with property name <var>P</var>:
        </p>

        <ol class="algorithm">
          <li>
            Return the result of invoking the <a class="dfnref" href="#getownproperty-guts">PlatformObjectGetOwnProperty</a> abstract operation with
            <var>O</var>, <var>P</var>, and <span class="esvalue">false</span> as arguments.
          </li>
        </ol>
      </section>

      <section id="invoking-indexed-setter" typeof="bibo:Chapter" resource="#invoking-indexed-setter" property="bibo:hasPart">
        <h4 id="h-invoking-indexed-setter" resource="#h-invoking-indexed-setter"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.8.4 </span>Invoking a platform object indexed property setter</span></h4>
        <p>
          To <dfn id="invoke-indexed-setter" data-dfn-type="dfn">invoke an indexed property
              setter</dfn> with property name <var>P</var> and ECMAScript value
          <var>V</var>, the following steps <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be performed:
        </p>
        <ol class="algorithm">
          <li>Let <var>index</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a>(<var>P</var>).</li>
          <li>Let <var>creating</var> be true if <var>index</var> is not a <a class="dfnref" href="#dfn-supported-property-indices">supported property index</a>, and false otherwise.</li>
          <li>Let <var>operation</var> be the operation used to declare the indexed property setter.</li>
          <li>Let <var>T</var> be the type of the second argument of <var>operation</var>.</li>
          <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>V</var> to an IDL value of type <var>T</var>.</li>
          <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then:
            <ol>
              <li>If <var>creating</var> is true, then perform the steps listed in the interface description to
                <a class="dfnref" href="#dfn-set-the-value-of-a-new-indexed-property">set the value of a new indexed property</a> with <var>index</var> as the index and <var>value</var> as the value.</li>
              <li>Otherwise, <var>creating</var> is false. Perform the steps listed in the interface description to
                <a class="dfnref" href="#dfn-set-the-value-of-an-existing-indexed-property">set the value of an existing indexed property</a> with <var>index</var> as the index and <var>value</var> as the value.</li>
            </ol>
          </li>
          <li>Otherwise, <var>operation</var> was defined with an identifier. Perform the steps listed in the description of
            <var>operation</var> with <var>index</var> and <var>value</var> as the two argument values.</li>
        </ol>
      </section>

      <section id="invoking-named-setter" typeof="bibo:Chapter" resource="#invoking-named-setter" property="bibo:hasPart">
        <h4 id="h-invoking-named-setter" resource="#h-invoking-named-setter"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.8.5 </span>Invoking a platform object named property setter</span></h4>
        <p>
          To <dfn id="invoke-named-setter" data-dfn-type="dfn">invoke a named property
              setter</dfn> with property name <var>P</var> and ECMAScript value
          <var>V</var>, the following steps <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be performed:
        </p>
        <ol class="algorithm">
          <li>Let <var>creating</var> be true if <var>P</var> is not a <a class="dfnref" href="#dfn-supported-property-names">supported property name</a>, and false otherwise.</li>
          <li>Let <var>operation</var> be the operation used to declare the named property setter.</li>
          <li>Let <var>T</var> be the type of the second argument of <var>operation</var>.</li>
          <li>Let <var>value</var> be the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>V</var> to an IDL value of type <var>T</var>.</li>
          <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then:
            <ol>
              <li>If <var>creating</var> is true, then perform the steps listed in the interface description to
                <a class="dfnref" href="#dfn-set-the-value-of-a-new-named-property">set the value of a new named property</a> with <var>P</var> as the name and <var>value</var> as the value.</li>
              <li>Otherwise, <var>creating</var> is false. Perform the steps listed in the interface description to
                <a class="dfnref" href="#dfn-set-the-value-of-an-existing-named-property">set the value of an existing named property</a> with <var>P</var> as the name and <var>value</var> as the value.</li>
            </ol>
          </li>
          <li>Otherwise, <var>operation</var> was defined with an identifier. Perform the steps listed in the description of
            <var>operation</var> with <var>index</var> and <var>value</var> as the two argument values.</li>
        </ol>
      </section>

      <section id="platformobjectset" typeof="bibo:Chapter" resource="#platformobjectset" property="bibo:hasPart">
        <h4 id="h-platformobjectset" resource="#h-platformobjectset"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.8.6 </span>Platform object [[Set]] method</span></h4>

        <p>
          The internal <span class="prop">[[Set]]</span> method of every
          <a class="dfnref" href="#dfn-platform-object">platform object</a> <var>O</var> that implements an <a class="dfnref" href="#dfn-interface">interface</a> which <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed</a> or
          <a class="dfnref" href="#dfn-support-named-properties">named properties</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> behave as follows when called with property name <var>P</var>, value <var>V</var>, and ECMAScript language value <var>Receiver</var>:
        </p>

        <ol class="algorithm">
          <li>If <var>O</var> and <var>Receiver</var> are the same object, then:
            <ol>
              <li>
                If <var>O</var> <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed
                  properties</a>, <var>P</var> is an <a class="dfnref" href="#dfn-array-index-property-name">array index property
                  name</a>, and <var>O</var> implements an interface with an <a class="dfnref" href="#dfn-indexed-property-setter">indexed
                  property setter</a>, then:
                <ol>
                  <li>
                    <a href="#invoking-indexed-setter">Invoke the indexed
                      property setter</a> with <var>P</var> and <var>V</var>.
                  </li>
                  <li>Return <span class="esvalue">true</span>.</li>
                </ol>
              </li>

              <li>
                If <var>O</var> <a class="dfnref" href="#dfn-support-named-properties">supports named
                  properties</a>, <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>P</var>) is String,
                <var>P</var> is not an <a class="dfnref" href="#dfn-array-index-property-name">array index property
                  name</a>, and <var>O</var> implements an interface with a <a class="dfnref" href="#dfn-named-property-setter">named
                  property setter</a>, then:
                <ol>
                  <li>
                    <a href="#invoking-named-setter">Invoke the named
                      property setter</a> with <var>P</var> and <var>V</var>.
                  </li>
                  <li>Return <span class="esvalue">true</span>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>
            Let <var>ownDesc</var> be the result of invoking the <a class="dfnref" href="#getownproperty-guts">PlatformObjectGetOwnProperty</a> abstract operation with
            <var>O</var>, <var>P</var>, and <span class="esvalue">true</span> as arguments.
          </li>
          <li>
            Perform steps 3-11 of the <a class="external" href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots-set-p-v-receiver">default [[Set]] internal method</a> ( [
            <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 9.1.9).
          </li>
        </ol>
      </section>

      <section id="defineownproperty" typeof="bibo:Chapter" resource="#defineownproperty" property="bibo:hasPart">
        <h4 id="h-defineownproperty" resource="#h-defineownproperty"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.8.7 </span>Platform object [[DefineOwnProperty]] method</span></h4>

        <p>
          When the internal <span class="prop">[[DefineOwnProperty]]</span> method of a
          <a class="dfnref" href="#dfn-platform-object">platform object</a> <var>O</var> that implements an <a class="dfnref" href="#dfn-interface">interface</a> which
          <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed</a> or
          <a class="dfnref" href="#dfn-support-named-properties">named properties</a> is called with property key <var>P</var> and <a class="external" href="https://tc39.github.io/ecma262/#sec-property-descriptor-specification-type">Property Descriptor</a> ( [
          <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.2.4)
          <var>Desc</var>, the following steps <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be taken:
        </p>

        <ol class="algorithm">
          <li>
            If <var>O</var> <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a> and
            <var>P</var> is an <a class="dfnref" href="#dfn-array-index-property-name">array index property name</a>, then:
            <ol>
              <li>
                If the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-isdatadescriptor">IsDataDescriptor</a>(<var>Desc</var>) is
                <span class="esvalue">false</span>, then return
                <span class="esvalue">false</span>.
              </li>
              <li>
                If <var>O</var> does not implement an interface with an
                <a class="dfnref" href="#dfn-indexed-property-setter">indexed property
                    setter</a>, then return <span class="esvalue">false</span>.
              </li>
              <li>
                <a href="#invoking-indexed-setter">Invoke the indexed property setter</a> with
                <var>P</var> and <var>Desc</var>.<span class="prop">[[Value]]</span>.
              </li>
              <li>
                Return <span class="esvalue">true</span>.
              </li>
            </ol>
          </li>

          <li>
            If <var>O</var> <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>,
            <var>O</var> does not implement an <a class="dfnref" href="#dfn-interface">interface</a> with the
            <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> and <var>P</var> is not an <a class="dfnref" href="#dfn-unforgeable-property-name">unforgeable property name</a> of <var>O</var>, then:
            <ol>
              <li>Let <var>creating</var> be true if <var>P</var> is not a <a class="dfnref" href="#dfn-supported-property-names">supported property name</a>, and false otherwise.</li>
              <!--
                  <li>If <var>creating</var> is false and <var>O</var> implements an interface with the <a class='xattr' href='#Global'>[Global]</a> or <a class='xattr' href='#PrimaryGlobal'>[PrimaryGlobal]</a>
                    <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>, then:
                    <ol>
                      <li>If the result of calling <a href='http://es5.github.com/#x8.10.1' class='dfnref external'>IsAccessorDescriptor</a>(<var>Desc</var>) is <span class='esvalue'>true</span>, then:
                        <ol>
                          <li>Create an own accessor property named <var>P</var> on <var>O</var> whose <span class='prop'>[[\Get]]</span>,
                            <span class='prop'>[[\Set]]</span>, <span class='prop'>[[\Enumerable]]</span> and <span class='prop'>[[\Configurable]]</span>
                            attribute values are described by <var>Desc</var>.  If the value of an attribute field of <var>Desc</var> is absent,
                            the attribute of the newly created property is set to its default value ([[!ECMA-262]], section 8.6.1).</li>
                        </ol>
                      </li>
                      <li>Otherwise:
                        <ol>
                          <li>Create an own data property named <var>P</var> on <var>O</var> whose <span class='prop'>[[\Value]]</span>,
                            <span class='prop'>[[\Writable]]</span>, <span class='prop'>[[\Enumerable]]</span> and <span class='prop'>[[\Configurable]]</span>
                            attribute values are described by <var>Desc</var>.  If the value of an attribute field of <var>Desc</var> is absent,
                            the attribute of the newly created property is set to its default value ([[!ECMA-262]], section 8.6.1).</li>
                        </ol>
                      </li>
                      <li>Return <span class='esvalue'>true</span>.</li>
                    </ol>
                  </li>
                  -->
              <li>
                <!--Otherwise, i-->If <var>O</var> implements an interface with the <a class="xattr" href="#OverrideBuiltins">[OverrideBuiltins]</a>
                <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> or <var>O</var> does not have an own property named <var>P</var>, then:
                <ol>
                  <li>
                    If <var>creating</var> is false and <var>O</var> does not implement an interface with a <a class="dfnref" href="#dfn-named-property-setter">named
                        property setter</a>, then return <span class="esvalue">false</span>.
                  </li>
                  <li>
                    If <var>O</var> implements an interface with a
                    <a class="dfnref" href="#dfn-named-property-setter">named property
                        setter</a>, then:
                    <ol>
                      <li>
                        If the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-isdatadescriptor">IsDataDescriptor</a>(<var>Desc</var>) is
                        <span class="esvalue">false</span>, then return
                        <span class="esvalue">false</span>.
                      </li>
                      <li>
                        <a href="#invoking-named-setter">Invoke the named property setter</a> with <var>P</var> and
                        <var>Desc</var>.<span class="prop">[[Value]]</span>.
                      </li>
                      <li>
                        Return <span class="esvalue">true</span>.
                      </li>
                    </ol>
                  </li>
                </ol>
              </li>
            </ol>
          </li>

          <li>
            If <var>O</var> does not implement an
            <a class="dfnref" href="#dfn-interface">interface</a> with the
            <a class="xattr" href="#Global">[Global]</a> or
            <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a>
            <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>, then set
            <var>Desc</var>.<span class="prop">[[Configurable]]</span> to
            <span class="esvalue">true</span>.
          </li>

          <li>
            Return <a class="external" href="https://tc39.github.io/ecma262/#sec-ordinarydefineownproperty">OrdinaryDefineOwnProperty</a>(<var>O</var>, <var>P</var>,
            <var>Desc</var>).
          </li>
        </ol>
      </section>

      <section id="delete" typeof="bibo:Chapter" resource="#delete" property="bibo:hasPart">
        <h4 id="h-delete" resource="#h-delete"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.8.8 </span>Platform object [[Delete]] method</span></h4>

        <p>
          The internal <span class="prop">[[Delete]]</span> method of every
          <a class="dfnref" href="#dfn-platform-object">platform object</a> <var>O</var> that implements an <a class="dfnref" href="#dfn-interface">interface</a> which <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed</a> or
          <a class="dfnref" href="#dfn-support-named-properties">named properties</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> behave as follows when called with property name <var>P</var>.
        </p>

        <ol class="algorithm">
          <li>
            If <var>O</var> <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a> and
            <var>P</var> is an <a class="dfnref" href="#dfn-array-index-property-name">array index property name</a>, then:
            <ol>
              <li>Let <var>index</var> be the result of calling <a class="external" href="https://tc39.github.io/ecma262/#sec-touint32">ToUint32</a>(<var>P</var>).</li>
              <li>If <var>index</var> is not a <a class="dfnref" href="#dfn-supported-property-indices">supported property index</a>, then return <span class="esvalue">true</span>.</li>
              <li>Return <span class="esvalue">false</span>.</li>
            </ol>
          </li>

          <li>
            If <var>O</var> <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>,
            <var>O</var> does not implement an <a class="dfnref" href="#dfn-interface">interface</a> with the
            <a class="xattr" href="#Global">[Global]</a> or <a class="xattr" href="#PrimaryGlobal">[PrimaryGlobal]</a> <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a> and the result of calling the <a class="dfnref" href="#dfn-named-property-visibility">named property visibility algorithm</a> with property name <var>P</var> and object <var>O</var> is true, then:
            <ol>
              <li>If <var>O</var> does not implement an interface with a <a class="dfnref" href="#dfn-named-property-deleter">named property deleter</a>, then <span class="esvalue">false</span>.</li>
              <li>Let <var>operation</var> be the operation used to declare the named property deleter.</li>
              <li>If <var>operation</var> was defined without an <a class="dfnref" href="#dfn-identifier">identifier</a>, then:
                <ol>
                  <li>Perform the steps listed in the interface description to
                    <a class="dfnref" href="#dfn-delete-an-existing-named-property">delete an existing named property</a> with <var>P</var> as the name.</li>
                  <li>If the steps indicated that the deletion failed, then <span class="esvalue">false</span>.</li>
                </ol>
              </li>
              <li>Otherwise, <var>operation</var> was defined with an identifier:
                <ol>
                  <li>Perform the steps listed in the description of <var>operation</var> with <var>P</var> as the only argument value.</li>
                  <li>If <var>operation</var> was declared with a <a class="dfnref" href="#dfn-return-type">return type</a> of <a class="idltype" href="#idl-boolean">boolean</a> and the steps returned <span class="idlvalue">false</span>, then <span class="esvalue">false</span>.</li>
                </ol>
              </li>
              <li>Return <span class="esvalue">true</span>.</li>
            </ol>
          </li>

          <li>If <var>O</var> has an own property with name <var>P</var>, then:
            <ol>
              <li>If the property is not configurable, then <span class="esvalue">false</span>.</li>
              <li>Otherwise, remove the property from <var>O</var>.</li>
            </ol>
          </li>
          <li>Return <span class="esvalue">true</span>.</li>
        </ol>
      </section>

      <section id="call" typeof="bibo:Chapter" resource="#call" property="bibo:hasPart">
        <h4 id="h-call" resource="#h-call"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.8.9 </span>Platform object [[Call]] method</span></h4>

        <p>
          The internal <span class="prop">[[Call]]</span> method of every
          <a class="dfnref" href="#dfn-platform-object">platform object</a> <var>O</var> that implements an <a class="dfnref" href="#dfn-interface">interface</a>
          <var>I</var> with at least one <a class="dfnref" href="#dfn-legacy-caller">legacy caller</a>
          <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> behave as follows, assuming
          <var>arg</var><sub>0..<var>n</var>−1</sub> is the list of argument values passed to <span class="prop">[[Call]]</span>:
        </p>
        <ol class="algorithm">
          <li>Initialize <var>S</var> to the <a class="dfnref" href="#dfn-effective-overload-set">effective overload set</a> for legacy callers on <var>I</var> and with argument count <var>n</var>.</li>
          <li>
            Let &lt;<var>operation</var>, <var>values</var>&gt; be the result of passing <var>S</var> and
            <var>arg</var><sub>0..<var>n</var>−1</sub> to the
            <a class="dfnref" href="#dfn-overload-resolution-algorithm">overload resolution algorithm</a>.
          </li>
          <li>Perform the actions listed in the description of the legacy caller <var>operation</var> with
            <var>values</var> as the argument values.</li>
          <li>Return the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> the return value from those actions to an ECMAScript value of the type
            <var>operation</var> is declared to return (or <span class="esvalue">undefined</span> if <var>operation</var> is declared to return <a class="idltype" href="#idl-void">void</a>).</li>
        </ol>
      </section>

      <section id="property-enumeration" typeof="bibo:Chapter" resource="#property-enumeration" property="bibo:hasPart">
        <h4 id="h-property-enumeration" resource="#h-property-enumeration"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.8.10 </span>Property enumeration</span></h4>

        <p>
          This document does not define a complete property enumeration order for all <a class="dfnref" href="#dfn-platform-object">platform objects</a> implementing <a class="dfnref" href="#dfn-interface">interfaces</a> (or for <a href="#es-exception-objects">platform objects representing exceptions</a>). However, if a platform object implements an interface that
          <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed</a> or
          <a class="dfnref" href="#dfn-support-named-properties">named properties</a>, then properties on the object <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be enumerated in the following order:
        </p>
        <ol>
          <li>If the object <a class="dfnref" href="#dfn-support-indexed-properties">supports indexed properties</a>, then the object’s <a class="dfnref" href="#dfn-supported-property-indices">supported property indices</a> are enumerated first, in numerical order.</li>
          <li>If the object <a class="dfnref" href="#dfn-support-named-properties">supports named properties</a>, then the object’s <a class="dfnref" href="#dfn-supported-property-names">supported property names</a> that are visible according to the <a class="dfnref" href="#dfn-named-property-visibility">named property visibility algorithm</a> and which are not stated to be <dfn id="dfn-unenumerable" data-dfn-type="dfn">unenumerable</dfn> are enumerated next, in the order given in the definition of the set of supported property names.</li>
          <li>Finally, any enumerable own properties or properties from the object’s prototype chain are then enumerated, in no defined order.</li>
        </ol>
        <div class="note">
          <div class="note-title marker" aria-level="5" role="heading" id="h-note71"><span>Note</span></div>
          <div class="">
            <p>Future versions of the ECMAScript specification may define a total order for property enumeration.</p>
          </div>
        </div>
      </section>
    </section>

    <section id="es-user-objects" typeof="bibo:Chapter" resource="#es-user-objects" property="bibo:hasPart">
      <h3 id="h-es-user-objects" resource="#h-es-user-objects"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.9 </span>User objects implementing callback interfaces</span></h3>

      <p>
        As described in <a href="#idl-objects">section </a><a href="#idl-objects">3.9 </a> ,
        <a class="dfnref" href="#dfn-callback-interface">callback interfaces</a> can be implemented in script by an ECMAScript object. The following cases determine whether and how a given object is considered to be a user object implementing a callback interface:
      </p>
      <ul>
        <li>
          If the interface is a <a class="dfnref" href="#dfn-single-operation-callback-interface">single operation callback interface</a> object is considered to implement the interface. The implementation of the operation (or set of overloaded operations) is as follows:
          <ul>
            <li>If the object is <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">callable</a>, then the implementation of the operation (or set of overloaded operations) is the callable object itself.</li>
            <li>Otherwise, the object is not <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">callable</a>. The implementation of the operation (or set of overloaded operations) is the result of invoking the internal <span class="prop">[[Get]]</span> method on the object with a property name that is the <a class="dfnref" href="#dfn-identifier">identifier</a> of the operation.</li>
          </ul>
        </li>
        <li>
          Otherwise, the interface is not a <a class="dfnref" href="#dfn-single-operation-callback-interface">single operation callback interface</a> object is considered to implement the interface. For each operation declared on the interface with a given <a class="dfnref" href="#dfn-identifier">identifier</a>, the implementation is the result of invoking <span class="prop">[[Get]]</span> on the object with a property name that is that identifier.
        </li>
      </ul>
      <p>
        A <dfn id="dfn-single-operation-callback-interface" data-dfn-type="dfn">single operation callback interface</dfn> is a <a class="dfnref" href="#dfn-callback-interface">callback interface</a> that:
      </p>
      <ul>
        <li>is not declared to <a class="dfnref" href="#dfn-inherit">inherit</a> from another interface,</li>
        <li>has no <a class="dfnref" href="#dfn-attribute">attributes</a>, and</li>
        <li>has one or more <a class="dfnref" href="#dfn-regular-operation">regular operations</a> that all have the same <a class="dfnref" href="#dfn-identifier">identifier</a>, and no others.</li>
      </ul>
      <p>
        A <a class="dfnref" href="#dfn-user-object">user object</a>’s
        <a class="dfnref" href="#dfn-operation">operation</a> is called with a list of IDL argument values <var>idlarg</var><sub>0..<var>n</var>−1</sub> by following the algorithm below. The <dfn id="dfn-callback-this-value" data-dfn-type="dfn">callback this value</dfn> is the value to use as the <span class="esvalue">this</span> value when a <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">callable</a> object was supplied as the implementation of a
        <a class="dfnref" href="#dfn-single-operation-callback-interface">single operation callback interface</a>. By default, <span class="esvalue">undefined</span> is used as the <a class="dfnref" href="#dfn-callback-this-value">callback this value</a>, however this <span class="rfc2119"><em class="rfc2119" title="MAY">MAY</em></span> be overridden by other specifications.
      </p>
      <ol class="algorithm">
        <li>Try running the following steps:
          <ol>
            <li>Let <var>V</var> be the IDL <a class="dfnref" href="#idl-interface">callback interface type</a> value that represents the <a class="dfnref" href="#dfn-user-object">user object</a> implementing the <a class="dfnref" href="#dfn-interface">interface</a>.</li>
            <li>Let <var>O</var> be the ECMAScript object corresponding to <var>V</var>.</li>
            <li>Let <var>X</var> be the implementation of the operation. If the interface is a <a class="dfnref" href="#dfn-single-operation-callback-interface">single operation callback interface</a> and <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a>(<var>O</var>) is true, then <var>X</var> is <var>O</var>. Otherwise, <var>X</var> is the result of calling the internal <span class="prop">[[Get]]</span> method of <var>O</var> with the identifier of the operation as the property name.</li>
            <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>(<var>X</var>) is not Object, <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a> exception.</li>
            <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a>(<var>X</var>) is false, then <a href="#ecmascript-throw" class="dfnref external">throw a <span class="estype">TypeError</span></a> exception.</li>
            <li>Let <var>this</var> be <var>O</var> if the interface is not a <a class="dfnref" href="#dfn-single-operation-callback-interface">single operation callback interface</a> or if <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a>(<var>O</var>) is false, and the <a class="dfnref" href="#dfn-callback-this-value">callback this value</a> otherwise.</li>
            <li>
              Let <var>arg</var><sub>0..<var>n</var>−1</sub> be a list of ECMAScript values, where <var>arg</var><sub><var>i</var></sub> is the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a>
              <var>idlarg</var><sub><var>i</var></sub> to an ECMAScript value.
            </li>
            <li>Let <var>script</var> be the <a class="dfnref" href="#dfn-callback-context">callback context</a> associated with <var>V</var>.</li>
            <li>Push <var>script</var> on to the <a class="dfnref external" href="http://www.w3.org/TR/html5/webappapis.html#stack-of-script-settings-objects">stack of incumbent scripts</a>. [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]</li>
            <li>Let <var>R</var> be an uninitialized variable.</li>
            <li>Try running the following step:
              <ol>
                <li>Set <var>R</var> to the result of invoking the <span class="prop">[[Call]]</span> method of <var>X</var>, providing <var>this</var> as the <span class="esvalue">this</span> value and <var>arg</var><sub>0..<var>n</var>−1</sub> as the argument values.</li>
              </ol>
              And then, whether or not an exception was thrown:
              <ol>
                <li>Pop <var>script</var> off the <a class="dfnref external" href="http://www.w3.org/TR/html5/webappapis.html#stack-of-script-settings-objects">stack of incumbent scripts</a>.</li>
                <li>If an exception was thrown, end these steps, and allow it to propagate.</li>
              </ol>
            </li>
            <li>If the operation’s return type is <a class="idltype" href="#idl-void">void</a>, return.</li>
            <li>
              Return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
              <var>R</var> to an IDL value of the same type as the operation’s return type.
            </li>
          </ol>
          And then, if an exception was thrown:
          <ol>
            <li>If the operation has a <a class="dfnref" href="#dfn-return-type">return type</a> that is a <a href="#idl-promise">promise type</a>, then:
              <ol>
                <li>Let <var>reject</var> be the initial value of <a class="nocite external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%Promise%</a>.reject.</li>
                <li>Return the result of calling <var>reject</var> with <a class="nocite external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%Promise%</a> as the <span class="esvalue">this</span> object and the exception as the single argument value.</li>
              </ol>
            </li>
            <li>Otherwise, end these steps and allow the exception to propagate.</li>
          </ol>
        </li>
      </ol>
      <p>
        Note that ECMAScript objects need not have properties corresponding to <a class="dfnref" href="#dfn-constant">constants</a> on them to be considered as <a class="dfnref" href="#dfn-user-object">user objects</a> implementing <a class="dfnref" href="#dfn-interface">interfaces</a> that happen to have constants declared on them.
      </p>
      <p>
        The value of a <a class="dfnref" href="#dfn-user-object">user object</a>’s
        <a class="dfnref" href="#dfn-attribute">attribute</a> is retrieved using the following algorithm:
      </p>
      <ol class="algorithm">
        <li>Try running the following steps:
          <ol>
            <li>Let <var>V</var> be the IDL <a class="dfnref" href="#idl-interface">callback interface type</a> value that represents the <a class="dfnref" href="#dfn-user-object">user object</a> implementing the <a class="dfnref" href="#dfn-interface">interface</a>.</li>
            <li>Let <var>O</var> be the ECMAScript object corresponding to <var>V</var>.</li>
            <li>Let <var>P</var> be the <a class="dfnref" href="#dfn-identifier">identifier</a> of the attribute.</li>
            <li>Let <var>script</var> be the <a class="dfnref" href="#dfn-callback-context">callback context</a> associated with <var>V</var>.</li>
            <li>Push <var>script</var> on to the <a class="dfnref external" href="http://www.w3.org/TR/html5/webappapis.html#stack-of-script-settings-objects">stack of incumbent scripts</a>. [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]</li>
            <li>Let <var>R</var> be an uninitialized variable.</li>
            <li>Try running the following step:
              <ol>
                <li>Set <var>R</var> to the result of invoking the <span class="prop">[[Get]]</span> method of <var>O</var> with property name <var>P</var>.</li>
              </ol>
              And then, whether or not an exception was thrown:
              <ol>
                <li>Pop <var>script</var> off the <a class="dfnref external" href="http://www.w3.org/TR/html5/webappapis.html#stack-of-script-settings-objects">stack of incumbent scripts</a>.</li>
                <li>If an exception was thrown, end these steps, and allow it to propagate.</li>
              </ol>
            </li>
            <li>Return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a> <var>R</var> to an IDL value of the same type as the attribute’s type.</li>
          </ol>
          And then, if an exception was thrown:
          <ol>
            <li>If the attribute has a <a class="dfnref" href="#dfn-return-type">return type</a> that is a <a href="#idl-promise">promise type</a>, then:
              <ol>
                <li>Let <var>reject</var> be the initial value of <a class="nocite external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%Promise%</a>.reject.</li>
                <li>Return the result of calling <var>reject</var> with <a class="nocite external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%Promise%</a> as the <span class="esvalue">this</span> object and the exception as the single argument value.</li>
              </ol>
            </li>
            <li>Otherwise, end these steps and allow the exception to propagate.</li>
          </ol>
        </li>
      </ol>
      <p>
        The value of a <a class="dfnref" href="#dfn-user-object">user object</a>’s
        <a class="dfnref" href="#dfn-attribute">attribute</a> is set using the following algorithm:
      </p>
      <ol class="algorithm">
        <li>Let <var>V</var> be the IDL <a class="dfnref" href="#idl-interface">callback interface type</a> value that represents the <a class="dfnref" href="#dfn-user-object">user object</a> implementing the <a class="dfnref" href="#dfn-interface">interface</a>.</li>
        <li>Let <var>O</var> be the ECMAScript object corresponding to <var>V</var>.</li>
        <li>Let <var>P</var> be the <a class="dfnref" href="#dfn-identifier">identifier</a> of the attribute.</li>
        <li>Let <var>V</var> be the IDL value to be assigned to the attribute.</li>
        <li>Let <var>W</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>V</var> to an ECMAScript value.</li>
        <li>Let <var>script</var> be the <a class="dfnref" href="#dfn-callback-context">callback context</a> associated with <var>V</var>.</li>
        <li>Push <var>script</var> on to the <a class="dfnref external" href="http://www.w3.org/TR/html5/webappapis.html#stack-of-script-settings-objects">stack of incumbent scripts</a>. [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]</li>
        <li>Try running the following step:
          <ol>
            <li>Invoke the <span class="prop">[[Put]]</span> method of <var>O</var> with property name <var>P</var> and value <var>W</var>.</li>
          </ol>
          And then, whether or not an exception was thrown:
          <ol>
            <li>Pop <var>script</var> off the <a class="dfnref external" href="http://www.w3.org/TR/html5/webappapis.html#stack-of-script-settings-objects">stack of incumbent scripts</a>.</li>
            <li>If an exception was thrown, end these steps, and allow it to propagate.</li>
          </ol>
        </li>
      </ol>
    </section>

    <section id="es-invoking-callback-functions" typeof="bibo:Chapter" resource="#es-invoking-callback-functions" property="bibo:hasPart">
      <h3 id="h-es-invoking-callback-functions" resource="#h-es-invoking-callback-functions"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.10 </span>Invoking callback functions</span></h3>

      <p>
        An ECMAScript <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">callable</a> object that is being used as a <a class="dfnref" href="#dfn-callback-function">callback function</a> value is called in a manner similar to how <a class="dfnref" href="#dfn-operation">operations</a> on <a class="dfnref" href="#dfn-user-object">user objects</a> are called (as described in the previous section). The <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">callable</a> object is called with a list of values
        <var>arg</var><sub>0..<var>n</var>−1</sub>, each of which is either an IDL value of the special value “missing” (representing a missing optional argument), by following the algorithm below. By default, the <a class="dfnref" href="#dfn-callback-this-value">callback this value</a> when invoking a <a class="dfnref" href="#dfn-callback-function">callback function</a> is <span class="esvalue">undefined</span>, unless overridden by other specifications.
      </p>
      <ol class="algorithm">
        <li>Try running the following steps:
          <ol>
            <li>Let <var>V</var> be the IDL <a class="dfnref" href="#idl-callback-function">callback function type</a> value.</li>
            <li>Let <var>F</var> be the ECMAScript object corresponding to <var>V</var>.</li>
            <li>Let <var>R</var> be an uninitialized variable.</li>
            <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-iscallable">IsCallable</a>(<var>F</var>) is false, then set <var>R</var> to the value <span class="estype">undefined</span>.</li>
            <li>Otherwise,
              <ol>
                <li>Initialize <var>values</var> to be an empty list of ECMAScript values.</li>
                <li>Initialize <var>count</var> to 0.</li>
                <li>Initialize <var>i</var> to 0.</li>
                <li>While <var>i</var> &lt; <var>n</var>:
                  <ol>
                    <li>If <var>arg</var><sub><var>i</var></sub> is the special value “missing”, then append to <var>values</var> the ECMAScript <span class="estype">undefined</span> value.</li>
                    <li>Otherwise, <var>arg</var><sub><var>i</var></sub> is an IDL value. Append to <var>values</var> the result of
                      <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>arg</var><sub><var>i</var></sub> to an ECMAScript value, and set <var>count</var> to <var>i</var> + 1.</li>
                    <li>Set <var>i</var> to <var>i</var> + 1.</li>
                  </ol>
                </li>
                <li>Truncate <var>values</var> to have length <var>count</var>.</li>
                <li>Let <var>script</var> be the <a class="dfnref" href="#dfn-callback-context">callback context</a> associated with <var>V</var>.</li>
                <li>Push <var>script</var> on to the <a class="dfnref external" href="http://www.w3.org/TR/html5/webappapis.html#stack-of-script-settings-objects">stack of incumbent scripts</a>. [<cite><a class="bibref" href="#bib-HTML5">HTML5</a></cite>]</li>
                <li>Try running the following step:
                  <ol>
                    <li>Set <var>R</var> to the result of invoking the <span class="prop">[[Call]]</span> method of <var>F</var>, providing the <a class="dfnref" href="#dfn-callback-this-value">callback this value</a> as the <span class="esvalue">this</span> value and <var>values</var> as the argument values.</li>
                  </ol>
                  And then, whether or not an exception was thrown:
                  <ol>
                    <li>Pop <var>script</var> off the <a class="dfnref external" href="http://www.w3.org/TR/html5/webappapis.html#stack-of-script-settings-objects">stack of incumbent scripts</a>.</li>
                    <li>If an exception was thrown, end these steps, and allow it to propagate.</li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>If the callback function’s return type is <a class="idltype" href="#idl-void">void</a>, return.</li>
            <li>
              Return the result of <a class="dfnref" href="#dfn-convert-ecmascript-to-idl-value">converting</a>
              <var>R</var> to an IDL value of the same type as the callback function’s return type.
            </li>
          </ol>
          And then, if an exception was thrown:
          <ol>
            <li>If the callback function has a <a class="dfnref" href="#dfn-return-type">return type</a> that is a <a href="#idl-promise">promise type</a>, then:
              <ol>
                <li>Let <var>reject</var> be the initial value of <a class="nocite external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%Promise%</a>.reject.</li>
                <li>Return the result of calling <var>reject</var> with <a class="nocite external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%Promise%</a> as the <span class="esvalue">this</span> object and the exception as the single argument value.</li>
              </ol>
            </li>
            <li>Otherwise, end these steps and allow the exception to propagate.</li>
          </ol>
        </li>
      </ol>
    </section>

    <section id="es-exceptions" typeof="bibo:Chapter" resource="#es-exceptions" property="bibo:hasPart">
      <h3 id="h-es-exceptions" resource="#h-es-exceptions"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.11 </span>Exceptions</span></h3>

      <p>
        There <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> exist a property on the ECMAScript global object whose name is “DOMException” and value is an object called the
        <dfn id="dfn-DOMException-constructor-object" data-dfn-type="dfn">DOMException constructor object</dfn>, which provides access to legacy DOMException code constants and allows construction of DOMException instances. The property has the attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>.
      </p>

      <section id="es-DOMException-constructor-object" typeof="bibo:Chapter" resource="#es-DOMException-constructor-object" property="bibo:hasPart">
        <h4 id="h-es-domexception-constructor-object" resource="#h-es-domexception-constructor-object"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.11.1 </span>DOMException constructor object</span></h4>

        <p>
          The DOMException constructor object <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be a <a class="dfnref" href="#dfn-function-object">function object</a> but with a <span class="prop">[[Prototype]]</span> value of <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%Error%</a> ( [
          <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4).
        </p>
        <p>
          For every legacy code listed in the <a href="#dfn-error-names-table">error names table</a>, there <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be a property on the DOMException constructor object whose name and value are as indicated in the table. The property has attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">false</span>&nbsp;}</span>.
        </p>
        <p>
          The DOMException constructor object <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> also have a property named “prototype” with attributes
          <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">false</span>&nbsp;}</span>
          whose value is an object called the <dfn id="dfn-DOMException-prototype-object" data-dfn-type="dfn">DOMException prototype object</dfn>. This object also provides access to the legacy code values.
        </p>

        <section id="es-DOMException-call" typeof="bibo:Chapter" resource="#es-DOMException-call" property="bibo:hasPart">
          <h5 id="h-es-domexception-call" resource="#h-es-domexception-call"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.11.1.1 </span>DOMException(message, name)</span></h5>

          <p>When the DOMException function is called with arguments <var>message</var> and <var>name</var>, the following steps are taken:</p>

          <ol class="algorithm">
            <li>Let <var>F</var> be the active function object.</li>
            <li>If NewTarget is <span class="esvalue">undefined</span>, let <var>newTarget</var> be <var>F</var>, else let <var>newTarget</var> be NewTarget.</li>
            <li>Let <var>super</var> be <var>F</var>.[[GetPrototypeOf]]().</li>
            <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>super</var>).</li>
            <li>If <a class="external" href="https://tc39.github.io/ecma262/#sec-isconstructor">IsConstructor</a>(<var>super</var>) is <span class="esvalue">false</span>, throw a <span class="esvalue">TypeError</span> exception.</li>
            <li>Let <var>O</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-construct">Construct</a>(<var>super</var>, «<var>message</var>», <var>newTarget</var>).</li>
            <li>If <var>name</var> is not <span class="esvalue">undefined</span>, then
              <ol>
                <li>Let <var>name</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a>(<var>name</var>).</li>
                <li>Let <var>status</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a>(<var>O</var>, <code>"name"</code>, PropertyDescriptor<span class="descriptor">{[[Value]]: <var>name</var>, [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>}</span>).</li>
                <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>status</var>).</li>
                <li>Let <var>code</var> be the legacy code indicated in the <a class="dfnref" href="#dfn-error-names-table">error names table</a> for error name <var>name</var>, or <span class="esvalue">0</span> if there is none.</li>
                <li>Let <var>status</var> be <a class="external" href="https://tc39.github.io/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a>(<var>O</var>, <code>"code"</code>, PropertyDescriptor<span class="descriptor">{[[Value]]: <var>code</var>, [[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>}</span>).</li>
                <li><a class="external" href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>(<var>status</var>).</li>
              </ol>
            </li>
            <li>Return <var>O</var>.</li>
          </ol>
        </section>
      </section>

      <section id="es-DOMException-prototype-object" typeof="bibo:Chapter" resource="#es-DOMException-prototype-object" property="bibo:hasPart">
        <h4 id="h-es-domexception-prototype-object" resource="#h-es-domexception-prototype-object"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.11.2 </span>DOMException prototype object</span></h4>

        <p>
          The DOMException prototype object <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> have an internal <span class="prop">[[Prototype]]</span> property whose value is <a class="external" href="https://tc39.github.io/ecma262/#sec-well-known-intrinsic-objects">%ErrorPrototype%</a> ( [
          <cite><a class="bibref" href="#bib-ECMA-262">ECMA-262</a></cite>] , section 6.1.7.4).
        </p>
        <p>
          The <a class="dfnref" href="#dfn-class-string">class string</a> of the
          <a class="dfnref" href="#dfn-DOMException-prototype-object">DOMException prototype object</a> is “DOMExceptionPrototype”.
        </p>
        <p>
          There <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be a property named “constructor” on the DOMException prototype object with attributes
          <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">true</span>, [[Enumerable]]: <span class="esvalue">false</span>, [[Configurable]]: <span class="esvalue">true</span>&nbsp;}</span>
          and whose value is the <a class="dfnref" href="#dfn-DOMException-constructor-object">DOMException constructor object</a>.
        </p>
        <p>
          For every legacy code listed in the <a href="#dfn-error-names-table">error names table</a>, there <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be a property on the DOMException prototype object whose name and value are as indicated in the table. The property has attributes <span class="descriptor">{&nbsp;[[Writable]]: <span class="esvalue">false</span>, [[Enumerable]]: <span class="esvalue">true</span>, [[Configurable]]: <span class="esvalue">false</span>&nbsp;}</span>.
        </p>
      </section>
    </section>

    <section id="es-exception-objects" typeof="bibo:Chapter" resource="#es-exception-objects" property="bibo:hasPart">
      <h3 id="h-es-exception-objects" resource="#h-es-exception-objects"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.12 </span>Exception objects</span></h3>

      <p>
        <a class="dfnref" href="#dfn-simple-exception">Simple exceptions</a> are represented by native ECMAScript objects of the corresponding type.
      </p>
      <p>
        <a class="dfnref" href="#dfn-DOMException">DOMExceptions</a> are represented by
        <a class="dfnref" href="#dfn-platform-object">platform objects</a> that inherit from the <a class="dfnref" href="#dfn-DOMException-prototype-object">DOMException prototype object</a>.
      </p>
      <p>
        Every platform object representing a DOMException in ECMAScript is associated with a global environment, just as the <a class="dfnref" href="#dfn-initial-object">initial objects</a> are. When an exception object is created by calling the <a class="dfnref" href="#dfn-DOMException-constructor-object">DOMException constructor object</a>, either normally or as part of a <code>new</code> expression, then the global environment of the newly created object is associated with <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the same as for the
        <a class="dfnref" href="#dfn-DOMException-constructor-object">DOMException constructor object</a> itself.
      </p>
      <p>
        The value of the internal <span class="prop">[[Prototype]]</span> property of a <a class="dfnref" href="#dfn-DOMException">DOMException</a> object <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be the <a class="dfnref" href="#dfn-DOMException-prototype-object">DOMException prototype object</a> from the global environment the exception object is associated with.
      </p>
      <p>
        The <a class="dfnref" href="#dfn-class-string">class string</a> of a <a class="dfnref" href="#dfn-DOMException">DOMException</a> object
        <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be “DOMException”.
      </p>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note72"><span>Note</span></div>
        <div class="">
          <p>The intention is for DOMException objects to be just like the other various native <span class="estype">Error</span> objects that the ECMAScript specification defines, apart from responding differently to being passed to Object.prototype.toString and it having a “code” property. If an implementation places non-standard properties on native
            <span class="estype">Error</span> objects, exposing for example stack traces or error line numbers, then these ought to be exposed on exception objects too.</p>
        </div>
      </div>
    </section>

    <section id="es-creating-throwing-exceptions" typeof="bibo:Chapter" resource="#es-creating-throwing-exceptions" property="bibo:hasPart">
      <h3 id="h-es-creating-throwing-exceptions" resource="#h-es-creating-throwing-exceptions"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.13 </span>Creating and throwing exceptions</span></h3>

      <p>
        First, we define the <dfn id="dfn-current-global-environment" data-dfn-type="dfn">current global environment</dfn> as the result of running the following algorithm:
      </p>
      <ol class="algorithm">
        <li>
          Let <var>F</var> be the <span class="estype">Function</span> object used as the <span class="esvalue">this</span> value in the top-most call on the ECMAScript call stack where <var>F</var> corresponds to an IDL
          <a class="dfnref" href="#dfn-attribute">attribute</a>,
          <a class="dfnref" href="#dfn-operation">operation</a>,
          <a href="#idl-indexed-properties">indexed property</a>,
          <a href="#idl-named-properties">named property</a>,
          <a href="#Constructor">constructor</a>,
          <a class="dfnref" href="#dfn-named-constructor">named constructor</a>,
          <a class="dfnref" href="#dfn-stringifier">stringifier</a>,
          </li>
        <li>
          If <var>F</var> corresponds to an attribute, operation or stringifier, then return the global environment associated with the
          <a class="dfnref" href="#dfn-interface">interface</a> that definition appears on.
        </li>
        <li>
          Otherwise, if <var>F</var> corresponds to an indexed or named property, then return the global environment associated with the interface that the indexed or named property getter, setter or deleter was defined on.
        </li>
        <li>
          Otherwise, if <var>F</var> is a named constructor for an interface, or is an <a class="dfnref" href="#dfn-interface-object">interface object</a> for an interface that is a constructor, then return the global environment associated with that interface.
        </li>
        <li>
          Otherwise, <var>F</var> is an exception field getter. Return the global environment associated with the exception on which the exception field was defined.
        </li>
      </ol>
      <p>
        When a <a class="dfnref" href="#dfn-simple-exception">simple exception</a> or
        <a class="dfnref" href="#dfn-DOMException">DOMException</a>
        <var>E</var> is to be <a class="dfnref" href="#dfn-create-exception">created</a>, with <a class="dfnref" href="#dfn-exception-error-name">error name</a> <var>N</var> and optional user agent-defined message <var>M</var>, the following steps <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be followed:
      </p>
      <ol class="algorithm">
        <li>If <var>M</var> was not specified, let <var>M</var> be <span class="esvalue">undefined</span>. Otherwise, let it be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>M</var> to a <span class="estype">String</span> value.</li>
        <li>Let <var>N</var> be the result of <a class="dfnref" href="#dfn-convert-idl-to-ecmascript-value">converting</a> <var>N</var> to a <span class="estype">String</span> value.</li>
        <li>Let <var>args</var> be a list of ECMAScript values.
          <dl class="switch">
            <dt><var>E</var> is <a class="dfnref" href="#dfn-DOMException">DOMException</a></dt>
            <dd><var>args</var> is (<span class="esvalue">undefined</span>, <var>N</var>).</dd>
            <dt><var>E</var> is a <a class="dfnref" href="#dfn-simple-exception">simple exception</a></dt>
            <dd><var>args</var> is (<var>M</var>)</dd>
          </dl>
        </li>
        <li>Let <var>G</var> be the <a class="dfnref" href="#dfn-current-global-environment">current global environment</a>.</li>
        <li>Let <var>X</var> be an object determined based on the type of <var>E</var>:
          <dl class="switch">
            <dt><var>E</var> is <a class="dfnref" href="#dfn-DOMException">DOMException</a></dt>
            <dd><var>X</var> is the <a class="dfnref" href="#dfn-DOMException-constructor-object">DOMException constructor object</a> from the global environment <var>G</var>.</dd>
            <dt><var>E</var> is a <a class="dfnref" href="#dfn-simple-exception">simple exception</a></dt>
            <dd><var>X</var> is the constructor for the corresponding ECMAScript error from the global environment <var>G</var>.</dd>
          </dl>
        </li>
        <li>Let <var>O</var> be the result of calling <var>X</var> as a function with <var>args</var> as the argument list.</li>
        <li>Return <var>O</var>.</li>
      </ol>
      <p>
        When a <a class="dfnref" href="#dfn-simple-exception">simple exception</a> or
        <a class="dfnref" href="#dfn-DOMException">DOMException</a>
        <var>E</var> is to be <a class="dfnref" href="#dfn-throw">thrown</a>, with <a class="dfnref" href="#dfn-exception-error-name">error name</a> <var>N</var> and optional user agent-defined message <var>M</var>, the following steps <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be followed:
      </p>
      <ol class="algorithm">
        <li>Let <var>O</var> be the result of <a class="dfnref" href="#dfn-create-exception">creating</a> the specified exception <var>E</var> with <a class="dfnref" href="#dfn-exception-error-name">error name</a> <var>N</var> and optional user agent-defined message <var>M</var>.</li>
        <li>Throw <var>O</var>.</li>
      </ol>
      <div class="note">
        <div class="note-title marker" aria-level="4" role="heading" id="h-note73"><span>Note</span></div>
        <div class="">
          <p>
            The above algorithms do not restrict <a class="dfnref" href="#es-exception-objects">platform objects representing exceptions</a> propagating out of a <span class="estype">Function</span> to be ones that are associated with the global environment where that <span class="estype">Function</span> object originated. For example, consider the IDL:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface A {

  <span class="comment"><span class="hljs-comment">/**
   * Calls computeSquareRoot on m, passing x as its argument.
   */</span></span>
  double doComputation(MathUtils m, double x);
};

interface MathUtils {
  <span class="comment"><span class="hljs-comment">/**
   * If x is negative, throws a </span><a href="#notsupportederror"><span class="hljs-comment">NotSupportedError</span></a><span class="hljs-comment">.  Otherwise, returns
   * the square root of x.
   */</span></span>
  double computeSquareRoot(double x);
};</code></pre></div>
          </div>
          <p>
            If we pass a <span class="idltype">MathUtils</span> object from a different global environment to doComputation, then the exception thrown will be from that global environment:
          </p>
          <div class="block">
            <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
            <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> a = getA();                           <span class="hljs-comment">// An A object from this global environment.</span>
<span class="hljs-keyword">var</span> m = otherWindow.getMathUtils();       <span class="hljs-comment">// A MathUtils object from a different global environment.</span>

a <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span>;                      <span class="hljs-comment">// Evaluates to true.</span>
m <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span>;                      <span class="hljs-comment">// Evaluates to false.</span>
m <span class="hljs-keyword">instanceof</span> otherWindow.Object;          <span class="hljs-comment">// Evaluates to true.</span>

<span class="hljs-keyword">try</span> {
  a.doComputation(m, <span class="hljs-number">-1</span>);
} <span class="hljs-keyword">catch</span> (e) {
  e <span class="hljs-keyword">instanceof</span> DOMException;              <span class="hljs-comment">// Evaluates to false.</span>
  e <span class="hljs-keyword">instanceof</span> otherWindow.DOMException;  <span class="hljs-comment">// Evaluates to true.</span>
}</code></pre></div>
          </div>
        </div>
      </div>
      <p>
        Any requirements in this document to throw an instance of an ECMAScript built-in
        <span class="estype">Error</span> <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> use the built-in from the <a class="dfnref" href="#dfn-current-global-environment">current global environment</a>.
      </p>
    </section>

    <section id="es-handling-exceptions" typeof="bibo:Chapter" resource="#es-handling-exceptions" property="bibo:hasPart">
      <h3 id="h-es-handling-exceptions" resource="#h-es-handling-exceptions"><span property="xhv:role" resource="xhv:heading"><span class="secno">4.14 </span>Handling exceptions</span></h3>

      <p>
        None of the algorithms or processing requirements in the ECMAScript language binding catch ECMAScript exceptions. Whenever an ECMAScript <span class="esvalue">Function</span> is invoked due to requirements in this section and that <span class="esvalue">Function</span> ends due to an exception being thrown, that exception
        <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> propagate to the caller, and if not caught there, to its caller, and so on.
      </p>
      <div class="example">
        <div class="exampleHeader">Example</div>
        <p>
          The following <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a> defines two <a class="dfnref" href="#dfn-interface">interfaces</a> and an <a class="dfnref" href="#dfn-exception">exception</a>. The <code>valueOf</code> attribute on <span class="idltype">ExceptionThrower</span> is defined to throw an exception whenever an attempt is made to get its value.
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">interface Dahut {
  attribute DOMString type;
};

interface ExceptionThrower {
  <span class="comment"><span class="hljs-comment">// This attribute always throws a NotSupportedError and never returns a value.</span></span>
  attribute long valueOf;
};</code></pre></div>
        </div>
        <p>
          Assuming an ECMAScript implementation supporting this interface, the following code demonstrates how exceptions are handled:
        </p>
        <div class="block">
          <div class="blockTitleDiv"><span class="blockTitle">ECMAScript</span></div>
          <div class="blockContent"><pre class="code hljs javascript"><code class="es-code"><span class="hljs-keyword">var</span> d = getDahut();              <span class="comment"><span class="hljs-comment">// Obtain an instance of Dahut.</span></span>
<span class="hljs-keyword">var</span> et = getExceptionThrower();  <span class="comment"><span class="hljs-comment">// Obtain an instance of ExceptionThrower.</span></span>

<span class="hljs-keyword">try</span> {
  d.type = { toString: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">throw</span> <span class="hljs-string">"abc"</span>; } };
} <span class="hljs-keyword">catch</span> (e) {
  <span class="comment"><span class="hljs-comment">// The string "abc" is caught here, since as part of the conversion</span></span>
  <span class="comment"><span class="hljs-comment">// from the native object to a string, the anonymous function</span></span>
  <span class="comment"><span class="hljs-comment">// was invoked, and none of the [[DefaultValue]], ToPrimitive or</span></span>
  <span class="comment"><span class="hljs-comment">// ToString algorithms are defined to catch the exception.</span></span>
}

<span class="hljs-keyword">try</span> {
  d.type = { toString: { } };
} <span class="hljs-keyword">catch</span> (e) {
  <span class="comment"><span class="hljs-comment">// An exception is caught here, since an attempt is made to invoke</span></span>
  <span class="comment"><span class="hljs-comment">// [[Call]] on the native object that is the value of toString</span></span>
  <span class="comment"><span class="hljs-comment">// property.</span></span>
}

d.type = et;
<span class="comment"><span class="hljs-comment">// An uncaught NotSupportedError DOMException is thrown here, since the</span></span>
<span class="comment"><span class="hljs-comment">// [[DefaultValue]] algorithm attempts to get the value of the</span></span>
<span class="comment"><span class="hljs-comment">// "valueOf" property on the ExceptionThrower object.  The exception</span></span>
<span class="comment"><span class="hljs-comment">// propagates out of this block of code.</span></span></code></pre></div>
        </div>
      </div>
    </section>
  </section>

  <section id="common" typeof="bibo:Chapter" resource="#common" property="bibo:hasPart">
    <!--OddPage-->
    <h2 id="h-common" resource="#h-common"><span property="xhv:role" resource="xhv:heading"><span class="secno">5. </span>Common definitions</span></h2>

    <p>
      This section specifies some common definitions that all
      <a class="dfnref" href="#dfn-conforming-implementation">conforming implementations</a>
      <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> support.
    </p>

    <section id="common-ArrayBufferView" typeof="bibo:Chapter" resource="#common-ArrayBufferView" property="bibo:hasPart">
      <h3 id="h-common-arraybufferview" resource="#h-common-arraybufferview"><span property="xhv:role" resource="xhv:heading"><span class="secno">5.1 </span>ArrayBufferView</span></h3>

      <div class="block">
        <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
        <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">typedef (<span class="hljs-built_in">Int8Array</span> or <span class="hljs-built_in">Int16Array</span> or <span class="hljs-built_in">Int32Array</span> or
         <span class="hljs-built_in">Uint8Array</span> or <span class="hljs-built_in">Uint16Array</span> or <span class="hljs-built_in">Uint32Array</span> or <span class="hljs-built_in">Uint8ClampedArray</span> or
         <span class="hljs-built_in">Float32Array</span> or <span class="hljs-built_in">Float64Array</span> or <span class="hljs-built_in">DataView</span>) ArrayBufferView;</code></pre></div>
      </div>
      <p>
        The <span class="idltype">ArrayBufferView</span> typedef is used to represent objects that provide a view on to an <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a>.
      </p>
    </section>

    <section id="common-BufferSource" typeof="bibo:Chapter" resource="#common-BufferSource" property="bibo:hasPart">
      <h3 id="h-common-buffersource" resource="#h-common-buffersource"><span property="xhv:role" resource="xhv:heading"><span class="secno">5.2 </span>BufferSource</span></h3>

      <div class="block">
        <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
        <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">typedef (ArrayBufferView or <span class="hljs-built_in">ArrayBuffer</span>) BufferSource;</code></pre></div>
      </div>
      <p>
        The <span class="idltype">BufferSource</span> typedef is used to represent objects that are either themselves an <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a> or which provide a view on to an <a class="idltype" href="#idl-ArrayBuffer">ArrayBuffer</a>.
      </p>
    </section>

    <section id="common-DOMTimeStamp" typeof="bibo:Chapter" resource="#common-DOMTimeStamp" property="bibo:hasPart">
      <h3 id="h-common-domtimestamp" resource="#h-common-domtimestamp"><span property="xhv:role" resource="xhv:heading"><span class="secno">5.3 </span>DOMTimeStamp</span></h3>

      <div class="block">
        <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
        <div class="blockContent"><pre class="code hljs"><code class="idl-code">typedef unsigned long long DOMTimeStamp;</code></pre></div>
      </div>
      <p>
        The <span class="idltype">DOMTimeStamp</span> type is used for representing a number of milliseconds, either as an absolute time (relative to some epoch) or as a relative amount of time. Specifications that use this type will need to define how the number of milliseconds is to be interpreted.
      </p>
    </section>

    <section id="common-Function" typeof="bibo:Chapter" resource="#common-Function" property="bibo:hasPart">
      <h3 id="h-common-function" resource="#h-common-function"><span property="xhv:role" resource="xhv:heading"><span class="secno">5.4 </span>Function</span></h3>

      <div class="block">
        <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
        <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">callback <span class="hljs-built_in">Function</span> = any (any... arguments);</code></pre></div>
      </div>
      <p>
        The <span class="idltype">Function</span> <a class="dfnref" href="#dfn-callback-function">callback function</a> type is used for representing function values with no restriction on what arguments are passed to it or what kind of value is returned from it.
      </p>
    </section>

    <section id="common-VoidFunction" typeof="bibo:Chapter" resource="#common-VoidFunction" property="bibo:hasPart">
      <h3 id="h-common-voidfunction" resource="#h-common-voidfunction"><span property="xhv:role" resource="xhv:heading"><span class="secno">5.5 </span>VoidFunction</span></h3>

      <div class="block">
        <div class="blockTitleDiv"><span class="blockTitle">IDL</span></div>
        <div class="blockContent"><pre class="code hljs javascript"><code class="idl-code">callback VoidFunction = <span class="hljs-keyword">void</span> ();</code></pre></div>
      </div>
      <p>
        The <span class="idltype">VoidFunction</span> <a class="dfnref" href="#dfn-callback-function">callback function</a> type is used for representing function values that take no arguments and do not return any value.
      </p>
    </section>
  </section>

  <section id="extensibility" typeof="bibo:Chapter" resource="#extensibility" property="bibo:hasPart">
    <!--OddPage-->
    <h2 id="h-extensibility" resource="#h-extensibility"><span property="xhv:role" resource="xhv:heading"><span class="secno">6. </span>Extensibility</span></h2>

    <p class="norm">This section is informative.</p>

    <p>
      Extensions to language binding requirements can be specified using <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> that do not conflict with those defined in this document. Extensions for private, project-specific use should not be included in
      <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a> appearing in other specifications. It is recommended that extensions that are required for use in other specifications be coordinated with the group responsible for work on <cite>Web IDL</cite>, which at the time of writing is the
      <a href="http://www.w3.org/WebPlatform/WG/"><abbr title="World Wide Web Consortium">W3C</abbr> Web Platform Working Group</a>, for possible inclusion in a future version of this document.
    </p>
    <p>
      Extensions to any other aspect of the IDL language are strongly discouraged.
    </p>
  </section>

  <section id="referencing" typeof="bibo:Chapter" resource="#referencing" property="bibo:hasPart">
    <!--OddPage-->
    <h2 id="h-referencing" resource="#h-referencing"><span property="xhv:role" resource="xhv:heading"><span class="secno">7. </span>Referencing this specification</span></h2>

    <p class="norm">This section is informative.</p>

    <p>
      It is expected that other specifications that define Web platform interfaces using one or more <a class="dfnref" href="#dfn-idl-fragment">IDL fragments</a> will reference this specification. It is suggested that those specifications include a sentence such as the following, to indicate that the IDL is to be interpreted as described in this specification:
    </p>
    <blockquote>
      <p>
        The IDL fragment in Appendix A of this specification must, in conjunction with the IDL fragments defined in this specification's normative references, be interpreted as required for <em>conforming sets of IDL fragments</em>, as described in the “Web IDL” specification. <a class="placeholder" href="data:,">[WEBIDL]</a>
      </p>
    </blockquote>
    <p>
      In addition, it is suggested that the conformance class for user agents in referencing specifications be linked to the
      <a class="dfnref" href="#dfn-conforming-implementation">conforming
            implementation</a> class from this specification:
    </p>
    <blockquote>
      <p>
        A conforming FooML user agent must also be a
        <em>conforming implementation</em> of the IDL fragment in Appendix A of this specification, as described in the “Web IDL” specification. <a class="placeholder" href="data:,">[WEBIDL]</a>
      </p>
    </blockquote>
  </section>

  <section id="acknowledgements" typeof="bibo:Chapter" resource="#acknowledgements" property="bibo:hasPart">
    <!--OddPage-->
    <h2 id="h-acknowledgements" resource="#h-acknowledgements"><span property="xhv:role" resource="xhv:heading"><span class="secno">8. </span>Acknowledgements</span></h2>

    <p class="norm">This section is informative.</p>

    <p>
      The editor would like to thank the following people for contributing to this specification: Glenn Adams, David Andersson, L.&nbsp;David Baron, Art Barstow, Nils Barth, Robin Berjon, David Bruant, Jan-Ivar Bruaroey, Marcos Cáceres, Giovanni Campagna, Domenic Denicola, Michael Dyck, Brendan Eich, João Eiras, Gorm Haug Eriksen, Sigbjorn Finne, David Flanagan, Aryeh Gregor, Dimitry Golubovsky, James Graham, Aryeh Gregor, Kartikaya Gupta, Marcin Hanclik, Jed Hartman, Stefan Haustein, Dominique Hazaël-Massieux, Ian Hickson, Björn Höhrmann, Kyle Huey, Lachlan Hunt, Oliver Hunt, Jim Jewett, Wolfgang Keller, Anne van Kesteren, Olav Junker Kjær, Magnus Kristiansen, Takeshi Kurosawa, Yves Lafon, Travis Leithead, Jim Ley, Kevin Lindsey, Jens Lindström, Peter Linss, 呂康豪 (Kang-Hao Lu), Kyle Machulis, Mark Miller, Ms2ger, Andrew Oakley, 岡坂&nbsp;史紀 (Shiki Okasaka), Jason Orendorff, Olli Pettay, Simon Pieters, Andrei Popescu, François Remy, Tim Renouf, Alex Russell, Takashi Sakamoto, Doug Schepers, Jonas Sicking, Garrett Smith, Geoffrey Sneddon, Jungkee Song, Josh Soref, Maciej Stachowiak, Anton Tayanovskyy, Peter Van der Beken, Jeff Walden, Allen Wirfs-Brock, Jeffrey Yasskin and Collin Xu.
    </p>
    <p>
      Special thanks also go to Sam Weinig for maintaining this document while the editor was unavailable to do so.
    </p>
  </section>


  <section id="idl-grammar" class="appendix" typeof="bibo:Chapter" resource="#idl-grammar" property="bibo:hasPart">
    <!--OddPage-->
    <h2 id="h-idl-grammar" resource="#h-idl-grammar"><span property="xhv:role" resource="xhv:heading"><span class="secno">A. </span>IDL grammar</span></h2>
    <p>
      This section defines an LL(1) grammar whose start symbol,
      <a class="sym" href="#prod-Definitions">Definitions</a>, matches an entire <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>.
    </p>
    <p>
      Each production in the grammar has on its right hand side either a non-zero sequence of terminal and non-terminal symbols, or an epsilon (ε) which indicates no symbols. Symbols that begin with an uppercase letter are non-terminal symbols. Symbols within quotes are terminal symbols that are matched with the exact text between the quotes. Symbols that begin with a lowercase letter are terminal symbols that are matched by the regular expressions (using Perl 5 regular expression syntax [<cite><a class="bibref" href="#bib-PERLRE">PERLRE</a></cite>]) as follows:
    </p>
    <table class="grammar">
      <tbody>
        <tr>
          <td id="prod-integer" class="sym">integer</td>
          <td class="regex">=</td>
          <td class="regex"><span class="regex-slash">/</span>-?([1-9][0-9]*|0[Xx][0-9A-Fa-f]+|0[0-7]*)<span class="regex-slash">/</span></td>
        </tr>
        <tr>
          <td id="prod-float" class="sym">float</td>
          <td class="regex">=</td>
          <td class="regex"><span class="regex-slash">/</span>-?(([0-9]+\.[0-9]*|[0-9]*\.[0-9]+)([Ee][+-]?[0-9]+)?|[0-9]+[Ee][+-]?[0-9]+)<span class="regex-slash">/</span></td>
        </tr>
        <tr>
          <td id="prod-identifier" class="sym">identifier</td>
          <td class="regex">=</td>
          <td class="regex"><span class="regex-slash">/</span>_?[A-Za-z][0-9A-Z_a-z-]*<span class="regex-slash">/</span></td>
        </tr>
        <tr>
          <td id="prod-string" class="sym">string</td>
          <td class="regex">=</td>
          <td class="regex"><span class="regex-slash">/</span>"[^"]*"<span class="regex-slash">/</span></td>
        </tr>
        <tr>
          <td id="prod-whitespace" class="sym">whitespace</td>
          <td class="regex">=</td>
          <td class="regex"><span class="regex-slash">/</span>[\t\n\r ]+<span class="regex-slash">/</span></td>
        </tr>
        <tr>
          <td id="prod-comment" class="sym">comment</td>
          <td class="regex">=</td>
          <td class="regex"><span class="regex-slash">/</span>\/\/.*|\/\*(.|\n)*?\*\/<span class="regex-slash">/</span></td>
        </tr>
        <tr>
          <td id="prod-other" class="sym">other</td>
          <td class="regex">=</td>
          <td class="regex"><span class="regex-slash">/</span>[^\t\n\r 0-9A-Za-z]<span class="regex-slash">/</span></td>
        </tr>
      </tbody>
    </table>
    <p>
      The tokenizer operates on a sequence of Unicode characters [
      <cite><a class="bibref" href="#bib-UNICODE">UNICODE</a></cite>]. When tokenizing, the longest possible match <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be used. For example, if the input text is “<span class="input">a1</span>”, it is tokenized as a single <span class="sym">identifier</span>, and not as a separate <span class="sym">identifier</span> and <span class="sym">integer</span>. If the longest possible match could match one of the above named terminal symbols or one of the quoted terminal symbols from the grammar, it <span class="rfc2119"><em class="rfc2119" title="MUST">MUST</em></span> be tokenized as the quoted terminal symbol. Thus, the input text “<span class="input">long</span>” is tokenized as the quoted terminal symbol
      <span class="sym">"long"</span> rather than an <span class="sym">identifier</span> called “long”, and “<span class="input">.</span>” is tokenized as the quoted terminal symbol
      <span class="sym">"."</span> rather than an <span class="sym">other</span>.
    </p>
    <p>
      The IDL syntax is case sensitive, both for the quoted terminal symbols used in the grammar and the values used for
      <span class="sym">identifier</span> terminals. Thus, for example, the input text “<span class="input">Const</span>” is tokenized as an <span class="sym">identifier</span> rather than the quoted terminal symbol <span class="sym">"const"</span>, an
      <a class="dfnref" href="#dfn-interface">interface</a> with
      <a class="dfnref" href="#dfn-identifier">identifier</a> “A” is distinct from one named “a”, and an
      <a class="dfnref" href="#dfn-extended-attribute">extended attribute</a>
      <span class="xattr">[constructor]</span> will not be recognized as the <a class="xattr" href="#Constructor">[Constructor]</a> extended attribute.
    </p>
    <p>
      Implicitly, any number of <span class="sym">whitespace</span> and
      <span class="sym">comment</span> terminals are allowed between every other terminal in the input text being parsed. Such <span class="sym">whitespace</span> and
      <span class="sym">comment</span> terminals are ignored while parsing.
    </p>
    <p>
      The following LL(1) grammar, starting with <a class="sym" href="#prod-Definitions">Definitions</a>, matches an <a class="dfnref" href="#dfn-idl-fragment">IDL fragment</a>:
    </p>
    <table class="grammar">
      <tbody>
        <tr id="prod-Definitions">
          <td><span class="prod-number">[1]</span></td>
          <td><a class="sym" href="#proddef-Definitions">Definitions</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-Definition">Definition</a> <a class="sym" href="#prod-Definitions">Definitions</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-Definition">
          <td><span class="prod-number">[2]</span></td>
          <td><a class="sym" href="#proddef-Definition">Definition</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-CallbackOrInterface">CallbackOrInterface</a> <br>&nbsp;|
             <a class="sym" href="#prod-Partial">Partial</a> <br>&nbsp;|
             <a class="sym" href="#prod-Dictionary">Dictionary</a> <br>&nbsp;|
             <a class="sym" href="#prod-Enum">Enum</a> <br>&nbsp;|
             <a class="sym" href="#prod-Typedef">Typedef</a> <br>&nbsp;|
             <a class="sym" href="#prod-ImplementsStatement">ImplementsStatement</a></span></td>
        </tr>
        <tr id="prod-CallbackOrInterface">
          <td><span class="prod-number">[3]</span></td>
          <td><a class="sym" href="#proddef-CallbackOrInterface">CallbackOrInterface</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"callback" <a class="sym" href="#prod-CallbackRestOrInterface">CallbackRestOrInterface</a> <br>&nbsp;|
             <a class="sym" href="#prod-Interface">Interface</a></span></td>
        </tr>
        <tr id="prod-CallbackRestOrInterface">
          <td><span class="prod-number">[4]</span></td>
          <td><a class="sym" href="#proddef-CallbackRestOrInterface">CallbackRestOrInterface</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-CallbackRest">CallbackRest</a> <br>&nbsp;|
             <a class="sym" href="#prod-Interface">Interface</a></span></td>
        </tr>
        <tr id="prod-Interface">
          <td><span class="prod-number">[5]</span></td>
          <td><a class="sym" href="#proddef-Interface">Interface</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"interface" <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Inheritance">Inheritance</a> "{" <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> "}" ";"</span></td>
        </tr>
        <tr id="prod-Partial">
          <td><span class="prod-number">[6]</span></td>
          <td><a class="sym" href="#proddef-Partial">Partial</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"partial" <a class="sym" href="#prod-PartialDefinition">PartialDefinition</a></span></td>
        </tr>
        <tr id="prod-PartialDefinition">
          <td><span class="prod-number">[7]</span></td>
          <td><a class="sym" href="#proddef-PartialDefinition">PartialDefinition</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PartialInterface">PartialInterface</a> <br>&nbsp;|
             <a class="sym" href="#prod-PartialDictionary">PartialDictionary</a></span></td>
        </tr>
        <tr id="prod-PartialInterface">
          <td><span class="prod-number">[8]</span></td>
          <td><a class="sym" href="#proddef-PartialInterface">PartialInterface</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"interface" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> "}" ";"</span></td>
        </tr>
        <tr id="prod-InterfaceMembers">
          <td><span class="prod-number">[9]</span></td>
          <td><a class="sym" href="#proddef-InterfaceMembers">InterfaceMembers</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-InterfaceMember">InterfaceMember</a> <a class="sym" href="#prod-InterfaceMembers">InterfaceMembers</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-InterfaceMember">
          <td><span class="prod-number">[10]</span></td>
          <td><a class="sym" href="#proddef-InterfaceMember">InterfaceMember</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Const">Const</a> <br>&nbsp;|
             <a class="sym" href="#prod-Operation">Operation</a> <br>&nbsp;|
             <a class="sym" href="#prod-Serializer">Serializer</a> <br>&nbsp;|
             <a class="sym" href="#prod-Stringifier">Stringifier</a> <br>&nbsp;|
             <a class="sym" href="#prod-StaticMember">StaticMember</a> <br>&nbsp;|
             <a class="sym" href="#prod-Iterable">Iterable</a> <br>&nbsp;|
             <a class="sym" href="#prod-ReadOnlyMember">ReadOnlyMember</a> <br>&nbsp;|
             <a class="sym" href="#prod-ReadWriteAttribute">ReadWriteAttribute</a>  </span></td>
        </tr>
        <tr id="prod-Dictionary">
          <td><span class="prod-number">[11]</span></td>
          <td><a class="sym" href="#proddef-Dictionary">Dictionary</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"dictionary" <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Inheritance">Inheritance</a> "{" <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> "}" ";"</span></td>
        </tr>
        <tr id="prod-DictionaryMembers">
          <td><span class="prod-number">[12]</span></td>
          <td><a class="sym" href="#proddef-DictionaryMembers">DictionaryMembers</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-DictionaryMember">DictionaryMember</a> <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-DictionaryMember">
          <td><span class="prod-number">[13]</span></td>
          <td><a class="sym" href="#proddef-DictionaryMember">DictionaryMember</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Required">Required</a> <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Default">Default</a> ";"</span></td>
        </tr>
        <tr id="prod-Required">
          <td><span class="prod-number">[14]</span></td>
          <td><a class="sym" href="#prod-Required">Required</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"required" <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-PartialDictionary">
          <td><span class="prod-number">[15]</span></td>
          <td><a class="sym" href="#proddef-PartialDictionary">PartialDictionary</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"dictionary" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-DictionaryMembers">DictionaryMembers</a> "}" ";"</span></td>
        </tr>
        <tr id="prod-Default">
          <td><span class="prod-number">[16]</span></td>
          <td><a class="sym" href="#proddef-Default">Default</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"=" <a class="sym" href="#prod-DefaultValue">DefaultValue</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-DefaultValue">
          <td><span class="prod-number">[17]</span></td>
          <td><a class="sym" href="#proddef-DefaultValue">DefaultValue</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ConstValue">ConstValue</a> <br>&nbsp;|
             <a class="sym" href="#prod-string">string</a> <br>&nbsp;|
             "[" "]"</span></td>
        </tr>
        <tr id="prod-Inheritance">
          <td><span class="prod-number">[18]</span></td>
          <td><a class="sym" href="#proddef-Inheritance">Inheritance</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">":" <a class="sym" href="#prod-identifier">identifier</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-Enum">
          <td><span class="prod-number">[19]</span></td>
          <td><a class="sym" href="#proddef-Enum">Enum</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"enum" <a class="sym" href="#prod-identifier">identifier</a> "{" <a class="sym" href="#prod-EnumValueList">EnumValueList</a> "}" ";"</span></td>
        </tr>
        <tr id="prod-EnumValueList">
          <td><span class="prod-number">[20]</span></td>
          <td><a class="sym" href="#proddef-EnumValueList">EnumValueList</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-string">string</a> <a class="sym" href="#prod-EnumValueListComma">EnumValueListComma</a></span></td>
        </tr>
        <tr id="prod-EnumValueListComma">
          <td><span class="prod-number">[21]</span></td>
          <td><a class="sym" href="#proddef-EnumValueListComma">EnumValueListComma</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-EnumValueListString">EnumValueListString</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-EnumValueListString">
          <td><span class="prod-number">[22]</span></td>
          <td><a class="sym" href="#proddef-EnumValueListString">EnumValueListString</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-string">string</a> <a class="sym" href="#prod-EnumValueListComma">EnumValueListComma</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-CallbackRest">
          <td><span class="prod-number">[23]</span></td>
          <td><a class="sym" href="#proddef-CallbackRest">CallbackRest</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-ReturnType">ReturnType</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")" ";"</span></td>
        </tr>
        <tr id="prod-Typedef">
          <td><span class="prod-number">[24]</span></td>
          <td><a class="sym" href="#proddef-Typedef">Typedef</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"typedef" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td>
        </tr>
        <tr id="prod-ImplementsStatement">
          <td><span class="prod-number">[25]</span></td>
          <td><a class="sym" href="#proddef-ImplementsStatement">ImplementsStatement</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "implements" <a class="sym" href="#prod-identifier">identifier</a> ";"</span></td>
        </tr>
        <tr id="prod-Const">
          <td><span class="prod-number">[26]</span></td>
          <td><a class="sym" href="#proddef-Const">Const</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"const" <a class="sym" href="#prod-ConstType">ConstType</a> <a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-ConstValue">ConstValue</a> ";"</span></td>
        </tr>
        <tr id="prod-ConstValue">
          <td><span class="prod-number">[27]</span></td>
          <td><a class="sym" href="#proddef-ConstValue">ConstValue</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-BooleanLiteral">BooleanLiteral</a> <br>&nbsp;|
             <a class="sym" href="#prod-FloatLiteral">FloatLiteral</a> <br>&nbsp;|
             <a class="sym" href="#prod-integer">integer</a> <br>&nbsp;|
             "null"</span></td>
        </tr>
        <tr id="prod-BooleanLiteral">
          <td><span class="prod-number">[28]</span></td>
          <td><a class="sym" href="#proddef-BooleanLiteral">BooleanLiteral</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"true" <br>&nbsp;|
             "false"</span></td>
        </tr>
        <tr id="prod-FloatLiteral">
          <td><span class="prod-number">[29]</span></td>
          <td><a class="sym" href="#proddef-FloatLiteral">FloatLiteral</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-float">float</a> <br>&nbsp;|
             "-Infinity" <br>&nbsp;|
             "Infinity" <br>&nbsp;|
             "NaN"</span></td>
        </tr>
        <tr id="prod-Serializer">
          <td><span class="prod-number">[30]</span></td>
          <td><a class="sym" href="#proddef-Serializer">Serializer</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"serializer" <a class="sym" href="#prod-SerializerRest">SerializerRest</a></span></td>
        </tr>
        <tr id="prod-SerializerRest">
          <td><span class="prod-number">[31]</span></td>
          <td><a class="sym" href="#proddef-SerializerRest">SerializerRest</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-OperationRest">OperationRest</a> <br>&nbsp;|
             "=" <a class="sym" href="#prod-SerializationPattern">SerializationPattern</a> ";" <br>&nbsp;|
             ";"</span></td>
        </tr>
        <tr id="prod-SerializationPattern">
          <td><span class="prod-number">[32]</span></td>
          <td><a class="sym" href="#proddef-SerializationPattern">SerializationPattern</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"{" <a class="sym" href="#prod-SerializationPatternMap">SerializationPatternMap</a> "}" <br>&nbsp;|
             "[" <a class="sym" href="#prod-SerializationPatternList">SerializationPatternList</a> "]" <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a></span></td>
        </tr>
        <tr id="prod-SerializationPatternMap">
          <td><span class="prod-number">[33]</span></td>
          <td><a class="sym" href="#proddef-SerializationPatternMap">SerializationPatternMap</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"getter" <br>&nbsp;|
             "inherit" <a class="sym" href="#prod-Identifiers">Identifiers</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-SerializationPatternList">
          <td><span class="prod-number">[34]</span></td>
          <td><a class="sym" href="#proddef-SerializationPatternList">SerializationPatternList</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"getter" <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-Stringifier">
          <td><span class="prod-number">[35]</span></td>
          <td><a class="sym" href="#proddef-Stringifier">Stringifier</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"stringifier" <a class="sym" href="#prod-StringifierRest">StringifierRest</a></span></td>
        </tr>
        <tr id="prod-StringifierRest">
          <td><span class="prod-number">[36]</span></td>
          <td><a class="sym" href="#proddef-StringifierRest">StringifierRest</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ReadOnly">ReadOnly</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a> <br>&nbsp;|
             <a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationRest">OperationRest</a> <br>&nbsp;|
             ";"</span></td>
        </tr>
        <tr id="prod-StaticMember">
          <td><span class="prod-number">[37]</span></td>
          <td><a class="sym" href="#proddef-StaticMember">StaticMember</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"static" <a class="sym" href="#prod-StaticMemberRest">StaticMemberRest</a></span></td>
        </tr>
        <tr id="prod-StaticMemberRest">
          <td><span class="prod-number">[38]</span></td>
          <td><a class="sym" href="#proddef-StaticMemberRest">StaticMemberRest</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ReadOnly">ReadOnly</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a> <br>&nbsp;|
             <a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationRest">OperationRest</a></span></td>
        </tr>
        <tr id="prod-ReadOnlyMember">
          <td><span class="prod-number">[39]</span></td>
          <td><a class="sym" href="#proddef-ReadOnlyMember">ReadOnlyMember</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"readonly" <a class="sym" href="#prod-ReadOnlyMemberRest">ReadOnlyMemberRest</a></span></td>
        </tr>
        <tr id="prod-ReadOnlyMemberRest">
          <td><span class="prod-number">[40]</span></td>
          <td><a class="sym" href="#proddef-ReadOnlyMemberRest">ReadOnlyMemberRest</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-AttributeRest">AttributeRest</a>  </span></td>
        </tr>
        <tr id="prod-ReadWriteAttribute">
          <td><span class="prod-number">[41]</span></td>
          <td><a class="sym" href="#proddef-ReadWriteAttribute">ReadWriteAttribute</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"inherit" <a class="sym" href="#prod-ReadOnly">ReadOnly</a> <a class="sym" href="#prod-AttributeRest">AttributeRest</a> <br>&nbsp;|
             <a class="sym" href="#prod-AttributeRest">AttributeRest</a></span></td>
        </tr>
        <tr id="prod-AttributeRest">
          <td><span class="prod-number">[42]</span></td>
          <td><a class="sym" href="#proddef-AttributeRest">AttributeRest</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"attribute" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-AttributeName">AttributeName</a> ";"</span></td>
        </tr>
        <tr id="prod-AttributeName">
          <td><span class="prod-number">[43]</span></td>
          <td><a class="sym" href="#proddef-AttributeName">AttributeName</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-AttributeNameKeyword">AttributeNameKeyword</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a></span></td>
        </tr>
        <tr id="prod-AttributeNameKeyword">
          <td><span class="prod-number">[44]</span></td>
          <td><a class="sym" href="#proddef-AttributeNameKeyword">AttributeNameKeyword</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"required"</span></td>
        </tr>
        <tr id="prod-Inherit">
          <td><span class="prod-number">[45]</span></td>
          <td><a class="sym" href="#proddef-Inherit">Inherit</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"inherit" <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-ReadOnly">
          <td><span class="prod-number">[46]</span></td>
          <td><a class="sym" href="#proddef-ReadOnly">ReadOnly</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"readonly" <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-Operation">
          <td><span class="prod-number">[47]</span></td>
          <td><a class="sym" href="#proddef-Operation">Operation</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationRest">OperationRest</a> <br>&nbsp;|
             <a class="sym" href="#prod-SpecialOperation">SpecialOperation</a></span></td>
        </tr>
        <tr id="prod-SpecialOperation">
          <td><span class="prod-number">[48]</span></td>
          <td><a class="sym" href="#proddef-SpecialOperation">SpecialOperation</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Special">Special</a> <a class="sym" href="#prod-Specials">Specials</a> <a class="sym" href="#prod-ReturnType">ReturnType</a> <a class="sym" href="#prod-OperationRest">OperationRest</a></span></td>
        </tr>
        <tr id="prod-Specials">
          <td><span class="prod-number">[49]</span></td>
          <td><a class="sym" href="#proddef-Specials">Specials</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Special">Special</a> <a class="sym" href="#prod-Specials">Specials</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-Special">
          <td><span class="prod-number">[50]</span></td>
          <td><a class="sym" href="#proddef-Special">Special</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"getter" <br>&nbsp;|
             "setter" <br>&nbsp;|
             "deleter" <br>&nbsp;|
             "legacycaller"</span></td>
        </tr>
        <tr id="prod-OperationRest">
          <td><span class="prod-number">[51]</span></td>
          <td><a class="sym" href="#proddef-OperationRest">OperationRest</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-OptionalIdentifier">OptionalIdentifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")" ";"</span></td>
        </tr>
        <tr id="prod-OptionalIdentifier">
          <td><span class="prod-number">[52]</span></td>
          <td><a class="sym" href="#proddef-OptionalIdentifier">OptionalIdentifier</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-ArgumentList">
          <td><span class="prod-number">[53]</span></td>
          <td><a class="sym" href="#proddef-ArgumentList">ArgumentList</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Argument">Argument</a> <a class="sym" href="#prod-Arguments">Arguments</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-Arguments">
          <td><span class="prod-number">[54]</span></td>
          <td><a class="sym" href="#proddef-Arguments">Arguments</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-Argument">Argument</a> <a class="sym" href="#prod-Arguments">Arguments</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-Argument">
          <td><span class="prod-number">[55]</span></td>
          <td><a class="sym" href="#proddef-Argument">Argument</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttributeList">ExtendedAttributeList</a> <a class="sym" href="#prod-OptionalOrRequiredArgument">OptionalOrRequiredArgument</a></span></td>
        </tr>
        <tr id="prod-OptionalOrRequiredArgument">
          <td><span class="prod-number">[56]</span></td>
          <td><a class="sym" href="#proddef-OptionalOrRequiredArgument">OptionalOrRequiredArgument</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"optional" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-ArgumentName">ArgumentName</a> <a class="sym" href="#prod-Default">Default</a> <br>&nbsp;|
             <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-Ellipsis">Ellipsis</a> <a class="sym" href="#prod-ArgumentName">ArgumentName</a></span></td>
        </tr>
        <tr id="prod-ArgumentName">
          <td><span class="prod-number">[57]</span></td>
          <td><a class="sym" href="#proddef-ArgumentName">ArgumentName</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a></span></td>
        </tr>
        <tr id="prod-Ellipsis">
          <td><span class="prod-number">[58]</span></td>
          <td><a class="sym" href="#proddef-Ellipsis">Ellipsis</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"..." <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-Iterable">
          <td><span class="prod-number">[59]</span></td>
          <td><a class="sym" href="#proddef-Iterable">Iterable</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"iterable" "&lt;" <a class="sym" href="#prod-Type">Type</a> <a class="sym" href="#prod-OptionalType">OptionalType</a> "&gt;" ";"</span></td>
        </tr>
        <tr id="prod-OptionalType">
          <td><span class="prod-number">[60]</span></td>
          <td><a class="sym" href="#proddef-OptionalType">OptionalType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-Type">Type</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-ExtendedAttributeList">
          <td><span class="prod-number">[65]</span></td>
          <td><a class="sym" href="#proddef-ExtendedAttributeList">ExtendedAttributeList</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"[" <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <a class="sym" href="#prod-ExtendedAttributes">ExtendedAttributes</a> "]" <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-ExtendedAttributes">
          <td><span class="prod-number">[66]</span></td>
          <td><a class="sym" href="#proddef-ExtendedAttributes">ExtendedAttributes</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <a class="sym" href="#prod-ExtendedAttributes">ExtendedAttributes</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-ExtendedAttribute">
          <td><span class="prod-number">[67]</span></td>
          <td><a class="sym" href="#proddef-ExtendedAttribute">ExtendedAttribute</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">
              "(" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> ")" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br>&nbsp;|
             "[" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "]" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br>&nbsp;|
             "{" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "}" <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
            <br>&nbsp;|
             <a class="sym" href="#prod-Other">Other</a> <a class="sym" href="#prod-ExtendedAttributeRest">ExtendedAttributeRest</a>
          </span></td>
        </tr>
        <tr id="prod-ExtendedAttributeRest">
          <td><span class="prod-number">[68]</span></td>
          <td><a class="sym" href="#proddef-ExtendedAttributeRest">ExtendedAttributeRest</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-ExtendedAttributeInner">
          <td><span class="prod-number">[69]</span></td>
          <td><a class="sym" href="#proddef-ExtendedAttributeInner">ExtendedAttributeInner</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">
              "(" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> ")" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br>&nbsp;|
             "[" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "]" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br>&nbsp;|
             "{" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a> "}" <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br>&nbsp;|
             <a class="sym" href="#prod-OtherOrComma">OtherOrComma</a> <a class="sym" href="#prod-ExtendedAttributeInner">ExtendedAttributeInner</a>
            <br>&nbsp;|
             ε
          </span></td>
        </tr>
        <tr id="prod-Other">
          <td><span class="prod-number">[70]</span></td>
          <td><a class="sym" href="#proddef-Other">Other</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">
              <a class="sym" href="#prod-integer">integer</a> <br>&nbsp;|
             <a class="sym" href="#prod-float">float</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <br>&nbsp;|
             <a class="sym" href="#prod-string">string</a>  <br>&nbsp;|
             <a class="sym" href="#prod-other">other</a>
            <br>&nbsp;|
             "-" <br>&nbsp;|
             "-Infinity" <br>&nbsp;|
             "." <br>&nbsp;|
             "..." <br>&nbsp;|
             ":" <br>&nbsp;|
             ";" <br>&nbsp;|
             "&lt;" <br>&nbsp;|
             "=" <br>&nbsp;|
             "&gt;" <br>&nbsp;|
             "?"
            <br>&nbsp;|
             "ByteString" <br>&nbsp;|
             "DOMString" <br>&nbsp;|
             "Infinity" <br>&nbsp;|
             "NaN" <br>&nbsp;|
             "USVString" <br>&nbsp;|
             "any" <br>&nbsp;|
             "boolean" <br>&nbsp;|
             "byte" <br>&nbsp;|
             "double" <br>&nbsp;|
             "false" <br>&nbsp;|
             "float"
            <br>&nbsp;|
             "long" <br>&nbsp;|
             "null" <br>&nbsp;|
             "object" <br>&nbsp;|
             "octet" <br>&nbsp;|
             "or" <br>&nbsp;|
             "optional" <br>&nbsp;|
             "sequence"
            <br>&nbsp;|
             "short" <br>&nbsp;|
             "true" <br>&nbsp;|
             "unsigned" <br>&nbsp;|
             "void"
            <br>&nbsp;|
             <a class="sym" href="#prod-ArgumentNameKeyword">ArgumentNameKeyword</a>
            <br>&nbsp;|
             <a class="sym" href="#prod-BufferRelatedType">BufferRelatedType</a>
          </span></td>
        </tr>
        <tr id="prod-ArgumentNameKeyword">
          <td><span class="prod-number">[71]</span></td>
          <td><a class="sym" href="#proddef-ArgumentNameKeyword">ArgumentNameKeyword</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">
              "attribute" <br>&nbsp;|
             "callback" <br>&nbsp;|
             "const" <br>&nbsp;|
             "deleter" <br>&nbsp;|
             "dictionary"
            <br>&nbsp;|
             "enum" <br>&nbsp;|
             "getter" <br>&nbsp;|
             "implements" <br>&nbsp;|
             "inherit" <br>&nbsp;|
             "interface" <br>&nbsp;|
             "iterable"
            <br>&nbsp;|
             "legacycaller" <br>&nbsp;|
             "partial" <br>&nbsp;|
             "required" <br>&nbsp;|
             "serializer" <br>&nbsp;|
             "setter" <br>&nbsp;|
             "static" <br>&nbsp;|
             "stringifier" <br>&nbsp;|
             "typedef"
            <br>&nbsp;|
             "unrestricted"
          </span></td>
        </tr>
        <tr id="prod-OtherOrComma">
          <td><span class="prod-number">[72]</span></td>
          <td><a class="sym" href="#proddef-OtherOrComma">OtherOrComma</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Other">Other</a> <br>&nbsp;|
             ","</span></td>
        </tr>
        <tr id="prod-Type">
          <td><span class="prod-number">[73]</span></td>
          <td><a class="sym" href="#proddef-Type">Type</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-SingleType">SingleType</a> <br>&nbsp;|
             <a class="sym" href="#prod-UnionType">UnionType</a> <a class="sym" href="#prod-Null">Null</a></span></td>
        </tr>
        <tr id="prod-SingleType">
          <td><span class="prod-number">[74]</span></td>
          <td><a class="sym" href="#proddef-SingleType">SingleType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-NonAnyType">NonAnyType</a> <br>&nbsp;|
             "any"</span></td>
        </tr>
        <tr id="prod-UnionType">
          <td><span class="prod-number">[75]</span></td>
          <td><a class="sym" href="#proddef-UnionType">UnionType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"(" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> "or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> ")"</span></td>
        </tr>
        <tr id="prod-UnionMemberType">
          <td><span class="prod-number">[76]</span></td>
          <td><a class="sym" href="#proddef-UnionMemberType">UnionMemberType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-NonAnyType">NonAnyType</a> <br>&nbsp;|
             <a class="sym" href="#prod-UnionType">UnionType</a> <a class="sym" href="#prod-Null">Null</a></span></td>
        </tr>
        <tr id="prod-UnionMemberTypes">
          <td><span class="prod-number">[77]</span></td>
          <td><a class="sym" href="#proddef-UnionMemberTypes">UnionMemberTypes</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"or" <a class="sym" href="#prod-UnionMemberType">UnionMemberType</a> <a class="sym" href="#prod-UnionMemberTypes">UnionMemberTypes</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-NonAnyType">
          <td><span class="prod-number">[78]</span></td>
          <td><a class="sym" href="#proddef-NonAnyType">NonAnyType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-PromiseType">PromiseType</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "ByteString" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "DOMString" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "USVString" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "sequence" "&lt;" <a class="sym" href="#prod-Type">Type</a> "&gt;" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "object" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "Error" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             "DOMException" <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-BufferRelatedType">BufferRelatedType</a> <a class="sym" href="#prod-Null">Null</a> </span></td>
        </tr>
        <tr id="prod-BufferRelatedType">
          <td><span class="prod-number">[79]</span></td>
          <td><a class="sym" href="#prod-BufferRelatedType">BufferRelatedType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"ArrayBuffer" <br>&nbsp;|
             "DataView" <br>&nbsp;|
             "Int8Array" <br>&nbsp;|
             "Int16Array" <br>&nbsp;|
             "Int32Array" <br>&nbsp;|
             "Uint8Array" <br>&nbsp;|
             "Uint16Array" <br>&nbsp;|
             "Uint32Array" <br>&nbsp;|
             "Uint8ClampedArray" <br>&nbsp;|
             "Float32Array" <br>&nbsp;|
             "Float64Array"</span></td>
        </tr>
        <tr id="prod-ConstType">
          <td><span class="prod-number">[80]</span></td>
          <td><a class="sym" href="#proddef-ConstType">ConstType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-PrimitiveType">PrimitiveType</a> <a class="sym" href="#prod-Null">Null</a> <br>&nbsp;|
             <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Null">Null</a></span></td>
        </tr>
        <tr id="prod-PrimitiveType">
          <td><span class="prod-number">[81]</span></td>
          <td><a class="sym" href="#proddef-PrimitiveType">PrimitiveType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-UnsignedIntegerType">UnsignedIntegerType</a> <br>&nbsp;|
             <a class="sym" href="#prod-UnrestrictedFloatType">UnrestrictedFloatType</a> <br>&nbsp;|
             "boolean" <br>&nbsp;|
             "byte" <br>&nbsp;|
             "octet"</span></td>
        </tr>
        <tr id="prod-UnrestrictedFloatType">
          <td><span class="prod-number">[82]</span></td>
          <td><a class="sym" href="#proddef-UnrestrictedFloatType">UnrestrictedFloatType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"unrestricted" <a class="sym" href="#prod-FloatType">FloatType</a> <br>&nbsp;|
             <a class="sym" href="#prod-FloatType">FloatType</a></span></td>
        </tr>
        <tr id="prod-FloatType">
          <td><span class="prod-number">[83]</span></td>
          <td><a class="sym" href="#proddef-FloatType">FloatType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"float" <br>&nbsp;|
             "double"</span></td>
        </tr>
        <tr id="prod-UnsignedIntegerType">
          <td><span class="prod-number">[84]</span></td>
          <td><a class="sym" href="#proddef-UnsignedIntegerType">UnsignedIntegerType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"unsigned" <a class="sym" href="#prod-IntegerType">IntegerType</a> <br>&nbsp;|
             <a class="sym" href="#prod-IntegerType">IntegerType</a></span></td>
        </tr>
        <tr id="prod-IntegerType">
          <td><span class="prod-number">[85]</span></td>
          <td><a class="sym" href="#proddef-IntegerType">IntegerType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"short" <br>&nbsp;|
             "long" <a class="sym" href="#prod-OptionalLong">OptionalLong</a></span></td>
        </tr>
        <tr id="prod-OptionalLong">
          <td><span class="prod-number">[86]</span></td>
          <td><a class="sym" href="#proddef-OptionalLong">OptionalLong</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"long" <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-PromiseType">
          <td><span class="prod-number">[87]</span></td>
          <td><a class="sym" href="#proddef-PromiseType">PromiseType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"Promise" "&lt;" <a class="sym" href="#prod-ReturnType">ReturnType</a> "&gt;"</span></td>
        </tr>
        <tr id="prod-Null">
          <td><span class="prod-number">[88]</span></td>
          <td><a class="sym" href="#proddef-Null">Null</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"?" <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-ReturnType">
          <td><span class="prod-number">[89]</span></td>
          <td><a class="sym" href="#proddef-ReturnType">ReturnType</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-Type">Type</a> <br>&nbsp;|
             "void"</span></td>
        </tr>
        <tr id="prod-IdentifierList">
          <td><span class="prod-number">[90]</span></td>
          <td><a class="sym" href="#proddef-IdentifierList">IdentifierList</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a></span></td>
        </tr>
        <tr id="prod-Identifiers">
          <td><span class="prod-number">[91]</span></td>
          <td><a class="sym" href="#proddef-Identifiers">Identifiers</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines">"," <a class="sym" href="#prod-identifier">identifier</a> <a class="sym" href="#prod-Identifiers">Identifiers</a> <br>&nbsp;|
             ε</span></td>
        </tr>
        <tr id="prod-ExtendedAttributeNoArgs">
          <td><span class="prod-number">[92]</span></td>
          <td><a class="sym" href="#proddef-ExtendedAttributeNoArgs">ExtendedAttributeNoArgs</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a></span></td>
        </tr>
        <tr id="prod-ExtendedAttributeArgList">
          <td><span class="prod-number">[93]</span></td>
          <td><a class="sym" href="#proddef-ExtendedAttributeArgList">ExtendedAttributeArgList</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")"</span></td>
        </tr>
        <tr id="prod-ExtendedAttributeIdent">
          <td><span class="prod-number">[94]</span></td>
          <td><a class="sym" href="#proddef-ExtendedAttributeIdent">ExtendedAttributeIdent</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-identifier">identifier</a></span></td>
        </tr>
        <tr id="prod-ExtendedAttributeIdentList">
          <td><span class="prod-number">[95]</span></td>
          <td><a class="sym" href="#proddef-ExtendedAttributeIdentList">ExtendedAttributeIdentList</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" "(" <a class="sym" href="#prod-IdentifierList">IdentifierList</a> ")"</span></td>
        </tr>
        <tr id="prod-ExtendedAttributeNamedArgList">
          <td><span class="prod-number">[96]</span></td>
          <td><a class="sym" href="#proddef-ExtendedAttributeNamedArgList">ExtendedAttributeNamedArgList</a></td>
          <td class="prod-mid">→</td>
          <td class="prod-rhs"><span class="prod-lines"><a class="sym" href="#prod-identifier">identifier</a> "=" <a class="sym" href="#prod-identifier">identifier</a> "(" <a class="sym" href="#prod-ArgumentList">ArgumentList</a> ")"</span></td>
        </tr>
      </tbody>
    </table>
    <div class="note">
      <div class="note-title marker" aria-level="3" role="heading" id="h-note74"><span>Note</span></div>
      <div class="">
        <p>
          The <a class="sym" href="#prod-Other">Other</a> non-terminal matches any single terminal symbol except for
          <span class="sym">"("</span>, <span class="sym">")"</span>,
          <span class="sym">"["</span>, <span class="sym">"]"</span>,
          <span class="sym">"{"</span>, <span class="sym">"}"</span> and <span class="sym">","</span>.
        </p>
      </div>
    </div>
    <p>
      While the <a class="sym" href="#prod-ExtendedAttribute">ExtendedAttribute</a> non-terminal matches any non-empty sequence of terminal symbols (as long as any parentheses, square brackets or braces are balanced, and the
      <span class="sym">","</span> token appears only within those balanced brackets), only a subset of those possible sequences are used by the <a class="dfnref" href="#dfn-extended-attribute">extended attributes</a> defined in this specification — see
      <a href="#idl-extended-attributes">section </a><a href="#idl-extended-attributes">3.11 </a> for the syntaxes that are used by these extended attributes.
    </p>
  </section>


  <section id="references" class="appendix" typeof="bibo:Chapter" resource="#references" property="bibo:hasPart">
    <!--OddPage-->
    <h2 id="h-references" resource="#h-references"><span property="xhv:role" resource="xhv:heading"><span class="secno">B. </span>References</span></h2>

    <section id="normative-references" typeof="bibo:Chapter" resource="#normative-references" property="bibo:hasPart">
      <h3 id="h-normative-references" resource="#h-normative-references"><span property="xhv:role" resource="xhv:heading"><span class="secno">B.1 </span>Normative references</span></h3>
      <dl class="bibliography" resource=""><dt id="bib-ECMA-262">[ECMA-262]</dt>
        <dd>Ecma International. <a href="https://tc39.github.io/ecma262/" property="dc:requires"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.github.io/ecma262/" property="dc:requires">https://tc39.github.io/ecma262/</a>
        </dd><dt id="bib-IEEE-754">[IEEE-754]</dt>
        <dd>ANSI/IEEE. <a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=4610935" property="dc:requires"><cite>IEEE Standard for Floating-Point Arithmetic</cite></a>. 03 September 2008. URL: <a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=4610935" property="dc:requires">http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=4610935</a>
        </dd><dt id="bib-PERLRE">[PERLRE]</dt>
        <dd>The Perl Foundation. <a href="http://search.cpan.org/dist/perl/pod/perlre.pod" property="dc:requires"><cite>Perl Regular Expressions (Perl 5.8.8)</cite></a>. January 2006. URL: <a href="http://search.cpan.org/dist/perl/pod/perlre.pod" property="dc:requires">http://search.cpan.org/dist/perl/pod/perlre.pod</a>
        </dd><dt id="bib-RFC2119">[RFC2119]</dt>
        <dd>S. Bradner. IETF. <a href="https://tools.ietf.org/html/rfc2119" property="dc:requires"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119" property="dc:requires">https://tools.ietf.org/html/rfc2119</a>
        </dd><dt id="bib-RFC2781">[RFC2781]</dt>
        <dd>P. Hoffman; F. Yergeau. IETF. <a href="https://tools.ietf.org/html/rfc2781" property="dc:requires"><cite>UTF-16, an encoding of ISO 10646</cite></a>. February 2000. Informational. URL: <a href="https://tools.ietf.org/html/rfc2781" property="dc:requires">https://tools.ietf.org/html/rfc2781</a>
        </dd><dt id="bib-RFC3629">[RFC3629]</dt>
        <dd>F. Yergeau. IETF. <a href="https://tools.ietf.org/html/rfc3629" property="dc:requires"><cite>UTF-8, a transformation format of ISO 10646</cite></a>. November 2003. Internet Standard. URL: <a href="https://tools.ietf.org/html/rfc3629" property="dc:requires">https://tools.ietf.org/html/rfc3629</a>
        </dd><dt id="bib-UNICODE">[UNICODE]</dt>
        <dd>The Unicode Consortium. <a href="http://www.unicode.org/versions/latest/" property="dc:requires"><cite>The Unicode Standard</cite></a>. URL: <a href="http://www.unicode.org/versions/latest/" property="dc:requires">http://www.unicode.org/versions/latest/</a>
        </dd>
      </dl>
    </section>

    <section id="informative-references" typeof="bibo:Chapter" resource="#informative-references" property="bibo:hasPart">
      <h3 id="h-informative-references" resource="#h-informative-references"><span property="xhv:role" resource="xhv:heading"><span class="secno">B.2 </span>Informative references</span></h3>
      <dl class="bibliography" resource=""><dt id="bib-DOM">[DOM]</dt>
        <dd>Anne van Kesteren; Aryeh Gregor; Ms2ger; Alex Russell; Robin Berjon. W3C. <a href="https://www.w3.org/TR/dom/" property="dc:references"><cite>W3C DOM4</cite></a>. 19 November 2015. W3C Recommendation. URL: <a href="https://www.w3.org/TR/dom/" property="dc:references">https://www.w3.org/TR/dom/</a>
        </dd><dt id="bib-DOM3CORE">[DOM3CORE]</dt>
        <dd>Arnaud Le Hors; Philippe Le Hégaret; Lauren Wood; Gavin Nicol; Jonathan Robie; Mike Champion; Steven B Byrne et al. W3C. <a href="https://www.w3.org/TR/DOM-Level-3-Core/" property="dc:references"><cite>Document Object Model (DOM) Level 3 Core Specification</cite></a>. 7 April 2004. W3C Recommendation. URL: <a href="https://www.w3.org/TR/DOM-Level-3-Core/" property="dc:references">https://www.w3.org/TR/DOM-Level-3-Core/</a>
        </dd><dt id="bib-HTML5">[HTML5]</dt>
        <dd>Ian Hickson; Robin Berjon; Steve Faulkner; Travis Leithead; Erika Doyle Navara; Edward O'Connor; Silvia Pfeiffer. W3C. <a href="https://www.w3.org/TR/html5/" property="dc:references"><cite>HTML5</cite></a>. 28 October 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/html5/" property="dc:references">https://www.w3.org/TR/html5/</a>
        </dd><dt id="bib-OMGIDL">[OMGIDL]</dt>
        <dd>Object Management Group. <a href="http://www.omg.org/cgi-bin/doc?formal/08-01-04.pdf" property="dc:references"><cite>CORBA 3.1 – OMG IDL Syntax and Semantics chapter</cite></a>. January 2008. URL: <a href="http://www.omg.org/cgi-bin/doc?formal/08-01-04.pdf" property="dc:references">http://www.omg.org/cgi-bin/doc?formal/08-01-04.pdf</a>
        </dd><dt id="bib-TYPEDARRAYS">[TYPEDARRAYS]</dt>
        <dd>V. Vukicevic; K. Russell. The Khronos Group. <a href="https://www.khronos.org/registry/typedarray/specs/1.0/" property="dc:requires"><cite>Typed Array Specification</cite></a>. 8 February 2011. URL: <a href="https://www.khronos.org/registry/typedarray/specs/1.0/" property="dc:requires">https://www.khronos.org/registry/typedarray/specs/1.0/</a>
        </dd><dt id="bib-WEBIDL">[WEBIDL]</dt>
        <dd><a href="https://heycam.github.io/webidl/" property="dc:references"><cite>WebIDL</cite></a>. URL: <a href="https://heycam.github.io/webidl/" property="dc:references">https://heycam.github.io/webidl/</a>
        </dd><dt id="bib-XMLNS">[XMLNS]</dt>
        <dd>Tim Bray; Dave Hollander; Andrew Layman; Richard Tobin; Henry Thompson et al. W3C. <a href="https://www.w3.org/TR/xml-names" property="dc:references"><cite>Namespaces in XML 1.0 (Third Edition)</cite></a>. 8 December 2009. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xml-names" property="dc:references">https://www.w3.org/TR/xml-names</a>
        </dd>
      </dl>
    </section>
  </section>
  <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to Top">↑</abbr></a></p>
  <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
</body>
</html>
